/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

var o6=Object.create;var sh=Object.defineProperty;var a6=Object.getOwnPropertyDescriptor;var u6=Object.getOwnPropertyNames;var l6=Object.getPrototypeOf,c6=Object.prototype.hasOwnProperty;var f6=(t,e)=>()=>(t&&(e=t(t=0)),e);var M=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ZC=(t,e)=>{for(var r in e)sh(t,r,{get:e[r],enumerable:!0})},QC=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of u6(e))!c6.call(t,i)&&i!==r&&sh(t,i,{get:()=>e[i],enumerable:!(n=a6(e,i))||n.enumerable});return t};var Ce=(t,e,r)=>(r=t!=null?o6(l6(t)):{},QC(e||!t||!t.__esModule?sh(r,"default",{value:t,enumerable:!0}):r,t)),Pt=t=>QC(sh({},"__esModule",{value:!0}),t);var CD=M((Vse,xD)=>{var Rr=require("fs"),Kl=require("path");xD.exports=Ph;Ph.ncp=Ph;function Ph(t,e,r,n){var i=n;n||(i=r,r={});var s=process.cwd(),o=Kl.resolve(s,t),a=Kl.resolve(s,e),u=r.filter,f=r.rename,c=r.transform,d=r.clobber!==!1,p=r.modified,l=r.dereference,h=null,y=0,g=0,v=0,b=r.limit||Ph.limit||16;b=b<1?1:b>512?512:b,x(o);function x(T){if(y++,u){if(u instanceof RegExp){if(!u.test(T))return z(!0)}else if(typeof u=="function"&&!u(T))return z(!0)}return E(T)}function E(T){var W=l?Rr.stat:Rr.lstat;if(v>=b)return setImmediate(function(){E(T)});v++,W(T,function(L,$){var Z={};if(L)return X(L);if(Z.name=T,Z.mode=$.mode,Z.mtime=$.mtime,Z.atime=$.atime,$.isDirectory())return V(Z);if($.isFile())return S(Z);if($.isSymbolicLink())return R(T)})}function S(T){var W=T.name.replace(o,a);f&&(W=f(W)),K(W,function(L){if(L)return F(T,W);if(d&&P(W,function(){F(T,W)}),p){var $=l?Rr.stat:Rr.lstat;$(W,function(Z,ie){if(T.mtime.getTime()>ie.mtime.getTime())F(T,W);else return z()})}else return z()})}function F(T,W){var L=Rr.createReadStream(T.name),$=Rr.createWriteStream(W,{mode:T.mode});L.on("error",X),$.on("error",X),c?c(L,$,T):$.on("open",function(){L.pipe($)}),$.once("finish",function(){p&&Rr.utimesSync(W,T.atime,T.mtime),z()})}function P(T,W){Rr.unlink(T,function(L){return L?X(L):W()})}function V(T){var W=T.name.replace(o,a);K(W,function(L){if(L)return H(T,W);j(T.name)})}function H(T,W){Rr.mkdir(W,T.mode,function(L){if(L)return X(L);j(T.name)})}function j(T){Rr.readdir(T,function(W,L){return W?X(W):(L.forEach(function($){x(Kl.join(T,$))}),z())})}function R(T){var W=T.replace(o,a);Rr.readlink(T,function(L,$){if(L)return X(L);N($,W)})}function N(T,W){l&&(T=Kl.resolve(s,T)),K(W,function(L){if(L)return J(T,W);Rr.readlink(W,function($,Z){return $?X($):(l&&(Z=Kl.resolve(s,Z)),Z===T?z():P(W,function(){J(T,W)}))})})}function J(T,W){Rr.symlink(T,W,function(L){return L?X(L):z()})}function K(T,W){Rr.lstat(T,function(L){return L&&L.code==="ENOENT"?W(!0):W(!1)})}function X(T){return r.stopOnError?i(T):(!h&&r.errs?h=Rr.createWriteStream(r.errs):h||(h=[]),typeof h.write>"u"?h.push(T):h.write(T.stack+`

`),z())}function z(T){if(T||v--,g++,y===g&&v===0&&i!==void 0)return i(h||null)}}});var _D=M((Yse,FD)=>{"use strict";FD.exports=function t(e){var r=arguments.length;if(typeof e=="function"&&e.length===1){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(a){if(n==null)throw new TypeError("partial sink should only be called once!");var u=n;switch(n=null,r){case 1:return t(a,u[0]);case 2:return t(a,u[0],u[1]);case 3:return t(a,u[0],u[1],u[2]);case 4:return t(a,u[0],u[1],u[2],u[3]);default:return u.unshift(a),t.apply(null,u)}}}var s=e;s&&typeof s.source=="function"&&(s=s.source);for(var i=1;i<r;i++){var o=arguments[i];typeof o=="function"?s=o(s):o&&typeof o=="object"&&(o.sink(s),s=o.source)}return s}});var ID=M((Qse,kD)=>{var Zse=kD.exports=function(t){(function e(){var r=!0,n=!1,i=!1;do i=!0,r=!1,t.call(this,function(){i?r=!0:e()}),i=!1;while(r)})()}});var RD=M((Ki,OD)=>{var eoe=_D(),r8=ID();function PD(t){t.destroy?t.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function TD(t,e,r){var n,i=!1,s;function o(){s||(s=!0,r&&r(n===!0?null:n))}function a(){i||(i=!0,f(),n?o():t(n=!0,o))}function u(c){f(),n||t(n=c,o)}function f(){e.on("finish",a),e.removeListener("close",a),e.removeListener("error",u)}e.on("close",a),e.on("finish",a),e.on("error",u),process.nextTick(function(){r8(function(c){t(null,function(d,p){if(n=n||d,d===!0)return e._isStdio?o():e.end();if(n=n||d)return PD(e),o(n);if(e._isStdio)e.write(p,function(){c()});else{var l=e.write(p);l===!1?e.once("drain",c):c()}})})})}function n8(t){var e=!1,r=!1,n;function i(){var s=t.read();if(s!==null&&n){var o=n;n=null,o(null,s)}}return t.on("readable",function(){r=!0,n&&i()}).on("end",function(){e=!0,n&&n(e)}).on("error",function(s){e=s,n&&n(e)}),function(s,o){n=o,e?o(e):r&&i()}}function Oh(t){var e=[],r=[],n,i=!1,s;function o(){for(;(e.length||n)&&r.length;)r.shift()(e.length?null:n,e.shift());!e.length&&i&&(i=!1,t.resume())}return t.on("data",function(a){e.push(a),o(),e.length&&t.pause&&(i=!0,t.pause())}),t.on("end",function(){n=!0,o()}),t.on("close",function(){n=!0,o()}),t.on("error",function(a){n=a,o()}),function(a,u){if(!u)throw new Error("*must* provide cb");if(a){let c=function(){for(;r.length;)r.shift()(a);u(a)};var f=c;if(n)return c();t.once("close",c),PD(t)}else r.push(u),o()}}var i8=Oh,Rh=function(t,e){return function(r){return TD(r,t,e)}},Bh=function(t){return Oh(t)};Ki=OD.exports=function(t,e){return t.writable&&t.write?t.readable?function(r){return TD(r,t,e),Oh(t)}:Rh(t,e):Bh(t)};Ki.sink=Rh;Ki.source=Bh;Ki.read=i8;Ki.read1=Oh;Ki.read2=n8;Ki.duplex=function(t,e){return{source:Bh(t),sink:Rh(t,e)}};Ki.transform=function(t){return function(e){var r=Bh(t);return Rh(t)(e),r}}});var i1=M((gae,n1)=>{"use strict";n1.exports=function(e){return e.map(function(r){return r&&typeof r=="object"?r.op.replace(/(.)/g,"\\$1"):/["\s]/.test(r)&&!/'/.test(r)?"'"+r.replace(/(['\\])/g,"\\$1")+"'":/["'\s]/.test(r)?'"'+r.replace(/(["\\$`!])/g,"\\$1")+'"':String(r).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")}).join(" ")}});var a1=M((yae,o1)=>{"use strict";var fy="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",s1="|&;()<> \\t",h4=`(\\\\['"`+s1+`]|[^\\s'"`+s1+"])+",d4='"((\\\\"|[^"])*?)"',p4="'((\\\\'|[^'])*?)'",qo="";for(hy=0;hy<4;hy++)qo+=(Math.pow(16,8)*Math.random()).toString(16);var hy;function m4(t,e,r){var n=new RegExp(["("+fy+")","("+h4+"|"+d4+"|"+p4+")*"].join("|"),"g"),i=t.match(n).filter(Boolean);if(!i)return[];e||(e={}),r||(r={});var s=!1;function o(a,u,f){var c=typeof e=="function"?e(f):e[f];return c===void 0&&f!=""?c="":c===void 0&&(c="$"),typeof c=="object"?u+qo+JSON.stringify(c)+qo:u+c}return i.map(function(a,u){if(s)return;if(RegExp("^"+fy+"$").test(a))return{op:a};var f="'",c='"',d="$",p=r.escape||"\\",l=!1,h=!1,y="",g=!1,v;function b(){v+=1;var E,S;if(a.charAt(v)==="{"){if(v+=1,a.charAt(v)==="}")throw new Error("Bad substitution: "+a.substr(v-2,3));if(E=a.indexOf("}",v),E<0)throw new Error("Bad substitution: "+a.substr(v));S=a.substr(v,E-v),v=E}else/[*@#?$!_-]/.test(a.charAt(v))?(S=a.charAt(v),v+=1):(E=a.substr(v).match(/[^\w\d_]/),E?(S=a.substr(v,E.index),v+=E.index-1):(S=a.substr(v),v=a.length));return o(null,"",S)}for(v=0;v<a.length;v++){var x=a.charAt(v);if(g=g||!l&&(x==="*"||x==="?"),h)y+=x,h=!1;else if(l)x===l?l=!1:l==f?y+=x:x===p?(v+=1,x=a.charAt(v),x===c||x===p||x===d?y+=x:y+=p+x):x===d?y+=b():y+=x;else if(x===c||x===f)l=x;else{if(RegExp("^"+fy+"$").test(x))return{op:a};if(/^#$/.test(x))return s=!0,y.length?[y,{comment:a.slice(v+1)+i.slice(u+1).join(" ")}]:[{comment:a.slice(v+1)+i.slice(u+1).join(" ")}];x===p?h=!0:x===d?y+=b():y+=x}}return g?{op:"glob",pattern:y}:y}).reduce(function(a,u){return u===void 0?a:a.concat(u)},[])}o1.exports=function(e,r,n){var i=m4(e,r,n);return typeof r!="function"?i:i.reduce(function(s,o){if(typeof o=="object")return s.concat(o);var a=o.split(RegExp("("+qo+".*?"+qo+")","g"));return a.length===1?s.concat(a[0]):s.concat(a.filter(Boolean).map(function(u){return RegExp("^"+qo).test(u)?JSON.parse(u.split(qo)[1]):u}))},[])}});var u1=M(dy=>{"use strict";dy.quote=i1();dy.parse=a1()});var nu=M((Oae,p1)=>{"use strict";var d1=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);p1.exports=t=>t?Object.keys(t).map(e=>[d1.has(e)?d1.get(e):e,t[e]]).reduce((e,r)=>(e[r[0]]=r[1],e),Object.create(null)):{}});var ad=M((Rae,S1)=>{"use strict";var m1=typeof process=="object"&&process?process:{stdout:null,stderr:null},y4=require("events"),g1=require("stream"),v4=require("string_decoder"),y1=v4.StringDecoder,Qi=Symbol("EOF"),es=Symbol("maybeEmitEnd"),qs=Symbol("emittedEnd"),td=Symbol("emittingEnd"),ic=Symbol("emittedError"),rd=Symbol("closed"),v1=Symbol("read"),nd=Symbol("flush"),E1=Symbol("flushChunk"),Kr=Symbol("encoding"),ts=Symbol("decoder"),id=Symbol("flowing"),sc=Symbol("paused"),iu=Symbol("resume"),jt=Symbol("buffer"),Pi=Symbol("pipes"),tr=Symbol("bufferLength"),yy=Symbol("bufferPush"),vy=Symbol("bufferShift"),ur=Symbol("objectMode"),$t=Symbol("destroyed"),Ey=Symbol("error"),by=Symbol("emitData"),b1=Symbol("emitEnd"),wy=Symbol("emitEnd2"),rs=Symbol("async"),xy=Symbol("abort"),sd=Symbol("aborted"),zo=Symbol("signal"),oc=t=>Promise.resolve().then(t),C1=global._MP_NO_ITERATOR_SYMBOLS_!=="1",w1=C1&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),x1=C1&&Symbol.iterator||Symbol("iterator not implemented"),E4=t=>t==="end"||t==="finish"||t==="prefinish",b4=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,w4=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),od=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[iu](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Cy=class extends od{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},ac=class extends g1{constructor(e){super(),this[id]=!1,this[sc]=!1,this[Pi]=[],this[jt]=[],this[ur]=e&&e.objectMode||!1,this[ur]?this[Kr]=null:this[Kr]=e&&e.encoding||null,this[Kr]==="buffer"&&(this[Kr]=null),this[rs]=e&&!!e.async||!1,this[ts]=this[Kr]?new y1(this[Kr]):null,this[Qi]=!1,this[qs]=!1,this[td]=!1,this[rd]=!1,this[ic]=null,this.writable=!0,this.readable=!0,this[tr]=0,this[$t]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[jt]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Pi]}),this[zo]=e&&e.signal,this[sd]=!1,this[zo]&&(this[zo].addEventListener("abort",()=>this[xy]()),this[zo].aborted&&this[xy]())}get bufferLength(){return this[tr]}get encoding(){return this[Kr]}set encoding(e){if(this[ur])throw new Error("cannot set encoding in objectMode");if(this[Kr]&&e!==this[Kr]&&(this[ts]&&this[ts].lastNeed||this[tr]))throw new Error("cannot change encoding");this[Kr]!==e&&(this[ts]=e?new y1(e):null,this[jt].length&&(this[jt]=this[jt].map(r=>this[ts].write(r)))),this[Kr]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[ur]}set objectMode(e){this[ur]=this[ur]||!!e}get async(){return this[rs]}set async(e){this[rs]=this[rs]||!!e}[xy](){this[sd]=!0,this.emit("abort",this[zo].reason),this.destroy(this[zo].reason)}get aborted(){return this[sd]}set aborted(e){}write(e,r,n){if(this[sd])return!1;if(this[Qi])throw new Error("write after end");if(this[$t])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[rs]?oc:s=>s();return!this[ur]&&!Buffer.isBuffer(e)&&(w4(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):b4(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[ur]?(this.flowing&&this[tr]!==0&&this[nd](!0),this.flowing?this.emit("data",e):this[yy](e),this[tr]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[Kr]&&!this[ts].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Kr]&&(e=this[ts].write(e)),this.flowing&&this[tr]!==0&&this[nd](!0),this.flowing?this.emit("data",e):this[yy](e),this[tr]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[tr]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[$t])return null;if(this[tr]===0||e===0||e>this[tr])return this[es](),null;this[ur]&&(e=null),this[jt].length>1&&!this[ur]&&(this.encoding?this[jt]=[this[jt].join("")]:this[jt]=[Buffer.concat(this[jt],this[tr])]);let r=this[v1](e||null,this[jt][0]);return this[es](),r}[v1](e,r){return e===r.length||e===null?this[vy]():(this[jt][0]=r.slice(e),r=r.slice(0,e),this[tr]-=e),this.emit("data",r),!this[jt].length&&!this[Qi]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[Qi]=!0,this.writable=!1,(this.flowing||!this[sc])&&this[es](),this}[iu](){this[$t]||(this[sc]=!1,this[id]=!0,this.emit("resume"),this[jt].length?this[nd]():this[Qi]?this[es]():this.emit("drain"))}resume(){return this[iu]()}pause(){this[id]=!1,this[sc]=!0}get destroyed(){return this[$t]}get flowing(){return this[id]}get paused(){return this[sc]}[yy](e){this[ur]?this[tr]+=1:this[tr]+=e.length,this[jt].push(e)}[vy](){return this[ur]?this[tr]-=1:this[tr]-=this[jt][0].length,this[jt].shift()}[nd](e){do;while(this[E1](this[vy]())&&this[jt].length);!e&&!this[jt].length&&!this[Qi]&&this.emit("drain")}[E1](e){return this.emit("data",e),this.flowing}pipe(e,r){if(this[$t])return;let n=this[qs];return r=r||{},e===m1.stdout||e===m1.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[Pi].push(r.proxyErrors?new Cy(this,e,r):new od(this,e,r)),this[rs]?oc(()=>this[iu]()):this[iu]()),e}unpipe(e){let r=this[Pi].find(n=>n.dest===e);r&&(this[Pi].splice(this[Pi].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this[Pi].length&&!this.flowing?this[iu]():e==="readable"&&this[tr]!==0?super.emit("readable"):E4(e)&&this[qs]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[ic]&&(this[rs]?oc(()=>r.call(this,this[ic])):r.call(this,this[ic])),n}get emittedEnd(){return this[qs]}[es](){!this[td]&&!this[qs]&&!this[$t]&&this[jt].length===0&&this[Qi]&&(this[td]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[rd]&&this.emit("close"),this[td]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==$t&&this[$t])return;if(e==="data")return!this[ur]&&!r?!1:this[rs]?oc(()=>this[by](r)):this[by](r);if(e==="end")return this[b1]();if(e==="close"){if(this[rd]=!0,!this[qs]&&!this[$t])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[ic]=r,super.emit(Ey,r);let s=!this[zo]||this.listeners("error").length?super.emit("error",r):!1;return this[es](),s}else if(e==="resume"){let s=super.emit("resume");return this[es](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[es](),i}[by](e){for(let n of this[Pi])n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[es](),r}[b1](){this[qs]||(this[qs]=!0,this.readable=!1,this[rs]?oc(()=>this[wy]()):this[wy]())}[wy](){if(this[ts]){let r=this[ts].end();if(r){for(let n of this[Pi])n.dest.write(r);super.emit("data",r)}}for(let r of this[Pi])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[ur]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[ur]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[ur]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[ur]?Promise.reject(new Error("cannot concat in objectMode")):this[Kr]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on($t,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[w1](){let e=!1,r=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[Qi])return r();let s=null,o=null,a=d=>{this.removeListener("data",u),this.removeListener("end",f),this.removeListener($t,c),r(),o(d)},u=d=>{this.removeListener("error",a),this.removeListener("end",f),this.removeListener($t,c),this.pause(),s({value:d,done:!!this[Qi]})},f=()=>{this.removeListener("error",a),this.removeListener("data",u),this.removeListener($t,c),r(),s({done:!0})},c=()=>a(new Error("stream destroyed"));return new Promise((d,p)=>{o=p,s=d,this.once($t,c),this.once("error",a),this.once("end",f),this.once("data",u)})},throw:r,return:r,[w1](){return this}}}[x1](){let e=!1,r=()=>(this.pause(),this.removeListener(Ey,r),this.removeListener($t,r),this.removeListener("end",r),e=!0,{done:!0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{value:i}};return this.once("end",r),this.once(Ey,r),this.once($t,r),{next:n,throw:r,return:r,[x1](){return this}}}destroy(e){return this[$t]?(e?this.emit("error",e):this.emit($t),this):(this[$t]=!0,this[jt].length=0,this[tr]=0,typeof this.close=="function"&&!this[rd]&&this.close(),e?this.emit("error",e):this.emit($t),this)}static isStream(e){return!!e&&(e instanceof ac||e instanceof g1||e instanceof y4&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};S1.exports=ac});var A1=M((Bae,D1)=>{var x4=require("zlib").constants||{ZLIB_VERNUM:4736};D1.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},x4))});var L1=M((Lae,B1)=>{"use strict";var F1=typeof process=="object"&&process?process:{stdout:null,stderr:null},C4=require("events"),_1=require("stream"),k1=require("string_decoder").StringDecoder,ns=Symbol("EOF"),is=Symbol("maybeEmitEnd"),Vs=Symbol("emittedEnd"),ud=Symbol("emittingEnd"),uc=Symbol("emittedError"),ld=Symbol("closed"),I1=Symbol("read"),cd=Symbol("flush"),P1=Symbol("flushChunk"),Xr=Symbol("encoding"),ss=Symbol("decoder"),fd=Symbol("flowing"),lc=Symbol("paused"),su=Symbol("resume"),rr=Symbol("bufferLength"),Sy=Symbol("bufferPush"),Dy=Symbol("bufferShift"),xr=Symbol("objectMode"),Cr=Symbol("destroyed"),Ay=Symbol("emitData"),T1=Symbol("emitEnd"),Fy=Symbol("emitEnd2"),os=Symbol("async"),cc=t=>Promise.resolve().then(t),O1=global._MP_NO_ITERATOR_SYMBOLS_!=="1",S4=O1&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),D4=O1&&Symbol.iterator||Symbol("iterator not implemented"),A4=t=>t==="end"||t==="finish"||t==="prefinish",F4=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,_4=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),hd=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[su](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},_y=class extends hd{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}};B1.exports=class R1 extends _1{constructor(e){super(),this[fd]=!1,this[lc]=!1,this.pipes=[],this.buffer=[],this[xr]=e&&e.objectMode||!1,this[xr]?this[Xr]=null:this[Xr]=e&&e.encoding||null,this[Xr]==="buffer"&&(this[Xr]=null),this[os]=e&&!!e.async||!1,this[ss]=this[Xr]?new k1(this[Xr]):null,this[ns]=!1,this[Vs]=!1,this[ud]=!1,this[ld]=!1,this[uc]=null,this.writable=!0,this.readable=!0,this[rr]=0,this[Cr]=!1}get bufferLength(){return this[rr]}get encoding(){return this[Xr]}set encoding(e){if(this[xr])throw new Error("cannot set encoding in objectMode");if(this[Xr]&&e!==this[Xr]&&(this[ss]&&this[ss].lastNeed||this[rr]))throw new Error("cannot change encoding");this[Xr]!==e&&(this[ss]=e?new k1(e):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[ss].write(r)))),this[Xr]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[xr]}set objectMode(e){this[xr]=this[xr]||!!e}get async(){return this[os]}set async(e){this[os]=this[os]||!!e}write(e,r,n){if(this[ns])throw new Error("write after end");if(this[Cr])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[os]?cc:s=>s();return!this[xr]&&!Buffer.isBuffer(e)&&(_4(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):F4(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[xr]?(this.flowing&&this[rr]!==0&&this[cd](!0),this.flowing?this.emit("data",e):this[Sy](e),this[rr]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[Xr]&&!this[ss].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Xr]&&(e=this[ss].write(e)),this.flowing&&this[rr]!==0&&this[cd](!0),this.flowing?this.emit("data",e):this[Sy](e),this[rr]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[rr]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[Cr])return null;if(this[rr]===0||e===0||e>this[rr])return this[is](),null;this[xr]&&(e=null),this.buffer.length>1&&!this[xr]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[rr])]);let r=this[I1](e||null,this.buffer[0]);return this[is](),r}[I1](e,r){return e===r.length||e===null?this[Dy]():(this.buffer[0]=r.slice(e),r=r.slice(0,e),this[rr]-=e),this.emit("data",r),!this.buffer.length&&!this[ns]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[ns]=!0,this.writable=!1,(this.flowing||!this[lc])&&this[is](),this}[su](){this[Cr]||(this[lc]=!1,this[fd]=!0,this.emit("resume"),this.buffer.length?this[cd]():this[ns]?this[is]():this.emit("drain"))}resume(){return this[su]()}pause(){this[fd]=!1,this[lc]=!0}get destroyed(){return this[Cr]}get flowing(){return this[fd]}get paused(){return this[lc]}[Sy](e){this[xr]?this[rr]+=1:this[rr]+=e.length,this.buffer.push(e)}[Dy](){return this.buffer.length&&(this[xr]?this[rr]-=1:this[rr]-=this.buffer[0].length),this.buffer.shift()}[cd](e){do;while(this[P1](this[Dy]()));!e&&!this.buffer.length&&!this[ns]&&this.emit("drain")}[P1](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,r){if(this[Cr])return;let n=this[Vs];return r=r||{},e===F1.stdout||e===F1.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this.pipes.push(r.proxyErrors?new _y(this,e,r):new hd(this,e,r)),this[os]?cc(()=>this[su]()):this[su]()),e}unpipe(e){let r=this.pipes.find(n=>n.dest===e);r&&(this.pipes.splice(this.pipes.indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this.pipes.length&&!this.flowing?this[su]():e==="readable"&&this[rr]!==0?super.emit("readable"):A4(e)&&this[Vs]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[uc]&&(this[os]?cc(()=>r.call(this,this[uc])):r.call(this,this[uc])),n}get emittedEnd(){return this[Vs]}[is](){!this[ud]&&!this[Vs]&&!this[Cr]&&this.buffer.length===0&&this[ns]&&(this[ud]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ld]&&this.emit("close"),this[ud]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==Cr&&this[Cr])return;if(e==="data")return r?this[os]?cc(()=>this[Ay](r)):this[Ay](r):!1;if(e==="end")return this[T1]();if(e==="close"){if(this[ld]=!0,!this[Vs]&&!this[Cr])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[uc]=r;let s=super.emit("error",r);return this[is](),s}else if(e==="resume"){let s=super.emit("resume");return this[is](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[is](),i}[Ay](e){for(let n of this.pipes)n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[is](),r}[T1](){this[Vs]||(this[Vs]=!0,this.readable=!1,this[os]?cc(()=>this[Fy]()):this[Fy]())}[Fy](){if(this[ss]){let r=this[ss].end();if(r){for(let n of this.pipes)n.dest.write(r);super.emit("data",r)}}for(let r of this.pipes)r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[xr]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[xr]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[xr]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[xr]?Promise.reject(new Error("cannot concat in objectMode")):this[Xr]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(Cr,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[S4](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[ns])return Promise.resolve({done:!0});let n=null,i=null,s=f=>{this.removeListener("data",o),this.removeListener("end",a),i(f)},o=f=>{this.removeListener("error",s),this.removeListener("end",a),this.pause(),n({value:f,done:!!this[ns]})},a=()=>{this.removeListener("error",s),this.removeListener("data",o),n({done:!0})},u=()=>s(new Error("stream destroyed"));return new Promise((f,c)=>{i=c,n=f,this.once(Cr,u),this.once("error",s),this.once("end",a),this.once("data",o)})}}}[D4](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(e){return this[Cr]?(e?this.emit("error",e):this.emit(Cr),this):(this[Cr]=!0,this.buffer.length=0,this[rr]=0,typeof this.close=="function"&&!this[ld]&&this.close(),e?this.emit("error",e):this.emit(Cr),this)}static isStream(e){return!!e&&(e instanceof R1||e instanceof _1||e instanceof C4&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var Hy=M(vn=>{"use strict";var Oy=require("assert"),Hs=require("buffer").Buffer,j1=require("zlib"),Wo=vn.constants=A1(),k4=L1(),N1=Hs.concat,Go=Symbol("_superWrite"),au=class extends Error{constructor(e){super("zlib: "+e.message),this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},I4=Symbol("opts"),fc=Symbol("flushFlag"),M1=Symbol("finishFlushFlag"),Vy=Symbol("fullFlushFlag"),mt=Symbol("handle"),dd=Symbol("onError"),ou=Symbol("sawError"),ky=Symbol("level"),Iy=Symbol("strategy"),Py=Symbol("ended"),Nae=Symbol("_defaultFullFlush"),pd=class extends k4{constructor(e,r){if(!e||typeof e!="object")throw new TypeError("invalid options for ZlibBase constructor");super(e),this[ou]=!1,this[Py]=!1,this[I4]=e,this[fc]=e.flush,this[M1]=e.finishFlush;try{this[mt]=new j1[r](e)}catch(n){throw new au(n)}this[dd]=n=>{this[ou]||(this[ou]=!0,this.close(),this.emit("error",n))},this[mt].on("error",n=>this[dd](new au(n))),this.once("end",()=>this.close)}close(){this[mt]&&(this[mt].close(),this[mt]=null,this.emit("close"))}reset(){if(!this[ou])return Oy(this[mt],"zlib binding closed"),this[mt].reset()}flush(e){this.ended||(typeof e!="number"&&(e=this[Vy]),this.write(Object.assign(Hs.alloc(0),{[fc]:e})))}end(e,r,n){return e&&this.write(e,r),this.flush(this[M1]),this[Py]=!0,super.end(null,null,n)}get ended(){return this[Py]}write(e,r,n){if(typeof r=="function"&&(n=r,r="utf8"),typeof e=="string"&&(e=Hs.from(e,r)),this[ou])return;Oy(this[mt],"zlib binding closed");let i=this[mt]._handle,s=i.close;i.close=()=>{};let o=this[mt].close;this[mt].close=()=>{},Hs.concat=f=>f;let a;try{let f=typeof e[fc]=="number"?e[fc]:this[fc];a=this[mt]._processChunk(e,f),Hs.concat=N1}catch(f){Hs.concat=N1,this[dd](new au(f))}finally{this[mt]&&(this[mt]._handle=i,i.close=s,this[mt].close=o,this[mt].removeAllListeners("error"))}this[mt]&&this[mt].on("error",f=>this[dd](new au(f)));let u;if(a)if(Array.isArray(a)&&a.length>0){u=this[Go](Hs.from(a[0]));for(let f=1;f<a.length;f++)u=this[Go](a[f])}else u=this[Go](Hs.from(a));return n&&n(),u}[Go](e){return super.write(e)}},as=class extends pd{constructor(e,r){e=e||{},e.flush=e.flush||Wo.Z_NO_FLUSH,e.finishFlush=e.finishFlush||Wo.Z_FINISH,super(e,r),this[Vy]=Wo.Z_FULL_FLUSH,this[ky]=e.level,this[Iy]=e.strategy}params(e,r){if(!this[ou]){if(!this[mt])throw new Error("cannot switch params when binding is closed");if(!this[mt].params)throw new Error("not supported in this implementation");if(this[ky]!==e||this[Iy]!==r){this.flush(Wo.Z_SYNC_FLUSH),Oy(this[mt],"zlib binding closed");let n=this[mt].flush;this[mt].flush=(i,s)=>{this.flush(i),s()};try{this[mt].params(e,r)}finally{this[mt].flush=n}this[mt]&&(this[ky]=e,this[Iy]=r)}}}},Ry=class extends as{constructor(e){super(e,"Deflate")}},By=class extends as{constructor(e){super(e,"Inflate")}},Ty=Symbol("_portable"),Ly=class extends as{constructor(e){super(e,"Gzip"),this[Ty]=e&&!!e.portable}[Go](e){return this[Ty]?(this[Ty]=!1,e[9]=255,super[Go](e)):super[Go](e)}},Ny=class extends as{constructor(e){super(e,"Gunzip")}},My=class extends as{constructor(e){super(e,"DeflateRaw")}},jy=class extends as{constructor(e){super(e,"InflateRaw")}},$y=class extends as{constructor(e){super(e,"Unzip")}},md=class extends pd{constructor(e,r){e=e||{},e.flush=e.flush||Wo.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||Wo.BROTLI_OPERATION_FINISH,super(e,r),this[Vy]=Wo.BROTLI_OPERATION_FLUSH}},Uy=class extends md{constructor(e){super(e,"BrotliCompress")}},qy=class extends md{constructor(e){super(e,"BrotliDecompress")}};vn.Deflate=Ry;vn.Inflate=By;vn.Gzip=Ly;vn.Gunzip=Ny;vn.DeflateRaw=My;vn.InflateRaw=jy;vn.Unzip=$y;typeof j1.BrotliCompress=="function"?(vn.BrotliCompress=Uy,vn.BrotliDecompress=qy):vn.BrotliCompress=vn.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var uu=M(($ae,$1)=>{var P4=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;$1.exports=P4!=="win32"?t=>t:t=>t&&t.replace(/\\/g,"/")});var gd=M((qae,U1)=>{"use strict";var T4=ad(),zy=uu(),Wy=Symbol("slurp");U1.exports=class extends T4{constructor(e,r,n){switch(super(),this.pause(),this.extended=r,this.globalExtended=n,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=zy(e.path),this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=zy(e.linkpath),this.uname=e.uname,this.gname=e.gname,r&&this[Wy](r),n&&this[Wy](n,!0)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,i=this.blockRemain;return this.remain=Math.max(0,n-r),this.blockRemain=Math.max(0,i-r),this.ignore?!0:n>=r?super.write(e):super.write(e.slice(0,n))}[Wy](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=n==="path"||n==="linkpath"?zy(e[n]):e[n])}}});var Gy=M(yd=>{"use strict";yd.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);yd.code=new Map(Array.from(yd.name).map(t=>[t[1],t[0]]))});var z1=M((Hae,H1)=>{"use strict";var O4=(t,e)=>{if(Number.isSafeInteger(t))t<0?B4(t,e):R4(t,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},R4=(t,e)=>{e[0]=128;for(var r=e.length;r>1;r--)e[r-1]=t&255,t=Math.floor(t/256)},B4=(t,e)=>{e[0]=255;var r=!1;t=t*-1;for(var n=e.length;n>1;n--){var i=t&255;t=Math.floor(t/256),r?e[n-1]=q1(i):i===0?e[n-1]=0:(r=!0,e[n-1]=V1(i))}},L4=t=>{let e=t[0],r=e===128?M4(t.slice(1,t.length)):e===255?N4(t):null;if(r===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(r))throw Error("parsed number outside of javascript safe integer range");return r},N4=t=>{for(var e=t.length,r=0,n=!1,i=e-1;i>-1;i--){var s=t[i],o;n?o=q1(s):s===0?o=s:(n=!0,o=V1(s)),o!==0&&(r-=o*Math.pow(256,e-i-1))}return r},M4=t=>{for(var e=t.length,r=0,n=e-1;n>-1;n--){var i=t[n];i!==0&&(r+=i*Math.pow(256,e-n-1))}return r},q1=t=>(255^t)&255,V1=t=>(255^t)+1&255;H1.exports={encode:O4,parse:L4}});var cu=M((zae,G1)=>{"use strict";var Jy=Gy(),lu=require("path").posix,W1=z1(),Ky=Symbol("slurp"),En=Symbol("type"),Zy=class{constructor(e,r,n,i){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[En]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,r||0,n,i):e&&this.set(e)}decode(e,r,n,i){if(r||(r=0),!e||!(e.length>=r+512))throw new Error("need 512 bytes for header");if(this.path=Jo(e,r,100),this.mode=zs(e,r+100,8),this.uid=zs(e,r+108,8),this.gid=zs(e,r+116,8),this.size=zs(e,r+124,12),this.mtime=Xy(e,r+136,12),this.cksum=zs(e,r+148,12),this[Ky](n),this[Ky](i,!0),this[En]=Jo(e,r+156,1),this[En]===""&&(this[En]="0"),this[En]==="0"&&this.path.slice(-1)==="/"&&(this[En]="5"),this[En]==="5"&&(this.size=0),this.linkpath=Jo(e,r+157,100),e.slice(r+257,r+265).toString()==="ustar\x0000")if(this.uname=Jo(e,r+265,32),this.gname=Jo(e,r+297,32),this.devmaj=zs(e,r+329,8),this.devmin=zs(e,r+337,8),e[r+475]!==0){let o=Jo(e,r+345,155);this.path=o+"/"+this.path}else{let o=Jo(e,r+345,130);o&&(this.path=o+"/"+this.path),this.atime=Xy(e,r+476,12),this.ctime=Xy(e,r+488,12)}let s=8*32;for(let o=r;o<r+148;o++)s+=e[o];for(let o=r+156;o<r+512;o++)s+=e[o];this.cksumValid=s===this.cksum,this.cksum===null&&s===8*32&&(this.nullBlock=!0)}[Ky](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=e[n])}encode(e,r){if(e||(e=this.block=Buffer.alloc(512),r=0),r||(r=0),!(e.length>=r+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,i=j4(this.path||"",n),s=i[0],o=i[1];this.needPax=i[2],this.needPax=Ko(e,r,100,s)||this.needPax,this.needPax=Ws(e,r+100,8,this.mode)||this.needPax,this.needPax=Ws(e,r+108,8,this.uid)||this.needPax,this.needPax=Ws(e,r+116,8,this.gid)||this.needPax,this.needPax=Ws(e,r+124,12,this.size)||this.needPax,this.needPax=Yy(e,r+136,12,this.mtime)||this.needPax,e[r+156]=this[En].charCodeAt(0),this.needPax=Ko(e,r+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",r+257,8),this.needPax=Ko(e,r+265,32,this.uname)||this.needPax,this.needPax=Ko(e,r+297,32,this.gname)||this.needPax,this.needPax=Ws(e,r+329,8,this.devmaj)||this.needPax,this.needPax=Ws(e,r+337,8,this.devmin)||this.needPax,this.needPax=Ko(e,r+345,n,o)||this.needPax,e[r+475]!==0?this.needPax=Ko(e,r+345,155,o)||this.needPax:(this.needPax=Ko(e,r+345,130,o)||this.needPax,this.needPax=Yy(e,r+476,12,this.atime)||this.needPax,this.needPax=Yy(e,r+488,12,this.ctime)||this.needPax);let a=8*32;for(let u=r;u<r+148;u++)a+=e[u];for(let u=r+156;u<r+512;u++)a+=e[u];return this.cksum=a,Ws(e,r+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let r in e)e[r]!==null&&e[r]!==void 0&&(this[r]=e[r])}get type(){return Jy.name.get(this[En])||this[En]}get typeKey(){return this[En]}set type(e){Jy.code.has(e)?this[En]=Jy.code.get(e):this[En]=e}},j4=(t,e)=>{let n=t,i="",s,o=lu.parse(t).root||".";if(Buffer.byteLength(n)<100)s=[n,i,!1];else{i=lu.dirname(n),n=lu.basename(n);do Buffer.byteLength(n)<=100&&Buffer.byteLength(i)<=e?s=[n,i,!1]:Buffer.byteLength(n)>100&&Buffer.byteLength(i)<=e?s=[n.slice(0,100-1),i,!0]:(n=lu.join(lu.basename(i),n),i=lu.dirname(i));while(i!==o&&!s);s||(s=[t.slice(0,100-1),"",!0])}return s},Jo=(t,e,r)=>t.slice(e,e+r).toString("utf8").replace(/\0.*/,""),Xy=(t,e,r)=>$4(zs(t,e,r)),$4=t=>t===null?null:new Date(t*1e3),zs=(t,e,r)=>t[e]&128?W1.parse(t.slice(e,e+r)):q4(t,e,r),U4=t=>isNaN(t)?null:t,q4=(t,e,r)=>U4(parseInt(t.slice(e,e+r).toString("utf8").replace(/\0.*$/,"").trim(),8)),V4={12:8589934591,8:2097151},Ws=(t,e,r,n)=>n===null?!1:n>V4[r]||n<0?(W1.encode(n,t.slice(e,e+r)),!0):(H4(t,e,r,n),!1),H4=(t,e,r,n)=>t.write(z4(n,r),e,r,"ascii"),z4=(t,e)=>W4(Math.floor(t).toString(8),e),W4=(t,e)=>(t.length===e-1?t:new Array(e-t.length-1).join("0")+t+" ")+"\0",Yy=(t,e,r,n)=>n===null?!1:Ws(t,e,r,n.getTime()/1e3),G4=new Array(156).join("\0"),Ko=(t,e,r,n)=>n===null?!1:(t.write(n+G4,e,r,"utf8"),n.length!==Buffer.byteLength(n)||n.length>r);G1.exports=Zy});var vd=M((Wae,J1)=>{"use strict";var J4=cu(),K4=require("path"),hc=class{constructor(e,r){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=r||!1}encode(){let e=this.encodeBody();if(e==="")return null;let r=Buffer.byteLength(e),n=512*Math.ceil(1+r/512),i=Buffer.allocUnsafe(n);for(let s=0;s<512;s++)i[s]=0;new J4({path:("PaxHeader/"+K4.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:r,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(i),i.write(e,512,r,"utf8");for(let s=r+512;s<i.length;s++)i[s]=0;return i}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let r=this[e]instanceof Date?this[e].getTime()/1e3:this[e],n=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+r+`
`,i=Buffer.byteLength(n),s=Math.floor(Math.log(i)/Math.log(10))+1;return i+s>=Math.pow(10,s)&&(s+=1),s+i+n}};hc.parse=(t,e,r)=>new hc(X4(Y4(t),e),r);var X4=(t,e)=>e?Object.keys(t).reduce((r,n)=>(r[n]=t[n],r),e):t,Y4=t=>t.replace(/\n$/,"").split(`
`).reduce(Z4,Object.create(null)),Z4=(t,e)=>{let r=parseInt(e,10);if(r!==Buffer.byteLength(e)+1)return t;e=e.slice((r+" ").length);let n=e.split("="),i=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!i)return t;let s=n.join("=");return t[i]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(i)?new Date(s*1e3):/^[0-9]+$/.test(s)?+s:s,t};J1.exports=hc});var fu=M((Gae,K1)=>{K1.exports=t=>{let e=t.length-1,r=-1;for(;e>-1&&t.charAt(e)==="/";)r=e,e--;return r===-1?t:t.slice(0,r)}});var Ed=M((Jae,X1)=>{"use strict";X1.exports=t=>class extends t{warn(e,r,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=r instanceof Error&&r.code||e,n.tarCode=e,!this.strict&&n.recoverable!==!1?(r instanceof Error&&(n=Object.assign(r,n),r=r.message),this.emit("warn",n.tarCode,r,n)):r instanceof Error?this.emit("error",Object.assign(r,n)):this.emit("error",Object.assign(new Error(`${e}: ${r}`),n))}}});var ev=M((Xae,Y1)=>{"use strict";var bd=["|","<",">","?",":"],Qy=bd.map(t=>String.fromCharCode(61440+t.charCodeAt(0))),Q4=new Map(bd.map((t,e)=>[t,Qy[e]])),e9=new Map(Qy.map((t,e)=>[t,bd[e]]));Y1.exports={encode:t=>bd.reduce((e,r)=>e.split(r).join(Q4.get(r)),t),decode:t=>Qy.reduce((e,r)=>e.split(r).join(e9.get(r)),t)}});var tv=M((Yae,Q1)=>{var{isAbsolute:t9,parse:Z1}=require("path").win32;Q1.exports=t=>{let e="",r=Z1(t);for(;t9(t)||r.root;){let n=t.charAt(0)==="/"&&t.slice(0,4)!=="//?/"?"/":r.root;t=t.slice(n.length),e+=n,r=Z1(t)}return[e,t]}});var tF=M((Zae,eF)=>{"use strict";eF.exports=(t,e,r)=>(t&=4095,r&&(t=(t|384)&-19),e&&(t&256&&(t|=64),t&32&&(t|=8),t&4&&(t|=1)),t)});var fv=M((tue,mF)=>{"use strict";var uF=ad(),lF=vd(),cF=cu(),Oi=require("fs"),rF=require("path"),Ti=uu(),r9=fu(),fF=(t,e)=>e?(t=Ti(t).replace(/^\.(\/|$)/,""),r9(e)+"/"+t):Ti(t),n9=16*1024*1024,nF=Symbol("process"),iF=Symbol("file"),sF=Symbol("directory"),nv=Symbol("symlink"),oF=Symbol("hardlink"),dc=Symbol("header"),wd=Symbol("read"),iv=Symbol("lstat"),xd=Symbol("onlstat"),sv=Symbol("onread"),ov=Symbol("onreadlink"),av=Symbol("openfile"),uv=Symbol("onopenfile"),Gs=Symbol("close"),Cd=Symbol("mode"),lv=Symbol("awaitDrain"),rv=Symbol("ondrain"),Ri=Symbol("prefix"),aF=Symbol("hadError"),hF=Ed(),i9=ev(),dF=tv(),pF=tF(),Sd=hF(class extends uF{constructor(e,r){if(r=r||{},super(r),typeof e!="string")throw new TypeError("path is required");this.path=Ti(e),this.portable=!!r.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=r.maxReadSize||n9,this.linkCache=r.linkCache||new Map,this.statCache=r.statCache||new Map,this.preservePaths=!!r.preservePaths,this.cwd=Ti(r.cwd||process.cwd()),this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.mtime=r.mtime||null,this.prefix=r.prefix?Ti(r.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,s]=dF(this.path);i&&(this.path=s,n=i)}this.win32=!!r.win32||process.platform==="win32",this.win32&&(this.path=i9.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=Ti(r.absolute||rF.resolve(this.cwd,e)),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[xd](this.statCache.get(this.absolute)):this[iv]()}emit(e,...r){return e==="error"&&(this[aF]=!0),super.emit(e,...r)}[iv](){Oi.lstat(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[xd](r)})}[xd](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=o9(e),this.emit("stat",e),this[nF]()}[nF](){switch(this.type){case"File":return this[iF]();case"Directory":return this[sF]();case"SymbolicLink":return this[nv]();default:return this.end()}}[Cd](e){return pF(e,this.type==="Directory",this.portable)}[Ri](e){return fF(e,this.prefix)}[dc](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new cF({path:this[Ri](this.path),linkpath:this.type==="Link"?this[Ri](this.linkpath):this.linkpath,mode:this[Cd](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new lF({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[Ri](this.path),linkpath:this.type==="Link"?this[Ri](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[sF](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[dc](),this.end()}[nv](){Oi.readlink(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[ov](r)})}[ov](e){this.linkpath=Ti(e),this[dc](),this.end()}[oF](e){this.type="Link",this.linkpath=Ti(rF.relative(this.cwd,e)),this.stat.size=0,this[dc](),this.end()}[iF](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let r=this.linkCache.get(e);if(r.indexOf(this.cwd)===0)return this[oF](r)}this.linkCache.set(e,this.absolute)}if(this[dc](),this.stat.size===0)return this.end();this[av]()}[av](){Oi.open(this.absolute,"r",(e,r)=>{if(e)return this.emit("error",e);this[uv](r)})}[uv](e){if(this.fd=e,this[aF])return this[Gs]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let r=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(r),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[wd]()}[wd](){let{fd:e,buf:r,offset:n,length:i,pos:s}=this;Oi.read(e,r,n,i,s,(o,a)=>{if(o)return this[Gs](()=>this.emit("error",o));this[sv](a)})}[Gs](e){Oi.close(this.fd,e)}[sv](e){if(e<=0&&this.remain>0){let i=new Error("encountered unexpected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Gs](()=>this.emit("error",i))}if(e>this.remain){let i=new Error("did not encounter expected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Gs](()=>this.emit("error",i))}if(e===this.remain)for(let i=e;i<this.length&&e<this.blockRemain;i++)this.buf[i+this.offset]=0,e++,this.remain++;let r=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(r)?this[rv]():this[lv](()=>this[rv]())}[lv](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){let r=new Error("writing more data than expected");return r.path=this.absolute,this.emit("error",r)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[rv](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[Gs](e=>e?this.emit("error",e):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[wd]()}}),cv=class extends Sd{[iv](){this[xd](Oi.lstatSync(this.absolute))}[nv](){this[ov](Oi.readlinkSync(this.absolute))}[av](){this[uv](Oi.openSync(this.absolute,"r"))}[wd](){let e=!0;try{let{fd:r,buf:n,offset:i,length:s,pos:o}=this,a=Oi.readSync(r,n,i,s,o);this[sv](a),e=!1}finally{if(e)try{this[Gs](()=>{})}catch{}}}[lv](e){e()}[Gs](e){Oi.closeSync(this.fd),e()}},s9=hF(class extends uF{constructor(e,r){r=r||{},super(r),this.preservePaths=!!r.preservePaths,this.portable=!!r.portable,this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=r.prefix||null,this.path=Ti(e.path),this.mode=this[Cd](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:r.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=Ti(e.linkpath),typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,s]=dF(this.path);i&&(this.path=s,n=i)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new cF({path:this[Ri](this.path),linkpath:this.type==="Link"?this[Ri](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new lF({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[Ri](this.path),linkpath:this.type==="Link"?this[Ri](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[Ri](e){return fF(e,this.prefix)}[Cd](e){return pF(e,this.type==="Directory",this.portable)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=r,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});Sd.Sync=cv;Sd.Tar=s9;var o9=t=>t.isFile()?"File":t.isDirectory()?"Directory":t.isSymbolicLink()?"SymbolicLink":"Unsupported";mF.exports=Sd});var yF=M((rue,gF)=>{"use strict";gF.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Dd=M((nue,vF)=>{"use strict";vF.exports=nt;nt.Node=Xo;nt.create=nt;function nt(t){var e=this;if(e instanceof nt||(e=new nt),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}nt.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};nt.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};nt.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};nt.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)u9(this,arguments[t]);return this.length};nt.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)l9(this,arguments[t]);return this.length};nt.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};nt.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};nt.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};nt.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};nt.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};nt.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};nt.prototype.map=function(t,e){e=e||this;for(var r=new nt,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};nt.prototype.mapReverse=function(t,e){e=e||this;for(var r=new nt,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};nt.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};nt.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};nt.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};nt.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};nt.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new nt;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};nt.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new nt;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};nt.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=a9(this,i,r[n]);return s};nt.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function a9(t,e,r){var n=e===t.head?new Xo(r,null,e,t):new Xo(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function u9(t,e){t.tail=new Xo(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function l9(t,e){t.head=new Xo(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Xo(t,e,r,n){if(!(this instanceof Xo))return new Xo(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{yF()(nt)}catch{}});var Rd=M((sue,DF)=>{"use strict";var Td=class{constructor(e,r){this.path=e||"./",this.absolute=r,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},c9=ad(),f9=Hy(),h9=gd(),bv=fv(),d9=bv.Sync,p9=bv.Tar,m9=Dd(),EF=Buffer.alloc(1024),_d=Symbol("onStat"),Ad=Symbol("ended"),Bi=Symbol("queue"),hu=Symbol("current"),Yo=Symbol("process"),Fd=Symbol("processing"),bF=Symbol("processJob"),Li=Symbol("jobs"),hv=Symbol("jobDone"),kd=Symbol("addFSEntry"),wF=Symbol("addTarEntry"),gv=Symbol("stat"),yv=Symbol("readdir"),Id=Symbol("onreaddir"),Pd=Symbol("pipe"),xF=Symbol("entry"),dv=Symbol("entryOpt"),vv=Symbol("writeEntryClass"),SF=Symbol("write"),pv=Symbol("ondrain"),Od=require("fs"),CF=require("path"),g9=Ed(),mv=uu(),wv=g9(class extends c9{constructor(e){super(e),e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=mv(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[vv]=bv,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip?(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new f9.Gzip(e.gzip),this.zip.on("data",r=>super.write(r)),this.zip.on("end",r=>super.end()),this.zip.on("drain",r=>this[pv]()),this.on("resume",r=>this.zip.resume())):this.on("drain",this[pv]),this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:r=>!0,this[Bi]=new m9,this[Li]=0,this.jobs=+e.jobs||4,this[Fd]=!1,this[Ad]=!1}[SF](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[Ad]=!0,this[Yo](),this}write(e){if(this[Ad])throw new Error("write after end");return e instanceof h9?this[wF](e):this[kd](e),this.flowing}[wF](e){let r=mv(CF.resolve(this.cwd,e.path));if(!this.filter(e.path,e))e.resume();else{let n=new Td(e.path,r,!1);n.entry=new p9(e,this[dv](n)),n.entry.on("end",i=>this[hv](n)),this[Li]+=1,this[Bi].push(n)}this[Yo]()}[kd](e){let r=mv(CF.resolve(this.cwd,e));this[Bi].push(new Td(e,r)),this[Yo]()}[gv](e){e.pending=!0,this[Li]+=1;let r=this.follow?"stat":"lstat";Od[r](e.absolute,(n,i)=>{e.pending=!1,this[Li]-=1,n?this.emit("error",n):this[_d](e,i)})}[_d](e,r){this.statCache.set(e.absolute,r),e.stat=r,this.filter(e.path,r)||(e.ignore=!0),this[Yo]()}[yv](e){e.pending=!0,this[Li]+=1,Od.readdir(e.absolute,(r,n)=>{if(e.pending=!1,this[Li]-=1,r)return this.emit("error",r);this[Id](e,n)})}[Id](e,r){this.readdirCache.set(e.absolute,r),e.readdir=r,this[Yo]()}[Yo](){if(!this[Fd]){this[Fd]=!0;for(let e=this[Bi].head;e!==null&&this[Li]<this.jobs;e=e.next)if(this[bF](e.value),e.value.ignore){let r=e.next;this[Bi].removeNode(e),e.next=r}this[Fd]=!1,this[Ad]&&!this[Bi].length&&this[Li]===0&&(this.zip?this.zip.end(EF):(super.write(EF),super.end()))}}get[hu](){return this[Bi]&&this[Bi].head&&this[Bi].head.value}[hv](e){this[Bi].shift(),this[Li]-=1,this[Yo]()}[bF](e){if(!e.pending){if(e.entry){e===this[hu]&&!e.piped&&this[Pd](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[_d](e,this.statCache.get(e.absolute)):this[gv](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[Id](e,this.readdirCache.get(e.absolute)):this[yv](e),!e.readdir))){if(e.entry=this[xF](e),!e.entry){e.ignore=!0;return}e===this[hu]&&!e.piped&&this[Pd](e)}}}[dv](e){return{onwarn:(r,n,i)=>this.warn(r,n,i),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[xF](e){this[Li]+=1;try{return new this[vv](e.path,this[dv](e)).on("end",()=>this[hv](e)).on("error",r=>this.emit("error",r))}catch(r){this.emit("error",r)}}[pv](){this[hu]&&this[hu].entry&&this[hu].entry.resume()}[Pd](e){e.piped=!0,e.readdir&&e.readdir.forEach(i=>{let s=e.path,o=s==="./"?"":s.replace(/\/*$/,"/");this[kd](o+i)});let r=e.entry,n=this.zip;n?r.on("data",i=>{n.write(i)||r.pause()}):r.on("data",i=>{super.write(i)||r.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),Ev=class extends wv{constructor(e){super(e),this[vv]=d9}pause(){}resume(){}[gv](e){let r=this.follow?"statSync":"lstatSync";this[_d](e,Od[r](e.absolute))}[yv](e,r){this[Id](e,Od.readdirSync(e.absolute))}[Pd](e){let r=e.entry,n=this.zip;e.readdir&&e.readdir.forEach(i=>{let s=e.path,o=s==="./"?"":s.replace(/\/*$/,"/");this[kd](o+i)}),n?r.on("data",i=>{n.write(i)}):r.on("data",i=>{super[SF](i)})}};wv.Sync=Ev;DF.exports=wv});var BF=M((oue,RF)=>{"use strict";var AF=typeof process=="object"&&process?process:{stdout:null,stderr:null},y9=require("events"),FF=require("stream"),_F=require("string_decoder").StringDecoder,us=Symbol("EOF"),ls=Symbol("maybeEmitEnd"),Js=Symbol("emittedEnd"),Bd=Symbol("emittingEnd"),pc=Symbol("emittedError"),Ld=Symbol("closed"),kF=Symbol("read"),Nd=Symbol("flush"),IF=Symbol("flushChunk"),Yr=Symbol("encoding"),cs=Symbol("decoder"),Md=Symbol("flowing"),mc=Symbol("paused"),du=Symbol("resume"),nr=Symbol("bufferLength"),xv=Symbol("bufferPush"),Cv=Symbol("bufferShift"),Sr=Symbol("objectMode"),Dr=Symbol("destroyed"),Sv=Symbol("emitData"),PF=Symbol("emitEnd"),Dv=Symbol("emitEnd2"),fs=Symbol("async"),gc=t=>Promise.resolve().then(t),TF=global._MP_NO_ITERATOR_SYMBOLS_!=="1",v9=TF&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),E9=TF&&Symbol.iterator||Symbol("iterator not implemented"),b9=t=>t==="end"||t==="finish"||t==="prefinish",w9=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,x9=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),jd=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[du](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Av=class extends jd{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}};RF.exports=class OF extends FF{constructor(e){super(),this[Md]=!1,this[mc]=!1,this.pipes=[],this.buffer=[],this[Sr]=e&&e.objectMode||!1,this[Sr]?this[Yr]=null:this[Yr]=e&&e.encoding||null,this[Yr]==="buffer"&&(this[Yr]=null),this[fs]=e&&!!e.async||!1,this[cs]=this[Yr]?new _F(this[Yr]):null,this[us]=!1,this[Js]=!1,this[Bd]=!1,this[Ld]=!1,this[pc]=null,this.writable=!0,this.readable=!0,this[nr]=0,this[Dr]=!1}get bufferLength(){return this[nr]}get encoding(){return this[Yr]}set encoding(e){if(this[Sr])throw new Error("cannot set encoding in objectMode");if(this[Yr]&&e!==this[Yr]&&(this[cs]&&this[cs].lastNeed||this[nr]))throw new Error("cannot change encoding");this[Yr]!==e&&(this[cs]=e?new _F(e):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[cs].write(r)))),this[Yr]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[Sr]}set objectMode(e){this[Sr]=this[Sr]||!!e}get async(){return this[fs]}set async(e){this[fs]=this[fs]||!!e}write(e,r,n){if(this[us])throw new Error("write after end");if(this[Dr])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[fs]?gc:s=>s();return!this[Sr]&&!Buffer.isBuffer(e)&&(x9(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):w9(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[Sr]?(this.flowing&&this[nr]!==0&&this[Nd](!0),this.flowing?this.emit("data",e):this[xv](e),this[nr]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[Yr]&&!this[cs].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Yr]&&(e=this[cs].write(e)),this.flowing&&this[nr]!==0&&this[Nd](!0),this.flowing?this.emit("data",e):this[xv](e),this[nr]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[nr]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[Dr])return null;if(this[nr]===0||e===0||e>this[nr])return this[ls](),null;this[Sr]&&(e=null),this.buffer.length>1&&!this[Sr]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[nr])]);let r=this[kF](e||null,this.buffer[0]);return this[ls](),r}[kF](e,r){return e===r.length||e===null?this[Cv]():(this.buffer[0]=r.slice(e),r=r.slice(0,e),this[nr]-=e),this.emit("data",r),!this.buffer.length&&!this[us]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[us]=!0,this.writable=!1,(this.flowing||!this[mc])&&this[ls](),this}[du](){this[Dr]||(this[mc]=!1,this[Md]=!0,this.emit("resume"),this.buffer.length?this[Nd]():this[us]?this[ls]():this.emit("drain"))}resume(){return this[du]()}pause(){this[Md]=!1,this[mc]=!0}get destroyed(){return this[Dr]}get flowing(){return this[Md]}get paused(){return this[mc]}[xv](e){this[Sr]?this[nr]+=1:this[nr]+=e.length,this.buffer.push(e)}[Cv](){return this.buffer.length&&(this[Sr]?this[nr]-=1:this[nr]-=this.buffer[0].length),this.buffer.shift()}[Nd](e){do;while(this[IF](this[Cv]()));!e&&!this.buffer.length&&!this[us]&&this.emit("drain")}[IF](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,r){if(this[Dr])return;let n=this[Js];return r=r||{},e===AF.stdout||e===AF.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this.pipes.push(r.proxyErrors?new Av(this,e,r):new jd(this,e,r)),this[fs]?gc(()=>this[du]()):this[du]()),e}unpipe(e){let r=this.pipes.find(n=>n.dest===e);r&&(this.pipes.splice(this.pipes.indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this.pipes.length&&!this.flowing?this[du]():e==="readable"&&this[nr]!==0?super.emit("readable"):b9(e)&&this[Js]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[pc]&&(this[fs]?gc(()=>r.call(this,this[pc])):r.call(this,this[pc])),n}get emittedEnd(){return this[Js]}[ls](){!this[Bd]&&!this[Js]&&!this[Dr]&&this.buffer.length===0&&this[us]&&(this[Bd]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Ld]&&this.emit("close"),this[Bd]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==Dr&&this[Dr])return;if(e==="data")return r?this[fs]?gc(()=>this[Sv](r)):this[Sv](r):!1;if(e==="end")return this[PF]();if(e==="close"){if(this[Ld]=!0,!this[Js]&&!this[Dr])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[pc]=r;let s=super.emit("error",r);return this[ls](),s}else if(e==="resume"){let s=super.emit("resume");return this[ls](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[ls](),i}[Sv](e){for(let n of this.pipes)n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[ls](),r}[PF](){this[Js]||(this[Js]=!0,this.readable=!1,this[fs]?gc(()=>this[Dv]()):this[Dv]())}[Dv](){if(this[cs]){let r=this[cs].end();if(r){for(let n of this.pipes)n.dest.write(r);super.emit("data",r)}}for(let r of this.pipes)r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[Sr]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[Sr]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[Sr]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[Sr]?Promise.reject(new Error("cannot concat in objectMode")):this[Yr]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(Dr,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[v9](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[us])return Promise.resolve({done:!0});let n=null,i=null,s=f=>{this.removeListener("data",o),this.removeListener("end",a),i(f)},o=f=>{this.removeListener("error",s),this.removeListener("end",a),this.pause(),n({value:f,done:!!this[us]})},a=()=>{this.removeListener("error",s),this.removeListener("data",o),n({done:!0})},u=()=>s(new Error("stream destroyed"));return new Promise((f,c)=>{i=c,n=f,this.once(Dr,u),this.once("error",s),this.once("end",a),this.once("data",o)})}}}[E9](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(e){return this[Dr]?(e?this.emit("error",e):this.emit(Dr),this):(this[Dr]=!0,this.buffer.length=0,this[nr]=0,typeof this.close=="function"&&!this[Ld]&&this.close(),e?this.emit("error",e):this.emit(Dr),this)}static isStream(e){return!!e&&(e instanceof OF||e instanceof FF||e instanceof y9&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var wu=M(vc=>{"use strict";var C9=BF(),S9=require("events").EventEmitter,Zr=require("fs"),kv=Zr.writev;if(!kv){let t=process.binding("fs"),e=t.FSReqWrap||t.FSReqCallback;kv=(r,n,i,s)=>{let o=(u,f)=>s(u,f,n),a=new e;a.oncomplete=o,t.writeBuffers(r,n,i,a)}}var Eu=Symbol("_autoClose"),di=Symbol("_close"),yc=Symbol("_ended"),ut=Symbol("_fd"),LF=Symbol("_finished"),Xs=Symbol("_flags"),Fv=Symbol("_flush"),Iv=Symbol("_handleChunk"),Pv=Symbol("_makeBuf"),Hd=Symbol("_mode"),$d=Symbol("_needDrain"),yu=Symbol("_onerror"),bu=Symbol("_onopen"),_v=Symbol("_onread"),mu=Symbol("_onwrite"),Ys=Symbol("_open"),hs=Symbol("_path"),Zo=Symbol("_pos"),Ni=Symbol("_queue"),gu=Symbol("_read"),NF=Symbol("_readSize"),Ks=Symbol("_reading"),Ud=Symbol("_remain"),MF=Symbol("_size"),qd=Symbol("_write"),pu=Symbol("_writing"),Vd=Symbol("_defaultFlag"),vu=Symbol("_errored"),zd=class extends C9{constructor(e,r){if(r=r||{},super(r),this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[vu]=!1,this[ut]=typeof r.fd=="number"?r.fd:null,this[hs]=e,this[NF]=r.readSize||16*1024*1024,this[Ks]=!1,this[MF]=typeof r.size=="number"?r.size:1/0,this[Ud]=this[MF],this[Eu]=typeof r.autoClose=="boolean"?r.autoClose:!0,typeof this[ut]=="number"?this[gu]():this[Ys]()}get fd(){return this[ut]}get path(){return this[hs]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[Ys](){Zr.open(this[hs],"r",(e,r)=>this[bu](e,r))}[bu](e,r){e?this[yu](e):(this[ut]=r,this.emit("open",r),this[gu]())}[Pv](){return Buffer.allocUnsafe(Math.min(this[NF],this[Ud]))}[gu](){if(!this[Ks]){this[Ks]=!0;let e=this[Pv]();if(e.length===0)return process.nextTick(()=>this[_v](null,0,e));Zr.read(this[ut],e,0,e.length,null,(r,n,i)=>this[_v](r,n,i))}}[_v](e,r,n){this[Ks]=!1,e?this[yu](e):this[Iv](r,n)&&this[gu]()}[di](){if(this[Eu]&&typeof this[ut]=="number"){let e=this[ut];this[ut]=null,Zr.close(e,r=>r?this.emit("error",r):this.emit("close"))}}[yu](e){this[Ks]=!0,this[di](),this.emit("error",e)}[Iv](e,r){let n=!1;return this[Ud]-=e,e>0&&(n=super.write(e<r.length?r.slice(0,e):r)),(e===0||this[Ud]<=0)&&(n=!1,this[di](),super.end()),n}emit(e,r){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[ut]=="number"&&this[gu]();break;case"error":return this[vu]?void 0:(this[vu]=!0,super.emit(e,r));default:return super.emit(e,r)}}},Tv=class extends zd{[Ys](){let e=!0;try{this[bu](null,Zr.openSync(this[hs],"r")),e=!1}finally{e&&this[di]()}}[gu](){let e=!0;try{if(!this[Ks]){this[Ks]=!0;do{let r=this[Pv](),n=r.length===0?0:Zr.readSync(this[ut],r,0,r.length,null);if(!this[Iv](n,r))break}while(!0);this[Ks]=!1}e=!1}finally{e&&this[di]()}}[di](){if(this[Eu]&&typeof this[ut]=="number"){let e=this[ut];this[ut]=null,Zr.closeSync(e),this.emit("close")}}},Wd=class extends S9{constructor(e,r){r=r||{},super(r),this.readable=!1,this.writable=!0,this[vu]=!1,this[pu]=!1,this[yc]=!1,this[$d]=!1,this[Ni]=[],this[hs]=e,this[ut]=typeof r.fd=="number"?r.fd:null,this[Hd]=r.mode===void 0?438:r.mode,this[Zo]=typeof r.start=="number"?r.start:null,this[Eu]=typeof r.autoClose=="boolean"?r.autoClose:!0;let n=this[Zo]!==null?"r+":"w";this[Vd]=r.flags===void 0,this[Xs]=this[Vd]?n:r.flags,this[ut]===null&&this[Ys]()}emit(e,r){if(e==="error"){if(this[vu])return;this[vu]=!0}return super.emit(e,r)}get fd(){return this[ut]}get path(){return this[hs]}[yu](e){this[di](),this[pu]=!0,this.emit("error",e)}[Ys](){Zr.open(this[hs],this[Xs],this[Hd],(e,r)=>this[bu](e,r))}[bu](e,r){this[Vd]&&this[Xs]==="r+"&&e&&e.code==="ENOENT"?(this[Xs]="w",this[Ys]()):e?this[yu](e):(this[ut]=r,this.emit("open",r),this[Fv]())}end(e,r){return e&&this.write(e,r),this[yc]=!0,!this[pu]&&!this[Ni].length&&typeof this[ut]=="number"&&this[mu](null,0),this}write(e,r){return typeof e=="string"&&(e=Buffer.from(e,r)),this[yc]?(this.emit("error",new Error("write() after end()")),!1):this[ut]===null||this[pu]||this[Ni].length?(this[Ni].push(e),this[$d]=!0,!1):(this[pu]=!0,this[qd](e),!0)}[qd](e){Zr.write(this[ut],e,0,e.length,this[Zo],(r,n)=>this[mu](r,n))}[mu](e,r){e?this[yu](e):(this[Zo]!==null&&(this[Zo]+=r),this[Ni].length?this[Fv]():(this[pu]=!1,this[yc]&&!this[LF]?(this[LF]=!0,this[di](),this.emit("finish")):this[$d]&&(this[$d]=!1,this.emit("drain"))))}[Fv](){if(this[Ni].length===0)this[yc]&&this[mu](null,0);else if(this[Ni].length===1)this[qd](this[Ni].pop());else{let e=this[Ni];this[Ni]=[],kv(this[ut],e,this[Zo],(r,n)=>this[mu](r,n))}}[di](){if(this[Eu]&&typeof this[ut]=="number"){let e=this[ut];this[ut]=null,Zr.close(e,r=>r?this.emit("error",r):this.emit("close"))}}},Ov=class extends Wd{[Ys](){let e;if(this[Vd]&&this[Xs]==="r+")try{e=Zr.openSync(this[hs],this[Xs],this[Hd])}catch(r){if(r.code==="ENOENT")return this[Xs]="w",this[Ys]();throw r}else e=Zr.openSync(this[hs],this[Xs],this[Hd]);this[bu](null,e)}[di](){if(this[Eu]&&typeof this[ut]=="number"){let e=this[ut];this[ut]=null,Zr.closeSync(e),this.emit("close")}}[qd](e){let r=!0;try{this[mu](null,Zr.writeSync(this[ut],e,0,e.length,this[Zo])),r=!1}finally{if(r)try{this[di]()}catch{}}}};vc.ReadStream=zd;vc.ReadStreamSync=Tv;vc.WriteStream=Wd;vc.WriteStreamSync=Ov});var Qd=M((lue,WF)=>{"use strict";var D9=Ed(),A9=cu(),F9=require("events"),_9=Dd(),k9=1024*1024,I9=gd(),jF=vd(),P9=Hy(),{nextTick:T9}=require("process"),Rv=Buffer.from([31,139]),$n=Symbol("state"),Qo=Symbol("writeEntry"),ds=Symbol("readEntry"),Bv=Symbol("nextEntry"),$F=Symbol("processEntry"),Un=Symbol("extendedHeader"),Ec=Symbol("globalExtendedHeader"),Zs=Symbol("meta"),UF=Symbol("emitMeta"),Et=Symbol("buffer"),ps=Symbol("queue"),ea=Symbol("ended"),qF=Symbol("emittedEnd"),ta=Symbol("emit"),Qr=Symbol("unzip"),Gd=Symbol("consumeChunk"),Jd=Symbol("consumeChunkSub"),Lv=Symbol("consumeBody"),VF=Symbol("consumeMeta"),HF=Symbol("consumeHeader"),Kd=Symbol("consuming"),Nv=Symbol("bufferConcat"),Mv=Symbol("maybeEnd"),bc=Symbol("writing"),Qs=Symbol("aborted"),Xd=Symbol("onDone"),ra=Symbol("sawValidEntry"),Yd=Symbol("sawNullBlock"),Zd=Symbol("sawEOF"),zF=Symbol("closeStream"),O9=t=>!0;WF.exports=D9(class extends F9{constructor(e){e=e||{},super(e),this.file=e.file||"",this[ra]=null,this.on(Xd,r=>{(this[$n]==="begin"||this[ra]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(Xd,e.ondone):this.on(Xd,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||k9,this.filter=typeof e.filter=="function"?e.filter:O9,this.writable=!0,this.readable=!1,this[ps]=new _9,this[Et]=null,this[ds]=null,this[Qo]=null,this[$n]="begin",this[Zs]="",this[Un]=null,this[Ec]=null,this[ea]=!1,this[Qr]=null,this[Qs]=!1,this[Yd]=!1,this[Zd]=!1,this.on("end",()=>this[zF]()),typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[HF](e,r){this[ra]===null&&(this[ra]=!1);let n;try{n=new A9(e,r,this[Un],this[Ec])}catch(i){return this.warn("TAR_ENTRY_INVALID",i)}if(n.nullBlock)this[Yd]?(this[Zd]=!0,this[$n]==="begin"&&(this[$n]="header"),this[ta]("eof")):(this[Yd]=!0,this[ta]("nullBlock"));else if(this[Yd]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let i=n.type;if(/^(Symbolic)?Link$/.test(i)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(i)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let s=this[Qo]=new I9(n,this[Un],this[Ec]);if(!this[ra])if(s.remain){let o=()=>{s.invalid||(this[ra]=!0)};s.on("end",o)}else this[ra]=!0;s.meta?s.size>this.maxMetaEntrySize?(s.ignore=!0,this[ta]("ignoredEntry",s),this[$n]="ignore",s.resume()):s.size>0&&(this[Zs]="",s.on("data",o=>this[Zs]+=o),this[$n]="meta"):(this[Un]=null,s.ignore=s.ignore||!this.filter(s.path,s),s.ignore?(this[ta]("ignoredEntry",s),this[$n]=s.remain?"ignore":"header",s.resume()):(s.remain?this[$n]="body":(this[$n]="header",s.end()),this[ds]?this[ps].push(s):(this[ps].push(s),this[Bv]())))}}}[zF](){T9(()=>this.emit("close"))}[$F](e){let r=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[ds]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",n=>this[Bv]()),r=!1)):(this[ds]=null,r=!1),r}[Bv](){do;while(this[$F](this[ps].shift()));if(!this[ps].length){let e=this[ds];!e||e.flowing||e.size===e.remain?this[bc]||this.emit("drain"):e.once("drain",n=>this.emit("drain"))}}[Lv](e,r){let n=this[Qo],i=n.blockRemain,s=i>=e.length&&r===0?e:e.slice(r,r+i);return n.write(s),n.blockRemain||(this[$n]="header",this[Qo]=null,n.end()),s.length}[VF](e,r){let n=this[Qo],i=this[Lv](e,r);return this[Qo]||this[UF](n),i}[ta](e,r,n){!this[ps].length&&!this[ds]?this.emit(e,r,n):this[ps].push([e,r,n])}[UF](e){switch(this[ta]("meta",this[Zs]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[Un]=jF.parse(this[Zs],this[Un],!1);break;case"GlobalExtendedHeader":this[Ec]=jF.parse(this[Zs],this[Ec],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[Un]=this[Un]||Object.create(null),this[Un].path=this[Zs].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[Un]=this[Un]||Object.create(null),this[Un].linkpath=this[Zs].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[Qs]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[Qs])return;if(this[Qr]===null&&e){if(this[Et]&&(e=Buffer.concat([this[Et],e]),this[Et]=null),e.length<Rv.length)return this[Et]=e,!0;for(let n=0;this[Qr]===null&&n<Rv.length;n++)e[n]!==Rv[n]&&(this[Qr]=!1);if(this[Qr]===null){let n=this[ea];this[ea]=!1,this[Qr]=new P9.Unzip,this[Qr].on("data",s=>this[Gd](s)),this[Qr].on("error",s=>this.abort(s)),this[Qr].on("end",s=>{this[ea]=!0,this[Gd]()}),this[bc]=!0;let i=this[Qr][n?"end":"write"](e);return this[bc]=!1,i}}this[bc]=!0,this[Qr]?this[Qr].write(e):this[Gd](e),this[bc]=!1;let r=this[ps].length?!1:this[ds]?this[ds].flowing:!0;return!r&&!this[ps].length&&this[ds].once("drain",n=>this.emit("drain")),r}[Nv](e){e&&!this[Qs]&&(this[Et]=this[Et]?Buffer.concat([this[Et],e]):e)}[Mv](){if(this[ea]&&!this[qF]&&!this[Qs]&&!this[Kd]){this[qF]=!0;let e=this[Qo];if(e&&e.blockRemain){let r=this[Et]?this[Et].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${r} available)`,{entry:e}),this[Et]&&e.write(this[Et]),e.end()}this[ta](Xd)}}[Gd](e){if(this[Kd])this[Nv](e);else if(!e&&!this[Et])this[Mv]();else{if(this[Kd]=!0,this[Et]){this[Nv](e);let r=this[Et];this[Et]=null,this[Jd](r)}else this[Jd](e);for(;this[Et]&&this[Et].length>=512&&!this[Qs]&&!this[Zd];){let r=this[Et];this[Et]=null,this[Jd](r)}this[Kd]=!1}(!this[Et]||this[ea])&&this[Mv]()}[Jd](e){let r=0,n=e.length;for(;r+512<=n&&!this[Qs]&&!this[Zd];)switch(this[$n]){case"begin":case"header":this[HF](e,r),r+=512;break;case"ignore":case"body":r+=this[Lv](e,r);break;case"meta":r+=this[VF](e,r);break;default:throw new Error("invalid state: "+this[$n])}r<n&&(this[Et]?this[Et]=Buffer.concat([e.slice(r),this[Et]]):this[Et]=e.slice(r))}end(e){this[Qs]||(this[Qr]?this[Qr].end(e):(this[ea]=!0,this.write(e)))}})});var ep=M((cue,XF)=>{"use strict";var R9=nu(),JF=Qd(),xu=require("fs"),B9=wu(),GF=require("path"),jv=fu();XF.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=R9(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&N9(n,e),n.noResume||L9(n),n.file&&n.sync?M9(n):n.file?j9(n,r):KF(n)};var L9=t=>{let e=t.onentry;t.onentry=e?r=>{e(r),r.resume()}:r=>r.resume()},N9=(t,e)=>{let r=new Map(e.map(s=>[jv(s),!0])),n=t.filter,i=(s,o)=>{let a=o||GF.parse(s).root||".",u=s===a?!1:r.has(s)?r.get(s):i(GF.dirname(s),a);return r.set(s,u),u};t.filter=n?(s,o)=>n(s,o)&&i(jv(s)):s=>i(jv(s))},M9=t=>{let e=KF(t),r=t.file,n=!0,i;try{let s=xu.statSync(r),o=t.maxReadSize||16*1024*1024;if(s.size<o)e.end(xu.readFileSync(r));else{let a=0,u=Buffer.allocUnsafe(o);for(i=xu.openSync(r,"r");a<s.size;){let f=xu.readSync(i,u,0,o,a);a+=f,e.write(u.slice(0,f))}e.end()}n=!1}finally{if(n&&i)try{xu.closeSync(i)}catch{}}},j9=(t,e)=>{let r=new JF(t),n=t.maxReadSize||16*1024*1024,i=t.file,s=new Promise((o,a)=>{r.on("error",a),r.on("end",o),xu.stat(i,(u,f)=>{if(u)a(u);else{let c=new B9.ReadStream(i,{readSize:n,size:f.size});c.on("error",a),c.pipe(r)}})});return e?s.then(e,e):s},KF=t=>new JF(t)});var r_=M((fue,t_)=>{"use strict";var $9=nu(),tp=Rd(),YF=wu(),ZF=ep(),QF=require("path");t_.exports=(t,e,r)=>{if(typeof e=="function"&&(r=e),Array.isArray(t)&&(e=t,t={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let n=$9(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?U9(n,e):n.file?q9(n,e,r):n.sync?V9(n,e):H9(n,e)};var U9=(t,e)=>{let r=new tp.Sync(t),n=new YF.WriteStreamSync(t.file,{mode:t.mode||438});r.pipe(n),e_(r,e)},q9=(t,e,r)=>{let n=new tp(t),i=new YF.WriteStream(t.file,{mode:t.mode||438});n.pipe(i);let s=new Promise((o,a)=>{i.on("error",a),i.on("close",o),n.on("error",a)});return $v(n,e),r?s.then(r,r):s},e_=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?ZF({file:QF.resolve(t.cwd,r.slice(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},$v=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return ZF({file:QF.resolve(t.cwd,r.slice(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>$v(t,e));t.add(r)}t.end()},V9=(t,e)=>{let r=new tp.Sync(t);return e_(r,e),r},H9=(t,e)=>{let r=new tp(t);return $v(r,e),r}});var Uv=M((hue,l_)=>{"use strict";var z9=nu(),n_=Rd(),bn=require("fs"),i_=wu(),s_=ep(),o_=require("path"),a_=cu();l_.exports=(t,e,r)=>{let n=z9(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),n.sync?W9(n,e):J9(n,e,r)};var W9=(t,e)=>{let r=new n_.Sync(t),n=!0,i,s;try{try{i=bn.openSync(t.file,"r+")}catch(u){if(u.code==="ENOENT")i=bn.openSync(t.file,"w+");else throw u}let o=bn.fstatSync(i),a=Buffer.alloc(512);e:for(s=0;s<o.size;s+=512){for(let c=0,d=0;c<512;c+=d){if(d=bn.readSync(i,a,c,a.length-c,s+c),s===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!d)break e}let u=new a_(a);if(!u.cksumValid)break;let f=512*Math.ceil(u.size/512);if(s+f+512>o.size)break;s+=f,t.mtimeCache&&t.mtimeCache.set(u.path,u.mtime)}n=!1,G9(t,r,s,i,e)}finally{if(n)try{bn.closeSync(i)}catch{}}},G9=(t,e,r,n,i)=>{let s=new i_.WriteStreamSync(t.file,{fd:n,start:r});e.pipe(s),K9(e,i)},J9=(t,e,r)=>{e=Array.from(e);let n=new n_(t),i=(o,a,u)=>{let f=(h,y)=>{h?bn.close(o,g=>u(h)):u(null,y)},c=0;if(a===0)return f(null,0);let d=0,p=Buffer.alloc(512),l=(h,y)=>{if(h)return f(h);if(d+=y,d<512&&y)return bn.read(o,p,d,p.length-d,c+d,l);if(c===0&&p[0]===31&&p[1]===139)return f(new Error("cannot append to compressed archives"));if(d<512)return f(null,c);let g=new a_(p);if(!g.cksumValid)return f(null,c);let v=512*Math.ceil(g.size/512);if(c+v+512>a||(c+=v+512,c>=a))return f(null,c);t.mtimeCache&&t.mtimeCache.set(g.path,g.mtime),d=0,bn.read(o,p,0,512,c,l)};bn.read(o,p,0,512,c,l)},s=new Promise((o,a)=>{n.on("error",a);let u="r+",f=(c,d)=>{if(c&&c.code==="ENOENT"&&u==="r+")return u="w+",bn.open(t.file,u,f);if(c)return a(c);bn.fstat(d,(p,l)=>{if(p)return bn.close(d,()=>a(p));i(d,l.size,(h,y)=>{if(h)return a(h);let g=new i_.WriteStream(t.file,{fd:d,start:y});n.pipe(g),g.on("error",a),g.on("close",o),u_(n,e)})})};bn.open(t.file,u,f)});return r?s.then(r,r):s},K9=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?s_({file:o_.resolve(t.cwd,r.slice(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},u_=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return s_({file:o_.resolve(t.cwd,r.slice(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>u_(t,e));t.add(r)}t.end()}});var f_=M((due,c_)=>{"use strict";var X9=nu(),Y9=Uv();c_.exports=(t,e,r)=>{let n=X9(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),Z9(n),Y9(n,e,r)};var Z9=t=>{let e=t.filter;t.mtimeCache||(t.mtimeCache=new Map),t.filter=e?(r,n)=>e(r,n)&&!(t.mtimeCache.get(r)>n.mtime):(r,n)=>!(t.mtimeCache.get(r)>n.mtime)}});var p_=M((pue,d_)=>{var{promisify:h_}=require("util"),eo=require("fs"),Q9=t=>{if(!t)t={mode:511,fs:eo};else if(typeof t=="object")t={mode:511,fs:eo,...t};else if(typeof t=="number")t={mode:t,fs:eo};else if(typeof t=="string")t={mode:parseInt(t,8),fs:eo};else throw new TypeError("invalid options argument");return t.mkdir=t.mkdir||t.fs.mkdir||eo.mkdir,t.mkdirAsync=h_(t.mkdir),t.stat=t.stat||t.fs.stat||eo.stat,t.statAsync=h_(t.stat),t.statSync=t.statSync||t.fs.statSync||eo.statSync,t.mkdirSync=t.mkdirSync||t.fs.mkdirSync||eo.mkdirSync,t};d_.exports=Q9});var g_=M((mue,m_)=>{var e5=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:t5,parse:r5}=require("path"),n5=t=>{if(/\0/.test(t))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:t,code:"ERR_INVALID_ARG_VALUE"});if(t=t5(t),e5==="win32"){let e=/[*|"<>?:]/,{root:r}=r5(t);if(e.test(t.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}return t};m_.exports=n5});var w_=M((gue,b_)=>{var{dirname:y_}=require("path"),v_=(t,e,r=void 0)=>r===e?Promise.resolve():t.statAsync(e).then(n=>n.isDirectory()?r:void 0,n=>n.code==="ENOENT"?v_(t,y_(e),e):void 0),E_=(t,e,r=void 0)=>{if(r!==e)try{return t.statSync(e).isDirectory()?r:void 0}catch(n){return n.code==="ENOENT"?E_(t,y_(e),e):void 0}};b_.exports={findMade:v_,findMadeSync:E_}});var Hv=M((yue,C_)=>{var{dirname:x_}=require("path"),qv=(t,e,r)=>{e.recursive=!1;let n=x_(t);return n===t?e.mkdirAsync(t,e).catch(i=>{if(i.code!=="EISDIR")throw i}):e.mkdirAsync(t,e).then(()=>r||t,i=>{if(i.code==="ENOENT")return qv(n,e).then(s=>qv(t,e,s));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return e.statAsync(t).then(s=>{if(s.isDirectory())return r;throw i},()=>{throw i})})},Vv=(t,e,r)=>{let n=x_(t);if(e.recursive=!1,n===t)try{return e.mkdirSync(t,e)}catch(i){if(i.code!=="EISDIR")throw i;return}try{return e.mkdirSync(t,e),r||t}catch(i){if(i.code==="ENOENT")return Vv(t,e,Vv(n,e,r));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!e.statSync(t).isDirectory())throw i}catch{throw i}}};C_.exports={mkdirpManual:qv,mkdirpManualSync:Vv}});var A_=M((vue,D_)=>{var{dirname:S_}=require("path"),{findMade:i5,findMadeSync:s5}=w_(),{mkdirpManual:o5,mkdirpManualSync:a5}=Hv(),u5=(t,e)=>(e.recursive=!0,S_(t)===t?e.mkdirAsync(t,e):i5(e,t).then(n=>e.mkdirAsync(t,e).then(()=>n).catch(i=>{if(i.code==="ENOENT")return o5(t,e);throw i}))),l5=(t,e)=>{if(e.recursive=!0,S_(t)===t)return e.mkdirSync(t,e);let n=s5(e,t);try{return e.mkdirSync(t,e),n}catch(i){if(i.code==="ENOENT")return a5(t,e);throw i}};D_.exports={mkdirpNative:u5,mkdirpNativeSync:l5}});var I_=M((Eue,k_)=>{var F_=require("fs"),c5=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,zv=c5.replace(/^v/,"").split("."),__=+zv[0]>10||+zv[0]==10&&+zv[1]>=12,f5=__?t=>t.mkdir===F_.mkdir:()=>!1,h5=__?t=>t.mkdirSync===F_.mkdirSync:()=>!1;k_.exports={useNative:f5,useNativeSync:h5}});var L_=M((bue,B_)=>{var Cu=p_(),Su=g_(),{mkdirpNative:P_,mkdirpNativeSync:T_}=A_(),{mkdirpManual:O_,mkdirpManualSync:R_}=Hv(),{useNative:d5,useNativeSync:p5}=I_(),Du=(t,e)=>(t=Su(t),e=Cu(e),d5(e)?P_(t,e):O_(t,e)),m5=(t,e)=>(t=Su(t),e=Cu(e),p5(e)?T_(t,e):R_(t,e));Du.sync=m5;Du.native=(t,e)=>P_(Su(t),Cu(e));Du.manual=(t,e)=>O_(Su(t),Cu(e));Du.nativeSync=(t,e)=>T_(Su(t),Cu(e));Du.manualSync=(t,e)=>R_(Su(t),Cu(e));B_.exports=Du});var V_=M((wue,q_)=>{"use strict";var qn=require("fs"),na=require("path"),g5=qn.lchown?"lchown":"chown",y5=qn.lchownSync?"lchownSync":"chownSync",M_=qn.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),N_=(t,e,r)=>{try{return qn[y5](t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},v5=(t,e,r)=>{try{return qn.chownSync(t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},E5=M_?(t,e,r,n)=>i=>{!i||i.code!=="EISDIR"?n(i):qn.chown(t,e,r,n)}:(t,e,r,n)=>n,Wv=M_?(t,e,r)=>{try{return N_(t,e,r)}catch(n){if(n.code!=="EISDIR")throw n;v5(t,e,r)}}:(t,e,r)=>N_(t,e,r),b5=process.version,j_=(t,e,r)=>qn.readdir(t,e,r),w5=(t,e)=>qn.readdirSync(t,e);/^v4\./.test(b5)&&(j_=(t,e,r)=>qn.readdir(t,r));var rp=(t,e,r,n)=>{qn[g5](t,e,r,E5(t,e,r,i=>{n(i&&i.code!=="ENOENT"?i:null)}))},$_=(t,e,r,n,i)=>{if(typeof e=="string")return qn.lstat(na.resolve(t,e),(s,o)=>{if(s)return i(s.code!=="ENOENT"?s:null);o.name=e,$_(t,o,r,n,i)});if(e.isDirectory())Gv(na.resolve(t,e.name),r,n,s=>{if(s)return i(s);let o=na.resolve(t,e.name);rp(o,r,n,i)});else{let s=na.resolve(t,e.name);rp(s,r,n,i)}},Gv=(t,e,r,n)=>{j_(t,{withFileTypes:!0},(i,s)=>{if(i){if(i.code==="ENOENT")return n();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return n(i)}if(i||!s.length)return rp(t,e,r,n);let o=s.length,a=null,u=f=>{if(!a){if(f)return n(a=f);if(--o===0)return rp(t,e,r,n)}};s.forEach(f=>$_(t,f,e,r,u))})},x5=(t,e,r,n)=>{if(typeof e=="string")try{let i=qn.lstatSync(na.resolve(t,e));i.name=e,e=i}catch(i){if(i.code==="ENOENT")return;throw i}e.isDirectory()&&U_(na.resolve(t,e.name),r,n),Wv(na.resolve(t,e.name),r,n)},U_=(t,e,r)=>{let n;try{n=w5(t,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return Wv(t,e,r);throw i}return n&&n.length&&n.forEach(i=>x5(t,i,e,r)),Wv(t,e,r)};q_.exports=Gv;Gv.sync=U_});var G_=M((xue,Jv)=>{"use strict";var H_=L_(),Vn=require("fs"),np=require("path"),z_=V_(),pi=uu(),ip=class extends Error{constructor(e,r){super("Cannot extract through symbolic link"),this.path=r,this.symlink=e}get name(){return"SylinkError"}},sp=class extends Error{constructor(e,r){super(r+": Cannot cd into '"+e+"'"),this.path=e,this.code=r}get name(){return"CwdError"}},op=(t,e)=>t.get(pi(e)),wc=(t,e,r)=>t.set(pi(e),r),C5=(t,e)=>{Vn.stat(t,(r,n)=>{(r||!n.isDirectory())&&(r=new sp(t,r&&r.code||"ENOTDIR")),e(r)})};Jv.exports=(t,e,r)=>{t=pi(t);let n=e.umask,i=e.mode|448,s=(i&n)!==0,o=e.uid,a=e.gid,u=typeof o=="number"&&typeof a=="number"&&(o!==e.processUid||a!==e.processGid),f=e.preserve,c=e.unlink,d=e.cache,p=pi(e.cwd),l=(g,v)=>{g?r(g):(wc(d,t,!0),v&&u?z_(v,o,a,b=>l(b)):s?Vn.chmod(t,i,r):r())};if(d&&op(d,t)===!0)return l();if(t===p)return C5(t,l);if(f)return H_(t,{mode:i}).then(g=>l(null,g),l);let y=pi(np.relative(p,t)).split("/");ap(p,y,i,d,c,p,null,l)};var ap=(t,e,r,n,i,s,o,a)=>{if(!e.length)return a(null,o);let u=e.shift(),f=pi(np.resolve(t+"/"+u));if(op(n,f))return ap(f,e,r,n,i,s,o,a);Vn.mkdir(f,r,W_(f,e,r,n,i,s,o,a))},W_=(t,e,r,n,i,s,o,a)=>u=>{u?Vn.lstat(t,(f,c)=>{if(f)f.path=f.path&&pi(f.path),a(f);else if(c.isDirectory())ap(t,e,r,n,i,s,o,a);else if(i)Vn.unlink(t,d=>{if(d)return a(d);Vn.mkdir(t,r,W_(t,e,r,n,i,s,o,a))});else{if(c.isSymbolicLink())return a(new ip(t,t+"/"+e.join("/")));a(u)}}):(o=o||t,ap(t,e,r,n,i,s,o,a))},S5=t=>{let e=!1,r="ENOTDIR";try{e=Vn.statSync(t).isDirectory()}catch(n){r=n.code}finally{if(!e)throw new sp(t,r)}};Jv.exports.sync=(t,e)=>{t=pi(t);let r=e.umask,n=e.mode|448,i=(n&r)!==0,s=e.uid,o=e.gid,a=typeof s=="number"&&typeof o=="number"&&(s!==e.processUid||o!==e.processGid),u=e.preserve,f=e.unlink,c=e.cache,d=pi(e.cwd),p=g=>{wc(c,t,!0),g&&a&&z_.sync(g,s,o),i&&Vn.chmodSync(t,n)};if(c&&op(c,t)===!0)return p();if(t===d)return S5(d),p();if(u)return p(H_.sync(t,n));let h=pi(np.relative(d,t)).split("/"),y=null;for(let g=h.shift(),v=d;g&&(v+="/"+g);g=h.shift())if(v=pi(np.resolve(v)),!op(c,v))try{Vn.mkdirSync(v,n),y=y||v,wc(c,v,!0)}catch{let x=Vn.lstatSync(v);if(x.isDirectory()){wc(c,v,!0);continue}else if(f){Vn.unlinkSync(v),Vn.mkdirSync(v,n),y=y||v,wc(c,v,!0);continue}else if(x.isSymbolicLink())return new ip(v,v+"/"+h.join("/"))}return p(y)}});var Xv=M((Cue,J_)=>{var Kv=Object.create(null),{hasOwnProperty:D5}=Object.prototype;J_.exports=t=>(D5.call(Kv,t)||(Kv[t]=t.normalize("NFKD")),Kv[t])});var Z_=M((Sue,Y_)=>{var K_=require("assert"),A5=Xv(),F5=fu(),{join:X_}=require("path"),_5=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,k5=_5==="win32";Y_.exports=()=>{let t=new Map,e=new Map,r=f=>f.split("/").slice(0,-1).reduce((d,p)=>(d.length&&(p=X_(d[d.length-1],p)),d.push(p||"/"),d),[]),n=new Set,i=f=>{let c=e.get(f);if(!c)throw new Error("function does not have any path reservations");return{paths:c.paths.map(d=>t.get(d)),dirs:[...c.dirs].map(d=>t.get(d))}},s=f=>{let{paths:c,dirs:d}=i(f);return c.every(p=>p[0]===f)&&d.every(p=>p[0]instanceof Set&&p[0].has(f))},o=f=>n.has(f)||!s(f)?!1:(n.add(f),f(()=>a(f)),!0),a=f=>{if(!n.has(f))return!1;let{paths:c,dirs:d}=e.get(f),p=new Set;return c.forEach(l=>{let h=t.get(l);K_.equal(h[0],f),h.length===1?t.delete(l):(h.shift(),typeof h[0]=="function"?p.add(h[0]):h[0].forEach(y=>p.add(y)))}),d.forEach(l=>{let h=t.get(l);K_(h[0]instanceof Set),h[0].size===1&&h.length===1?t.delete(l):h[0].size===1?(h.shift(),p.add(h[0])):h[0].delete(f)}),n.delete(f),p.forEach(l=>o(l)),!0};return{check:s,reserve:(f,c)=>{f=k5?["win32 parallelization disabled"]:f.map(p=>A5(F5(X_(p))).toLowerCase());let d=new Set(f.map(p=>r(p)).reduce((p,l)=>p.concat(l)));return e.set(c,{dirs:d,paths:f}),f.forEach(p=>{let l=t.get(p);l?l.push(c):t.set(p,[c])}),d.forEach(p=>{let l=t.get(p);l?l[l.length-1]instanceof Set?l[l.length-1].add(c):l.push(new Set([c])):t.set(p,[new Set([c])])}),o(c)}}}});var tk=M((Due,ek)=>{var I5=process.env.__FAKE_PLATFORM__||process.platform,P5=I5==="win32",T5=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:O5,O_TRUNC:R5,O_WRONLY:B5,UV_FS_O_FILEMAP:Q_=0}=T5.constants,L5=P5&&!!Q_,N5=512*1024,M5=Q_|R5|O5|B5;ek.exports=L5?t=>t<N5?M5:"w":()=>"w"});var sE=M((Aue,mk)=>{"use strict";var j5=require("assert"),$5=Qd(),it=require("fs"),U5=wu(),ms=require("path"),hk=G_(),rk=ev(),q5=Z_(),V5=tv(),wn=uu(),H5=fu(),z5=Xv(),nk=Symbol("onEntry"),Qv=Symbol("checkFs"),ik=Symbol("checkFs2"),cp=Symbol("pruneCache"),eE=Symbol("isReusable"),Hn=Symbol("makeFs"),tE=Symbol("file"),rE=Symbol("directory"),fp=Symbol("link"),sk=Symbol("symlink"),ok=Symbol("hardlink"),ak=Symbol("unsupported"),uk=Symbol("checkPath"),to=Symbol("mkdir"),Ar=Symbol("onError"),up=Symbol("pending"),lk=Symbol("pend"),Au=Symbol("unpend"),Yv=Symbol("ended"),Zv=Symbol("maybeClose"),nE=Symbol("skip"),xc=Symbol("doChown"),Cc=Symbol("uid"),Sc=Symbol("gid"),Dc=Symbol("checkedCwd"),dk=require("crypto"),pk=tk(),W5=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Ac=W5==="win32",G5=(t,e)=>{if(!Ac)return it.unlink(t,e);let r=t+".DELETE."+dk.randomBytes(16).toString("hex");it.rename(t,r,n=>{if(n)return e(n);it.unlink(r,e)})},J5=t=>{if(!Ac)return it.unlinkSync(t);let e=t+".DELETE."+dk.randomBytes(16).toString("hex");it.renameSync(t,e),it.unlinkSync(e)},ck=(t,e,r)=>t===t>>>0?t:e===e>>>0?e:r,fk=t=>z5(H5(wn(t))).toLowerCase(),K5=(t,e)=>{e=fk(e);for(let r of t.keys()){let n=fk(r);(n===e||n.indexOf(e+"/")===0)&&t.delete(r)}},X5=t=>{for(let e of t.keys())t.delete(e)},Fc=class extends $5{constructor(e){if(e||(e={}),e.ondone=r=>{this[Yv]=!0,this[Zv]()},super(e),this[Dc]=!1,this.reservations=q5(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[up]=0,this[Yv]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||Ac,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=wn(ms.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",r=>this[nk](r))}warn(e,r,n={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(n.recoverable=!1),super.warn(e,r,n)}[Zv](){this[Yv]&&this[up]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[uk](e){if(this.strip){let r=wn(e.path).split("/");if(r.length<this.strip)return!1;if(e.path=r.slice(this.strip).join("/"),e.type==="Link"){let n=wn(e.linkpath).split("/");if(n.length>=this.strip)e.linkpath=n.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let r=wn(e.path),n=r.split("/");if(n.includes("..")||Ac&&/^[a-z]:\.\.$/i.test(n[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:r}),!1;let[i,s]=V5(r);i&&(e.path=s,this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:e,path:r}))}if(ms.isAbsolute(e.path)?e.absolute=wn(ms.resolve(e.path)):e.absolute=wn(ms.resolve(this.cwd,e.path)),!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:wn(e.path),resolvedPath:e.absolute,cwd:this.cwd}),!1;if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir")return!1;if(this.win32){let{root:r}=ms.win32.parse(e.absolute);e.absolute=r+rk.encode(e.absolute.slice(r.length));let{root:n}=ms.win32.parse(e.path);e.path=n+rk.encode(e.path.slice(n.length))}return!0}[nk](e){if(!this[uk](e))return e.resume();switch(j5.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[Qv](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[ak](e)}}[Ar](e,r){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:r}),this[Au](),r.resume())}[to](e,r,n){hk(wn(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r,noChmod:this.noChmod},n)}[xc](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[Cc](e){return ck(this.uid,e.uid,this.processUid)}[Sc](e){return ck(this.gid,e.gid,this.processGid)}[tE](e,r){let n=e.mode&4095||this.fmode,i=new U5.WriteStream(e.absolute,{flags:pk(e.size),mode:n,autoClose:!1});i.on("error",u=>{i.fd&&it.close(i.fd,()=>{}),i.write=()=>!0,this[Ar](u,e),r()});let s=1,o=u=>{if(u){i.fd&&it.close(i.fd,()=>{}),this[Ar](u,e),r();return}--s===0&&it.close(i.fd,f=>{f?this[Ar](f,e):this[Au](),r()})};i.on("finish",u=>{let f=e.absolute,c=i.fd;if(e.mtime&&!this.noMtime){s++;let d=e.atime||new Date,p=e.mtime;it.futimes(c,d,p,l=>l?it.utimes(f,d,p,h=>o(h&&l)):o())}if(this[xc](e)){s++;let d=this[Cc](e),p=this[Sc](e);it.fchown(c,d,p,l=>l?it.chown(f,d,p,h=>o(h&&l)):o())}o()});let a=this.transform&&this.transform(e)||e;a!==e&&(a.on("error",u=>{this[Ar](u,e),r()}),e.pipe(a)),a.pipe(i)}[rE](e,r){let n=e.mode&4095||this.dmode;this[to](e.absolute,n,i=>{if(i){this[Ar](i,e),r();return}let s=1,o=a=>{--s===0&&(r(),this[Au](),e.resume())};e.mtime&&!this.noMtime&&(s++,it.utimes(e.absolute,e.atime||new Date,e.mtime,o)),this[xc](e)&&(s++,it.chown(e.absolute,this[Cc](e),this[Sc](e),o)),o()})}[ak](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[sk](e,r){this[fp](e,e.linkpath,"symlink",r)}[ok](e,r){let n=wn(ms.resolve(this.cwd,e.linkpath));this[fp](e,n,"link",r)}[lk](){this[up]++}[Au](){this[up]--,this[Zv]()}[nE](e){this[Au](),e.resume()}[eE](e,r){return e.type==="File"&&!this.unlink&&r.isFile()&&r.nlink<=1&&!Ac}[Qv](e){this[lk]();let r=[e.path];e.linkpath&&r.push(e.linkpath),this.reservations.reserve(r,n=>this[ik](e,n))}[cp](e){e.type==="SymbolicLink"?X5(this.dirCache):e.type!=="Directory"&&K5(this.dirCache,e.absolute)}[ik](e,r){this[cp](e);let n=a=>{this[cp](e),r(a)},i=()=>{this[to](this.cwd,this.dmode,a=>{if(a){this[Ar](a,e),n();return}this[Dc]=!0,s()})},s=()=>{if(e.absolute!==this.cwd){let a=wn(ms.dirname(e.absolute));if(a!==this.cwd)return this[to](a,this.dmode,u=>{if(u){this[Ar](u,e),n();return}o()})}o()},o=()=>{it.lstat(e.absolute,(a,u)=>{if(u&&(this.keep||this.newer&&u.mtime>e.mtime)){this[nE](e),n();return}if(a||this[eE](e,u))return this[Hn](null,e,n);if(u.isDirectory()){if(e.type==="Directory"){let f=!this.noChmod&&e.mode&&(u.mode&4095)!==e.mode,c=d=>this[Hn](d,e,n);return f?it.chmod(e.absolute,e.mode,c):c()}if(e.absolute!==this.cwd)return it.rmdir(e.absolute,f=>this[Hn](f,e,n))}if(e.absolute===this.cwd)return this[Hn](null,e,n);G5(e.absolute,f=>this[Hn](f,e,n))})};this[Dc]?s():i()}[Hn](e,r,n){if(e){this[Ar](e,r),n();return}switch(r.type){case"File":case"OldFile":case"ContiguousFile":return this[tE](r,n);case"Link":return this[ok](r,n);case"SymbolicLink":return this[sk](r,n);case"Directory":case"GNUDumpDir":return this[rE](r,n)}}[fp](e,r,n,i){it[n](r,e.absolute,s=>{s?this[Ar](s,e):(this[Au](),e.resume()),i()})}},lp=t=>{try{return[null,t()]}catch(e){return[e,null]}},iE=class extends Fc{[Hn](e,r){return super[Hn](e,r,()=>{})}[Qv](e){if(this[cp](e),!this[Dc]){let s=this[to](this.cwd,this.dmode);if(s)return this[Ar](s,e);this[Dc]=!0}if(e.absolute!==this.cwd){let s=wn(ms.dirname(e.absolute));if(s!==this.cwd){let o=this[to](s,this.dmode);if(o)return this[Ar](o,e)}}let[r,n]=lp(()=>it.lstatSync(e.absolute));if(n&&(this.keep||this.newer&&n.mtime>e.mtime))return this[nE](e);if(r||this[eE](e,n))return this[Hn](null,e);if(n.isDirectory()){if(e.type==="Directory"){let o=!this.noChmod&&e.mode&&(n.mode&4095)!==e.mode,[a]=o?lp(()=>{it.chmodSync(e.absolute,e.mode)}):[];return this[Hn](a,e)}let[s]=lp(()=>it.rmdirSync(e.absolute));this[Hn](s,e)}let[i]=e.absolute===this.cwd?[]:lp(()=>J5(e.absolute));this[Hn](i,e)}[tE](e,r){let n=e.mode&4095||this.fmode,i=a=>{let u;try{it.closeSync(s)}catch(f){u=f}(a||u)&&this[Ar](a||u,e),r()},s;try{s=it.openSync(e.absolute,pk(e.size),n)}catch(a){return i(a)}let o=this.transform&&this.transform(e)||e;o!==e&&(o.on("error",a=>this[Ar](a,e)),e.pipe(o)),o.on("data",a=>{try{it.writeSync(s,a,0,a.length)}catch(u){i(u)}}),o.on("end",a=>{let u=null;if(e.mtime&&!this.noMtime){let f=e.atime||new Date,c=e.mtime;try{it.futimesSync(s,f,c)}catch(d){try{it.utimesSync(e.absolute,f,c)}catch{u=d}}}if(this[xc](e)){let f=this[Cc](e),c=this[Sc](e);try{it.fchownSync(s,f,c)}catch(d){try{it.chownSync(e.absolute,f,c)}catch{u=u||d}}}i(u)})}[rE](e,r){let n=e.mode&4095||this.dmode,i=this[to](e.absolute,n);if(i){this[Ar](i,e),r();return}if(e.mtime&&!this.noMtime)try{it.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[xc](e))try{it.chownSync(e.absolute,this[Cc](e),this[Sc](e))}catch{}r(),e.resume()}[to](e,r){try{return hk.sync(wn(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r})}catch(n){return n}}[fp](e,r,n,i){try{it[n+"Sync"](r,e.absolute),i(),e.resume()}catch(s){return this[Ar](s,e)}}};Fc.Sync=iE;mk.exports=Fc});var bk=M((Fue,Ek)=>{"use strict";var Y5=nu(),hp=sE(),yk=require("fs"),vk=wu(),gk=require("path"),oE=fu();Ek.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=Y5(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&Z5(n,e),n.file&&n.sync?Q5(n):n.file?eU(n,r):n.sync?tU(n):rU(n)};var Z5=(t,e)=>{let r=new Map(e.map(s=>[oE(s),!0])),n=t.filter,i=(s,o)=>{let a=o||gk.parse(s).root||".",u=s===a?!1:r.has(s)?r.get(s):i(gk.dirname(s),a);return r.set(s,u),u};t.filter=n?(s,o)=>n(s,o)&&i(oE(s)):s=>i(oE(s))},Q5=t=>{let e=new hp.Sync(t),r=t.file,n=yk.statSync(r),i=t.maxReadSize||16*1024*1024;new vk.ReadStreamSync(r,{readSize:i,size:n.size}).pipe(e)},eU=(t,e)=>{let r=new hp(t),n=t.maxReadSize||16*1024*1024,i=t.file,s=new Promise((o,a)=>{r.on("error",a),r.on("close",o),yk.stat(i,(u,f)=>{if(u)a(u);else{let c=new vk.ReadStream(i,{readSize:n,size:f.size});c.on("error",a),c.pipe(r)}})});return e?s.then(e,e):s},tU=t=>new hp.Sync(t),rU=t=>new hp(t)});var _c=M(Yt=>{"use strict";Yt.c=Yt.create=r_();Yt.r=Yt.replace=Uv();Yt.t=Yt.list=ep();Yt.u=Yt.update=f_();Yt.x=Yt.extract=bk();Yt.Pack=Rd();Yt.Unpack=sE();Yt.Parse=Qd();Yt.ReadEntry=gd();Yt.WriteEntry=fv();Yt.Header=cu();Yt.Pax=vd();Yt.types=Gy()});var kc=M((kue,wk)=>{var nU="2.0.0",iU=Number.MAX_SAFE_INTEGER||9007199254740991,sU=16;wk.exports={SEMVER_SPEC_VERSION:nU,MAX_LENGTH:256,MAX_SAFE_INTEGER:iU,MAX_SAFE_COMPONENT_LENGTH:sU}});var Ic=M((Iue,xk)=>{var oU=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};xk.exports=oU});var ia=M((ro,Ck)=>{var{MAX_SAFE_COMPONENT_LENGTH:aE}=kc(),aU=Ic();ro=Ck.exports={};var uU=ro.re=[],Oe=ro.src=[],Re=ro.t={},lU=0,Ke=(t,e,r)=>{let n=lU++;aU(t,n,e),Re[t]=n,Oe[n]=e,uU[n]=new RegExp(e,r?"g":void 0)};Ke("NUMERICIDENTIFIER","0|[1-9]\\d*");Ke("NUMERICIDENTIFIERLOOSE","[0-9]+");Ke("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Ke("MAINVERSION",`(${Oe[Re.NUMERICIDENTIFIER]})\\.(${Oe[Re.NUMERICIDENTIFIER]})\\.(${Oe[Re.NUMERICIDENTIFIER]})`);Ke("MAINVERSIONLOOSE",`(${Oe[Re.NUMERICIDENTIFIERLOOSE]})\\.(${Oe[Re.NUMERICIDENTIFIERLOOSE]})\\.(${Oe[Re.NUMERICIDENTIFIERLOOSE]})`);Ke("PRERELEASEIDENTIFIER",`(?:${Oe[Re.NUMERICIDENTIFIER]}|${Oe[Re.NONNUMERICIDENTIFIER]})`);Ke("PRERELEASEIDENTIFIERLOOSE",`(?:${Oe[Re.NUMERICIDENTIFIERLOOSE]}|${Oe[Re.NONNUMERICIDENTIFIER]})`);Ke("PRERELEASE",`(?:-(${Oe[Re.PRERELEASEIDENTIFIER]}(?:\\.${Oe[Re.PRERELEASEIDENTIFIER]})*))`);Ke("PRERELEASELOOSE",`(?:-?(${Oe[Re.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Oe[Re.PRERELEASEIDENTIFIERLOOSE]})*))`);Ke("BUILDIDENTIFIER","[0-9A-Za-z-]+");Ke("BUILD",`(?:\\+(${Oe[Re.BUILDIDENTIFIER]}(?:\\.${Oe[Re.BUILDIDENTIFIER]})*))`);Ke("FULLPLAIN",`v?${Oe[Re.MAINVERSION]}${Oe[Re.PRERELEASE]}?${Oe[Re.BUILD]}?`);Ke("FULL",`^${Oe[Re.FULLPLAIN]}$`);Ke("LOOSEPLAIN",`[v=\\s]*${Oe[Re.MAINVERSIONLOOSE]}${Oe[Re.PRERELEASELOOSE]}?${Oe[Re.BUILD]}?`);Ke("LOOSE",`^${Oe[Re.LOOSEPLAIN]}$`);Ke("GTLT","((?:<|>)?=?)");Ke("XRANGEIDENTIFIERLOOSE",`${Oe[Re.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ke("XRANGEIDENTIFIER",`${Oe[Re.NUMERICIDENTIFIER]}|x|X|\\*`);Ke("XRANGEPLAIN",`[v=\\s]*(${Oe[Re.XRANGEIDENTIFIER]})(?:\\.(${Oe[Re.XRANGEIDENTIFIER]})(?:\\.(${Oe[Re.XRANGEIDENTIFIER]})(?:${Oe[Re.PRERELEASE]})?${Oe[Re.BUILD]}?)?)?`);Ke("XRANGEPLAINLOOSE",`[v=\\s]*(${Oe[Re.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Oe[Re.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Oe[Re.XRANGEIDENTIFIERLOOSE]})(?:${Oe[Re.PRERELEASELOOSE]})?${Oe[Re.BUILD]}?)?)?`);Ke("XRANGE",`^${Oe[Re.GTLT]}\\s*${Oe[Re.XRANGEPLAIN]}$`);Ke("XRANGELOOSE",`^${Oe[Re.GTLT]}\\s*${Oe[Re.XRANGEPLAINLOOSE]}$`);Ke("COERCE",`(^|[^\\d])(\\d{1,${aE}})(?:\\.(\\d{1,${aE}}))?(?:\\.(\\d{1,${aE}}))?(?:$|[^\\d])`);Ke("COERCERTL",Oe[Re.COERCE],!0);Ke("LONETILDE","(?:~>?)");Ke("TILDETRIM",`(\\s*)${Oe[Re.LONETILDE]}\\s+`,!0);ro.tildeTrimReplace="$1~";Ke("TILDE",`^${Oe[Re.LONETILDE]}${Oe[Re.XRANGEPLAIN]}$`);Ke("TILDELOOSE",`^${Oe[Re.LONETILDE]}${Oe[Re.XRANGEPLAINLOOSE]}$`);Ke("LONECARET","(?:\\^)");Ke("CARETTRIM",`(\\s*)${Oe[Re.LONECARET]}\\s+`,!0);ro.caretTrimReplace="$1^";Ke("CARET",`^${Oe[Re.LONECARET]}${Oe[Re.XRANGEPLAIN]}$`);Ke("CARETLOOSE",`^${Oe[Re.LONECARET]}${Oe[Re.XRANGEPLAINLOOSE]}$`);Ke("COMPARATORLOOSE",`^${Oe[Re.GTLT]}\\s*(${Oe[Re.LOOSEPLAIN]})$|^$`);Ke("COMPARATOR",`^${Oe[Re.GTLT]}\\s*(${Oe[Re.FULLPLAIN]})$|^$`);Ke("COMPARATORTRIM",`(\\s*)${Oe[Re.GTLT]}\\s*(${Oe[Re.LOOSEPLAIN]}|${Oe[Re.XRANGEPLAIN]})`,!0);ro.comparatorTrimReplace="$1$2$3";Ke("HYPHENRANGE",`^\\s*(${Oe[Re.XRANGEPLAIN]})\\s+-\\s+(${Oe[Re.XRANGEPLAIN]})\\s*$`);Ke("HYPHENRANGELOOSE",`^\\s*(${Oe[Re.XRANGEPLAINLOOSE]})\\s+-\\s+(${Oe[Re.XRANGEPLAINLOOSE]})\\s*$`);Ke("STAR","(<|>)?=?\\s*\\*");Ke("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Ke("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Pc=M((Pue,Sk)=>{var cU=["includePrerelease","loose","rtl"],fU=t=>t?typeof t!="object"?{loose:!0}:cU.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};Sk.exports=fU});var uE=M((Tue,Fk)=>{var Dk=/^[0-9]+$/,Ak=(t,e)=>{let r=Dk.test(t),n=Dk.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},hU=(t,e)=>Ak(e,t);Fk.exports={compareIdentifiers:Ak,rcompareIdentifiers:hU}});var Fr=M((Oue,Pk)=>{var dp=Ic(),{MAX_LENGTH:_k,MAX_SAFE_INTEGER:pp}=kc(),{re:kk,t:Ik}=ia(),dU=Pc(),{compareIdentifiers:Fu}=uE(),xn=class{constructor(e,r){if(r=dU(r),e instanceof xn){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>_k)throw new TypeError(`version is longer than ${_k} characters`);dp("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?kk[Ik.LOOSE]:kk[Ik.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>pp||this.major<0)throw new TypeError("Invalid major version");if(this.minor>pp||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>pp||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<pp)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(dp("SemVer.compare",this.version,this.options,e),!(e instanceof xn)){if(typeof e=="string"&&e===this.version)return 0;e=new xn(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof xn||(e=new xn(e,this.options)),Fu(this.major,e.major)||Fu(this.minor,e.minor)||Fu(this.patch,e.patch)}comparePre(e){if(e instanceof xn||(e=new xn(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(dp("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Fu(n,i)}while(++r)}compareBuild(e){e instanceof xn||(e=new xn(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(dp("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Fu(n,i)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(Fu(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};Pk.exports=xn});var sa=M((Rue,Bk)=>{var{MAX_LENGTH:pU}=kc(),{re:Tk,t:Ok}=ia(),Rk=Fr(),mU=Pc(),gU=(t,e)=>{if(e=mU(e),t instanceof Rk)return t;if(typeof t!="string"||t.length>pU||!(e.loose?Tk[Ok.LOOSE]:Tk[Ok.FULL]).test(t))return null;try{return new Rk(t,e)}catch{return null}};Bk.exports=gU});var Nk=M((Bue,Lk)=>{var yU=sa(),vU=(t,e)=>{let r=yU(t,e);return r?r.version:null};Lk.exports=vU});var jk=M((Lue,Mk)=>{var EU=sa(),bU=(t,e)=>{let r=EU(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Mk.exports=bU});var qk=M((Nue,Uk)=>{var $k=Fr(),wU=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new $k(t instanceof $k?t.version:t,r).inc(e,n).version}catch{return null}};Uk.exports=wU});var zn=M((Mue,Hk)=>{var Vk=Fr(),xU=(t,e,r)=>new Vk(t,r).compare(new Vk(e,r));Hk.exports=xU});var mp=M((jue,zk)=>{var CU=zn(),SU=(t,e,r)=>CU(t,e,r)===0;zk.exports=SU});var Jk=M(($ue,Gk)=>{var Wk=sa(),DU=mp(),AU=(t,e)=>{if(DU(t,e))return null;{let r=Wk(t),n=Wk(e),i=r.prerelease.length||n.prerelease.length,s=i?"pre":"",o=i?"prerelease":"";for(let a in r)if((a==="major"||a==="minor"||a==="patch")&&r[a]!==n[a])return s+a;return o}};Gk.exports=AU});var Xk=M((Uue,Kk)=>{var FU=Fr(),_U=(t,e)=>new FU(t,e).major;Kk.exports=_U});var Zk=M((que,Yk)=>{var kU=Fr(),IU=(t,e)=>new kU(t,e).minor;Yk.exports=IU});var eI=M((Vue,Qk)=>{var PU=Fr(),TU=(t,e)=>new PU(t,e).patch;Qk.exports=TU});var rI=M((Hue,tI)=>{var OU=sa(),RU=(t,e)=>{let r=OU(t,e);return r&&r.prerelease.length?r.prerelease:null};tI.exports=RU});var iI=M((zue,nI)=>{var BU=zn(),LU=(t,e,r)=>BU(e,t,r);nI.exports=LU});var oI=M((Wue,sI)=>{var NU=zn(),MU=(t,e)=>NU(t,e,!0);sI.exports=MU});var gp=M((Gue,uI)=>{var aI=Fr(),jU=(t,e,r)=>{let n=new aI(t,r),i=new aI(e,r);return n.compare(i)||n.compareBuild(i)};uI.exports=jU});var cI=M((Jue,lI)=>{var $U=gp(),UU=(t,e)=>t.sort((r,n)=>$U(r,n,e));lI.exports=UU});var hI=M((Kue,fI)=>{var qU=gp(),VU=(t,e)=>t.sort((r,n)=>qU(n,r,e));fI.exports=VU});var Tc=M((Xue,dI)=>{var HU=zn(),zU=(t,e,r)=>HU(t,e,r)>0;dI.exports=zU});var yp=M((Yue,pI)=>{var WU=zn(),GU=(t,e,r)=>WU(t,e,r)<0;pI.exports=GU});var lE=M((Zue,mI)=>{var JU=zn(),KU=(t,e,r)=>JU(t,e,r)!==0;mI.exports=KU});var vp=M((Que,gI)=>{var XU=zn(),YU=(t,e,r)=>XU(t,e,r)>=0;gI.exports=YU});var Ep=M((ele,yI)=>{var ZU=zn(),QU=(t,e,r)=>ZU(t,e,r)<=0;yI.exports=QU});var cE=M((tle,vI)=>{var e7=mp(),t7=lE(),r7=Tc(),n7=vp(),i7=yp(),s7=Ep(),o7=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return e7(t,r,n);case"!=":return t7(t,r,n);case">":return r7(t,r,n);case">=":return n7(t,r,n);case"<":return i7(t,r,n);case"<=":return s7(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};vI.exports=o7});var bI=M((rle,EI)=>{var a7=Fr(),u7=sa(),{re:bp,t:wp}=ia(),l7=(t,e)=>{if(t instanceof a7)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(bp[wp.COERCE]);else{let n;for(;(n=bp[wp.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),bp[wp.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;bp[wp.COERCERTL].lastIndex=-1}return r===null?null:u7(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};EI.exports=l7});var DI=M((nle,SI)=>{"use strict";var c7=Dd(),oa=Symbol("max"),ys=Symbol("length"),_u=Symbol("lengthCalculator"),Rc=Symbol("allowStale"),aa=Symbol("maxAge"),gs=Symbol("dispose"),wI=Symbol("noDisposeOnSet"),ir=Symbol("lruList"),mi=Symbol("cache"),CI=Symbol("updateAgeOnGet"),fE=()=>1,dE=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[oa]=e.max||1/0,n=e.length||fE;if(this[_u]=typeof n!="function"?fE:n,this[Rc]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[aa]=e.maxAge||0,this[gs]=e.dispose,this[wI]=e.noDisposeOnSet||!1,this[CI]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[oa]=e||1/0,Oc(this)}get max(){return this[oa]}set allowStale(e){this[Rc]=!!e}get allowStale(){return this[Rc]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[aa]=e,Oc(this)}get maxAge(){return this[aa]}set lengthCalculator(e){typeof e!="function"&&(e=fE),e!==this[_u]&&(this[_u]=e,this[ys]=0,this[ir].forEach(r=>{r.length=this[_u](r.value,r.key),this[ys]+=r.length})),Oc(this)}get lengthCalculator(){return this[_u]}get length(){return this[ys]}get itemCount(){return this[ir].length}rforEach(e,r){r=r||this;for(let n=this[ir].tail;n!==null;){let i=n.prev;xI(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ir].head;n!==null;){let i=n.next;xI(this,e,n,r),n=i}}keys(){return this[ir].toArray().map(e=>e.key)}values(){return this[ir].toArray().map(e=>e.value)}reset(){this[gs]&&this[ir]&&this[ir].length&&this[ir].forEach(e=>this[gs](e.key,e.value)),this[mi]=new Map,this[ir]=new c7,this[ys]=0}dump(){return this[ir].map(e=>xp(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ir]}set(e,r,n){if(n=n||this[aa],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[_u](r,e);if(this[mi].has(e)){if(s>this[oa])return ku(this,this[mi].get(e)),!1;let u=this[mi].get(e).value;return this[gs]&&(this[wI]||this[gs](e,u.value)),u.now=i,u.maxAge=n,u.value=r,this[ys]+=s-u.length,u.length=s,this.get(e),Oc(this),!0}let o=new pE(e,r,s,i,n);return o.length>this[oa]?(this[gs]&&this[gs](e,r),!1):(this[ys]+=o.length,this[ir].unshift(o),this[mi].set(e,this[ir].head),Oc(this),!0)}has(e){if(!this[mi].has(e))return!1;let r=this[mi].get(e).value;return!xp(this,r)}get(e){return hE(this,e,!0)}peek(e){return hE(this,e,!1)}pop(){let e=this[ir].tail;return e?(ku(this,e),e.value):null}del(e){ku(this,this[mi].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[mi].forEach((e,r)=>hE(this,r,!1))}},hE=(t,e,r)=>{let n=t[mi].get(e);if(n){let i=n.value;if(xp(t,i)){if(ku(t,n),!t[Rc])return}else r&&(t[CI]&&(n.value.now=Date.now()),t[ir].unshiftNode(n));return i.value}},xp=(t,e)=>{if(!e||!e.maxAge&&!t[aa])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[aa]&&r>t[aa]},Oc=t=>{if(t[ys]>t[oa])for(let e=t[ir].tail;t[ys]>t[oa]&&e!==null;){let r=e.prev;ku(t,e),e=r}},ku=(t,e)=>{if(e){let r=e.value;t[gs]&&t[gs](r.key,r.value),t[ys]-=r.length,t[mi].delete(r.key),t[ir].removeNode(e)}},pE=class{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}},xI=(t,e,r,n)=>{let i=r.value;xp(t,i)&&(ku(t,r),t[Rc]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};SI.exports=dE});var Wn=M((ile,kI)=>{var ua=class{constructor(e,r){if(r=h7(r),e instanceof ua)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new ua(e.raw,r);if(e instanceof mE)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!FI(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&y7(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=AI.get(n);if(i)return i;let s=this.options.loose,o=s?en[Br.HYPHENRANGELOOSE]:en[Br.HYPHENRANGE];e=e.replace(o,F7(this.options.includePrerelease)),Ft("hyphen replace",e),e=e.replace(en[Br.COMPARATORTRIM],p7),Ft("comparator trim",e),e=e.replace(en[Br.TILDETRIM],m7),e=e.replace(en[Br.CARETTRIM],g7),e=e.split(/\s+/).join(" ");let a=e.split(" ").map(d=>v7(d,this.options)).join(" ").split(/\s+/).map(d=>A7(d,this.options));s&&(a=a.filter(d=>(Ft("loose invalid filter",d,this.options),!!d.match(en[Br.COMPARATORLOOSE])))),Ft("range list",a);let u=new Map,f=a.map(d=>new mE(d,this.options));for(let d of f){if(FI(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let c=[...u.values()];return AI.set(n,c),c}intersects(e,r){if(!(e instanceof ua))throw new TypeError("a Range is required");return this.set.some(n=>_I(n,r)&&e.set.some(i=>_I(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new d7(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(_7(this.set[r],e,this.options))return!0;return!1}};kI.exports=ua;var f7=DI(),AI=new f7({max:1e3}),h7=Pc(),mE=Bc(),Ft=Ic(),d7=Fr(),{re:en,t:Br,comparatorTrimReplace:p7,tildeTrimReplace:m7,caretTrimReplace:g7}=ia(),FI=t=>t.value==="<0.0.0-0",y7=t=>t.value==="",_I=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},v7=(t,e)=>(Ft("comp",t,e),t=w7(t,e),Ft("caret",t),t=E7(t,e),Ft("tildes",t),t=C7(t,e),Ft("xrange",t),t=D7(t,e),Ft("stars",t),t),Lr=t=>!t||t.toLowerCase()==="x"||t==="*",E7=(t,e)=>t.trim().split(/\s+/).map(r=>b7(r,e)).join(" "),b7=(t,e)=>{let r=e.loose?en[Br.TILDELOOSE]:en[Br.TILDE];return t.replace(r,(n,i,s,o,a)=>{Ft("tilde",t,n,i,s,o,a);let u;return Lr(i)?u="":Lr(s)?u=`>=${i}.0.0 <${+i+1}.0.0-0`:Lr(o)?u=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(Ft("replaceTilde pr",a),u=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):u=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,Ft("tilde return",u),u})},w7=(t,e)=>t.trim().split(/\s+/).map(r=>x7(r,e)).join(" "),x7=(t,e)=>{Ft("caret",t,e);let r=e.loose?en[Br.CARETLOOSE]:en[Br.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,o,a,u)=>{Ft("caret",t,i,s,o,a,u);let f;return Lr(s)?f="":Lr(o)?f=`>=${s}.0.0${n} <${+s+1}.0.0-0`:Lr(a)?s==="0"?f=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:f=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:u?(Ft("replaceCaret pr",u),s==="0"?o==="0"?f=`>=${s}.${o}.${a}-${u} <${s}.${o}.${+a+1}-0`:f=`>=${s}.${o}.${a}-${u} <${s}.${+o+1}.0-0`:f=`>=${s}.${o}.${a}-${u} <${+s+1}.0.0-0`):(Ft("no pr"),s==="0"?o==="0"?f=`>=${s}.${o}.${a}${n} <${s}.${o}.${+a+1}-0`:f=`>=${s}.${o}.${a}${n} <${s}.${+o+1}.0-0`:f=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),Ft("caret return",f),f})},C7=(t,e)=>(Ft("replaceXRanges",t,e),t.split(/\s+/).map(r=>S7(r,e)).join(" ")),S7=(t,e)=>{t=t.trim();let r=e.loose?en[Br.XRANGELOOSE]:en[Br.XRANGE];return t.replace(r,(n,i,s,o,a,u)=>{Ft("xRange",t,n,i,s,o,a,u);let f=Lr(s),c=f||Lr(o),d=c||Lr(a),p=d;return i==="="&&p&&(i=""),u=e.includePrerelease?"-0":"",f?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&p?(c&&(o=0),a=0,i===">"?(i=">=",c?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",c?s=+s+1:o=+o+1),i==="<"&&(u="-0"),n=`${i+s}.${o}.${a}${u}`):c?n=`>=${s}.0.0${u} <${+s+1}.0.0-0`:d&&(n=`>=${s}.${o}.0${u} <${s}.${+o+1}.0-0`),Ft("xRange return",n),n})},D7=(t,e)=>(Ft("replaceStars",t,e),t.trim().replace(en[Br.STAR],"")),A7=(t,e)=>(Ft("replaceGTE0",t,e),t.trim().replace(en[e.includePrerelease?Br.GTE0PRE:Br.GTE0],"")),F7=t=>(e,r,n,i,s,o,a,u,f,c,d,p,l)=>(Lr(n)?r="":Lr(i)?r=`>=${n}.0.0${t?"-0":""}`:Lr(s)?r=`>=${n}.${i}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Lr(f)?u="":Lr(c)?u=`<${+f+1}.0.0-0`:Lr(d)?u=`<${f}.${+c+1}.0-0`:p?u=`<=${f}.${c}.${d}-${p}`:t?u=`<${f}.${c}.${+d+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),_7=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Ft(t[n].semver),t[n].semver!==mE.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Bc=M((sle,RI)=>{var Lc=Symbol("SemVer ANY"),Iu=class{static get ANY(){return Lc}constructor(e,r){if(r=k7(r),e instanceof Iu){if(e.loose===!!r.loose)return e;e=e.value}yE("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Lc?this.value="":this.value=this.operator+this.semver.version,yE("comp",this)}parse(e){let r=this.options.loose?II[PI.COMPARATORLOOSE]:II[PI.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new TI(n[2],this.options.loose):this.semver=Lc}toString(){return this.value}test(e){if(yE("Comparator.test",e,this.options.loose),this.semver===Lc||e===Lc)return!0;if(typeof e=="string")try{e=new TI(e,this.options)}catch{return!1}return gE(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof Iu))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new OI(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new OI(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=gE(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=gE(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||s&&o||a||u}};RI.exports=Iu;var k7=Pc(),{re:II,t:PI}=ia(),gE=cE(),yE=Ic(),TI=Fr(),OI=Wn()});var Nc=M((ole,BI)=>{var I7=Wn(),P7=(t,e,r)=>{try{e=new I7(e,r)}catch{return!1}return e.test(t)};BI.exports=P7});var NI=M((ale,LI)=>{var T7=Wn(),O7=(t,e)=>new T7(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));LI.exports=O7});var jI=M((ule,MI)=>{var R7=Fr(),B7=Wn(),L7=(t,e,r)=>{let n=null,i=null,s=null;try{s=new B7(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new R7(n,r))}),n};MI.exports=L7});var UI=M((lle,$I)=>{var N7=Fr(),M7=Wn(),j7=(t,e,r)=>{let n=null,i=null,s=null;try{s=new M7(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new N7(n,r))}),n};$I.exports=j7});var HI=M((cle,VI)=>{var vE=Fr(),$7=Wn(),qI=Tc(),U7=(t,e)=>{t=new $7(t,e);let r=new vE("0.0.0");if(t.test(r)||(r=new vE("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(o=>{let a=new vE(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||qI(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||qI(r,s))&&(r=s)}return r&&t.test(r)?r:null};VI.exports=U7});var WI=M((fle,zI)=>{var q7=Wn(),V7=(t,e)=>{try{return new q7(t,e).range||"*"}catch{return null}};zI.exports=V7});var Cp=M((hle,XI)=>{var H7=Fr(),KI=Bc(),{ANY:z7}=KI,W7=Wn(),G7=Nc(),GI=Tc(),JI=yp(),J7=Ep(),K7=vp(),X7=(t,e,r,n)=>{t=new H7(t,n),e=new W7(e,n);let i,s,o,a,u;switch(r){case">":i=GI,s=J7,o=JI,a=">",u=">=";break;case"<":i=JI,s=K7,o=GI,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(G7(t,e,n))return!1;for(let f=0;f<e.set.length;++f){let c=e.set[f],d=null,p=null;if(c.forEach(l=>{l.semver===z7&&(l=new KI(">=0.0.0")),d=d||l,p=p||l,i(l.semver,d.semver,n)?d=l:o(l.semver,p.semver,n)&&(p=l)}),d.operator===a||d.operator===u||(!p.operator||p.operator===a)&&s(t,p.semver))return!1;if(p.operator===u&&o(t,p.semver))return!1}return!0};XI.exports=X7});var ZI=M((dle,YI)=>{var Y7=Cp(),Z7=(t,e,r)=>Y7(t,e,">",r);YI.exports=Z7});var eP=M((ple,QI)=>{var Q7=Cp(),eq=(t,e,r)=>Q7(t,e,"<",r);QI.exports=eq});var nP=M((mle,rP)=>{var tP=Wn(),tq=(t,e,r)=>(t=new tP(t,r),e=new tP(e,r),t.intersects(e));rP.exports=tq});var sP=M((gle,iP)=>{var rq=Nc(),nq=zn();iP.exports=(t,e,r)=>{let n=[],i=null,s=null,o=t.sort((c,d)=>nq(c,d,r));for(let c of o)rq(c,e,r)?(s=c,i||(i=c)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let a=[];for(let[c,d]of n)c===d?a.push(c):!d&&c===o[0]?a.push("*"):d?c===o[0]?a.push(`<=${d}`):a.push(`${c} - ${d}`):a.push(`>=${c}`);let u=a.join(" || "),f=typeof e.raw=="string"?e.raw:String(e);return u.length<f.length?u:e}});var cP=M((yle,lP)=>{var oP=Wn(),Sp=Bc(),{ANY:EE}=Sp,Mc=Nc(),bE=zn(),iq=(t,e,r={})=>{if(t===e)return!0;t=new oP(t,r),e=new oP(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let o=sq(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},sq=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===EE){if(e.length===1&&e[0].semver===EE)return!0;r.includePrerelease?t=[new Sp(">=0.0.0-0")]:t=[new Sp(">=0.0.0")]}if(e.length===1&&e[0].semver===EE){if(r.includePrerelease)return!0;e=[new Sp(">=0.0.0")]}let n=new Set,i,s;for(let l of t)l.operator===">"||l.operator===">="?i=aP(i,l,r):l.operator==="<"||l.operator==="<="?s=uP(s,l,r):n.add(l.semver);if(n.size>1)return null;let o;if(i&&s){if(o=bE(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let l of n){if(i&&!Mc(l,String(i),r)||s&&!Mc(l,String(s),r))return null;for(let h of e)if(!Mc(l,String(h),r))return!1;return!0}let a,u,f,c,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,p=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let l of e){if(c=c||l.operator===">"||l.operator===">=",f=f||l.operator==="<"||l.operator==="<=",i){if(p&&l.semver.prerelease&&l.semver.prerelease.length&&l.semver.major===p.major&&l.semver.minor===p.minor&&l.semver.patch===p.patch&&(p=!1),l.operator===">"||l.operator===">="){if(a=aP(i,l,r),a===l&&a!==i)return!1}else if(i.operator===">="&&!Mc(i.semver,String(l),r))return!1}if(s){if(d&&l.semver.prerelease&&l.semver.prerelease.length&&l.semver.major===d.major&&l.semver.minor===d.minor&&l.semver.patch===d.patch&&(d=!1),l.operator==="<"||l.operator==="<="){if(u=uP(s,l,r),u===l&&u!==s)return!1}else if(s.operator==="<="&&!Mc(s.semver,String(l),r))return!1}if(!l.operator&&(s||i)&&o!==0)return!1}return!(i&&f&&!s&&o!==0||s&&c&&!i&&o!==0||p||d)},aP=(t,e,r)=>{if(!t)return e;let n=bE(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},uP=(t,e,r)=>{if(!t)return e;let n=bE(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};lP.exports=iq});var jc=M((vle,hP)=>{var wE=ia(),oq=kc(),aq=Fr(),fP=uE(),uq=sa(),lq=Nk(),cq=jk(),fq=qk(),hq=Jk(),dq=Xk(),pq=Zk(),mq=eI(),gq=rI(),yq=zn(),vq=iI(),Eq=oI(),bq=gp(),wq=cI(),xq=hI(),Cq=Tc(),Sq=yp(),Dq=mp(),Aq=lE(),Fq=vp(),_q=Ep(),kq=cE(),Iq=bI(),Pq=Bc(),Tq=Wn(),Oq=Nc(),Rq=NI(),Bq=jI(),Lq=UI(),Nq=HI(),Mq=WI(),jq=Cp(),$q=ZI(),Uq=eP(),qq=nP(),Vq=sP(),Hq=cP();hP.exports={parse:uq,valid:lq,clean:cq,inc:fq,diff:hq,major:dq,minor:pq,patch:mq,prerelease:gq,compare:yq,rcompare:vq,compareLoose:Eq,compareBuild:bq,sort:wq,rsort:xq,gt:Cq,lt:Sq,eq:Dq,neq:Aq,gte:Fq,lte:_q,cmp:kq,coerce:Iq,Comparator:Pq,Range:Tq,satisfies:Oq,toComparators:Rq,maxSatisfying:Bq,minSatisfying:Lq,minVersion:Nq,validRange:Mq,outside:jq,gtr:$q,ltr:Uq,intersects:qq,simplifyRange:Vq,subset:Hq,SemVer:aq,re:wE.re,src:wE.src,tokens:wE.t,SEMVER_SPEC_VERSION:oq.SEMVER_SPEC_VERSION,compareIdentifiers:fP.compareIdentifiers,rcompareIdentifiers:fP.rcompareIdentifiers}});var pP=M((Ele,dP)=>{var Pu=1e3,Tu=Pu*60,Ou=Tu*60,la=Ou*24,zq=la*7,Wq=la*365.25;dP.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Gq(t);if(r==="number"&&isFinite(t))return e.long?Kq(t):Jq(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Gq(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Wq;case"weeks":case"week":case"w":return r*zq;case"days":case"day":case"d":return r*la;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ou;case"minutes":case"minute":case"mins":case"min":case"m":return r*Tu;case"seconds":case"second":case"secs":case"sec":case"s":return r*Pu;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Jq(t){var e=Math.abs(t);return e>=la?Math.round(t/la)+"d":e>=Ou?Math.round(t/Ou)+"h":e>=Tu?Math.round(t/Tu)+"m":e>=Pu?Math.round(t/Pu)+"s":t+"ms"}function Kq(t){var e=Math.abs(t);return e>=la?Dp(t,e,la,"day"):e>=Ou?Dp(t,e,Ou,"hour"):e>=Tu?Dp(t,e,Tu,"minute"):e>=Pu?Dp(t,e,Pu,"second"):t+" ms"}function Dp(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var xE=M((ble,mP)=>{function Xq(t){r.debug=r,r.default=r,r.coerce=u,r.disable=s,r.enable=i,r.enabled=o,r.humanize=pP(),r.destroy=f,Object.keys(t).forEach(c=>{r[c]=t[c]}),r.names=[],r.skips=[],r.formatters={};function e(c){let d=0;for(let p=0;p<c.length;p++)d=(d<<5)-d+c.charCodeAt(p),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(c){let d,p=null,l,h;function y(...g){if(!y.enabled)return;let v=y,b=Number(new Date),x=b-(d||b);v.diff=x,v.prev=d,v.curr=b,d=b,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let E=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(F,P)=>{if(F==="%%")return"%";E++;let V=r.formatters[P];if(typeof V=="function"){let H=g[E];F=V.call(v,H),g.splice(E,1),E--}return F}),r.formatArgs.call(v,g),(v.log||r.log).apply(v,g)}return y.namespace=c,y.useColors=r.useColors(),y.color=r.selectColor(c),y.extend=n,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(l!==r.namespaces&&(l=r.namespaces,h=r.enabled(c)),h),set:g=>{p=g}}),typeof r.init=="function"&&r.init(y),y}function n(c,d){let p=r(this.namespace+(typeof d>"u"?":":d)+c);return p.log=this.log,p}function i(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];let d,p=(typeof c=="string"?c:"").split(/[\s,]+/),l=p.length;for(d=0;d<l;d++)p[d]&&(c=p[d].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.slice(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function s(){let c=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),c}function o(c){if(c[c.length-1]==="*")return!0;let d,p;for(d=0,p=r.skips.length;d<p;d++)if(r.skips[d].test(c))return!1;for(d=0,p=r.names.length;d<p;d++)if(r.names[d].test(c))return!0;return!1}function a(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function u(c){return c instanceof Error?c.stack||c.message:c}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}mP.exports=Xq});var gP=M((Cn,Ap)=>{Cn.formatArgs=Zq;Cn.save=Qq;Cn.load=eV;Cn.useColors=Yq;Cn.storage=tV();Cn.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Cn.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Yq(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Zq(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Ap.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Cn.log=console.debug||console.log||(()=>{});function Qq(t){try{t?Cn.storage.setItem("debug",t):Cn.storage.removeItem("debug")}catch{}}function eV(){let t;try{t=Cn.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function tV(){try{return localStorage}catch{}}Ap.exports=xE()(Cn);var{formatters:rV}=Ap.exports;rV.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var vP=M((wle,yP)=>{"use strict";yP.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var wP=M((xle,bP)=>{"use strict";var nV=require("os"),EP=require("tty"),Gn=vP(),{env:sr}=process,Fp;Gn("no-color")||Gn("no-colors")||Gn("color=false")||Gn("color=never")?Fp=0:(Gn("color")||Gn("colors")||Gn("color=true")||Gn("color=always"))&&(Fp=1);function iV(){if("FORCE_COLOR"in sr)return sr.FORCE_COLOR==="true"?1:sr.FORCE_COLOR==="false"?0:sr.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(sr.FORCE_COLOR,10),3)}function sV(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function oV(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let n=iV();n!==void 0&&(Fp=n);let i=r?Fp:n;if(i===0)return 0;if(r){if(Gn("color=16m")||Gn("color=full")||Gn("color=truecolor"))return 3;if(Gn("color=256"))return 2}if(t&&!e&&i===void 0)return 0;let s=i||0;if(sr.TERM==="dumb")return s;if(process.platform==="win32"){let o=nV.release().split(".");return Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in sr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(o=>o in sr)||sr.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in sr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(sr.TEAMCITY_VERSION)?1:0;if(sr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in sr){let o=Number.parseInt((sr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(sr.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(sr.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(sr.TERM)||"COLORTERM"in sr?1:s}function CE(t,e={}){let r=oV(t,{streamIsTTY:t&&t.isTTY,...e});return sV(r)}bP.exports={supportsColor:CE,stdout:CE({isTTY:EP.isatty(1)}),stderr:CE({isTTY:EP.isatty(2)})}});var CP=M((lr,kp)=>{var aV=require("tty"),_p=require("util");lr.init=pV;lr.log=fV;lr.formatArgs=lV;lr.save=hV;lr.load=dV;lr.useColors=uV;lr.destroy=_p.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");lr.colors=[6,2,3,4,5,1];try{let t=wP();t&&(t.stderr||t).level>=2&&(lr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}lr.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function uV(){return"colors"in lr.inspectOpts?!!lr.inspectOpts.colors:aV.isatty(process.stderr.fd)}function lV(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+kp.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=cV()+e+" "+t[0]}function cV(){return lr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function fV(...t){return process.stderr.write(_p.format(...t)+`
`)}function hV(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function dV(){return process.env.DEBUG}function pV(t){t.inspectOpts={};let e=Object.keys(lr.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=lr.inspectOpts[e[r]]}kp.exports=xE()(lr);var{formatters:xP}=kp.exports;xP.o=function(t){return this.inspectOpts.colors=this.useColors,_p.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};xP.O=function(t){return this.inspectOpts.colors=this.useColors,_p.inspect(t,this.inspectOpts)}});var Sn=M((Cle,SE)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?SE.exports=gP():SE.exports=CP()});var DP=M((Sle,SP)=>{var $c;SP.exports=function(){if(!$c){try{$c=Sn()("follow-redirects")}catch{}typeof $c!="function"&&($c=function(){})}$c.apply(null,arguments)}});var OP=M((Dle,kE)=>{var ca=require("url"),DE=ca.URL,mV=require("http"),gV=require("https"),_P=require("stream").Writable,kP=require("assert"),IP=DP(),FE=["abort","aborted","connect","error","socket","timeout"],_E=Object.create(null);FE.forEach(function(t){_E[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}});var yV=qc("ERR_INVALID_URL","Invalid URL",TypeError),AP=qc("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),vV=qc("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),EV=qc("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),bV=qc("ERR_STREAM_WRITE_AFTER_END","write after end");function Dn(t,e){_P.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(n){r._processResponse(n)},this._performRequest()}Dn.prototype=Object.create(_P.prototype);Dn.prototype.abort=function(){TP(this._currentRequest),this.emit("abort")};Dn.prototype.write=function(t,e,r){if(this._ending)throw new bV;if(!fa(t)&&!CV(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(Uc(e)&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new EV),this.abort())};Dn.prototype.end=function(t,e,r){if(Uc(t)?(r=t,t=e=null):Uc(e)&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(t,e,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};Dn.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};Dn.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};Dn.prototype.setTimeout=function(t,e){var r=this;function n(o){o.setTimeout(t),o.removeListener("timeout",o.destroy),o.addListener("timeout",o.destroy)}function i(o){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),s()},t),n(o)}function s(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",s),r.removeListener("error",s),r.removeListener("response",s),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",i)}return e&&this.on("timeout",e),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.on("abort",s),this.on("error",s),this.on("response",s),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){Dn.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(Dn.prototype,t,{get:function(){return this._currentRequest[t]}})});Dn.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};Dn.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e){this.emit("error",new TypeError("Unsupported protocol "+t));return}if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);n._redirectable=this;for(var i of FE)n.on(i,_E[i]);if(this._currentUrl=/^\//.test(this._options.path)?ca.format(this._options):this._options.path,this._isRedirect){var s=0,o=this,a=this._requestBodyBuffers;(function u(f){if(n===o._currentRequest)if(f)o.emit("error",f);else if(s<a.length){var c=a[s++];n.finished||n.write(c.data,c.encoding,u)}else o._ended&&n.end()})()}};Dn.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(TP(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new vV);return}var n,i=this._options.beforeRedirect;i&&(n=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var s=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],AE(/^content-/i,this._options.headers));var o=AE(/^host$/i,this._options.headers),a=ca.parse(this._currentUrl),u=o||a.host,f=/^\w+:/.test(r)?this._currentUrl:ca.format(Object.assign(a,{host:u})),c;try{c=ca.resolve(f,r)}catch(h){this.emit("error",new AP({cause:h}));return}IP("redirecting to",c),this._isRedirect=!0;var d=ca.parse(c);if(Object.assign(this._options,d),(d.protocol!==a.protocol&&d.protocol!=="https:"||d.host!==u&&!xV(d.host,u))&&AE(/^(?:authorization|cookie)$/i,this._options.headers),Uc(i)){var p={headers:t.headers,statusCode:e},l={url:f,method:s,headers:n};try{i(this._options,p,l)}catch(h){this.emit("error",h);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(h){this.emit("error",new AP({cause:h}))}};function PP(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach(function(n){var i=n+":",s=r[i]=t[n],o=e[n]=Object.create(s);function a(f,c,d){if(fa(f)){var p;try{p=FP(new DE(f))}catch{p=ca.parse(f)}if(!fa(p.protocol))throw new yV({input:f});f=p}else DE&&f instanceof DE?f=FP(f):(d=c,c=f,f={protocol:i});return Uc(c)&&(d=c,c=null),c=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},f,c),c.nativeProtocols=r,!fa(c.host)&&!fa(c.hostname)&&(c.hostname="::1"),kP.equal(c.protocol,i,"protocol mismatch"),IP("options",c),new Dn(c,d)}function u(f,c,d){var p=o.request(f,c,d);return p.end(),p}Object.defineProperties(o,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:u,configurable:!0,enumerable:!0,writable:!0}})}),e}function wV(){}function FP(t){var e={protocol:t.protocol,hostname:t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:t.pathname+t.search,href:t.href};return t.port!==""&&(e.port=Number(t.port)),e}function AE(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return r===null||typeof r>"u"?void 0:String(r).trim()}function qc(t,e,r){function n(i){Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return n.prototype=new(r||Error),n.prototype.constructor=n,n.prototype.name="Error ["+t+"]",n}function TP(t){for(var e of FE)t.removeListener(e,_E[e]);t.on("error",wV),t.abort()}function xV(t,e){kP(fa(t)&&fa(e));var r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}function fa(t){return typeof t=="string"||t instanceof String}function Uc(t){return typeof t=="function"}function CV(t){return typeof t=="object"&&"length"in t}kE.exports=PP({http:mV,https:gV});kE.exports.wrap=PP});var MP=M((_le,NP)=>{var Vc=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,SV=typeof AbortController=="function",Ip=SV?AbortController:class{constructor(){this.signal=new RP}abort(e=new Error("This operation was aborted")){this.signal.reason=this.signal.reason||e,this.signal.aborted=!0,this.signal.dispatchEvent({type:"abort",target:this.signal})}},DV=typeof AbortSignal=="function",AV=typeof Ip.AbortSignal=="function",RP=DV?AbortSignal:AV?Ip.AbortController:class{constructor(){this.reason=void 0,this.aborted=!1,this._listeners=[]}dispatchEvent(e){e.type==="abort"&&(this.aborted=!0,this.onabort(e),this._listeners.forEach(r=>r(e),this))}onabort(){}addEventListener(e,r){e==="abort"&&this._listeners.push(r)}removeEventListener(e,r){e==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},OE=new Set,IE=(t,e)=>{let r=`LRU_CACHE_OPTION_${t}`;Pp(r)&&RE(r,`${t} option`,`options.${e}`,vs)},PE=(t,e)=>{let r=`LRU_CACHE_METHOD_${t}`;if(Pp(r)){let{prototype:n}=vs,{get:i}=Object.getOwnPropertyDescriptor(n,t);RE(r,`${t} method`,`cache.${e}()`,i)}},FV=(t,e)=>{let r=`LRU_CACHE_PROPERTY_${t}`;if(Pp(r)){let{prototype:n}=vs,{get:i}=Object.getOwnPropertyDescriptor(n,t);RE(r,`${t} property`,`cache.${e}`,i)}},BP=(...t)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...t):console.error(...t)},Pp=t=>!OE.has(t),RE=(t,e,r,n)=>{OE.add(t);let i=`The ${e} is deprecated. Please use ${r} instead.`;BP(i,"DeprecationWarning",t,n)},no=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),LP=t=>no(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Ru:null:null,Ru=class extends Array{constructor(e){super(e),this.fill(0)}},TE=class{constructor(e){if(e===0)return[];let r=LP(e);this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},vs=class{constructor(e={}){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:u,dispose:f,disposeAfter:c,noDisposeOnSet:d,noUpdateTTL:p,maxSize:l=0,maxEntrySize:h=0,sizeCalculation:y,fetchMethod:g,fetchContext:v,noDeleteOnFetchRejection:b,noDeleteOnStaleGet:x,allowStaleOnFetchRejection:E,allowStaleOnFetchAbort:S,ignoreFetchAbort:F}=e,{length:P,maxAge:V,stale:H}=e instanceof vs?{}:e;if(r!==0&&!no(r))throw new TypeError("max option must be a nonnegative integer");let j=r?LP(r):Array;if(!j)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=l,this.maxEntrySize=h||this.maxSize,this.sizeCalculation=y||P,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=g||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=v,!this.fetchMethod&&v!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new j(r),this.prev=new j(r),this.head=0,this.tail=0,this.free=new TE(r),this.initialFill=1,this.size=0,typeof f=="function"&&(this.dispose=f),typeof c=="function"?(this.disposeAfter=c,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!d,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!b,this.allowStaleOnFetchRejection=!!E,this.allowStaleOnFetchAbort=!!S,this.ignoreFetchAbort=!!F,this.maxEntrySize!==0){if(this.maxSize!==0&&!no(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!no(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!u||!!H,this.noDeleteOnStaleGet=!!x,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=no(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||V||0,this.ttl){if(!no(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let R="LRU_CACHE_UNBOUNDED";Pp(R)&&(OE.add(R),BP("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",R,vs))}H&&IE("stale","allowStale"),V&&IE("maxAge","ttl"),P&&IE("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new Ru(this.max),this.starts=new Ru(this.max),this.setItemTTL=(n,i,s=Vc.now())=>{if(this.starts[n]=i!==0?s:0,this.ttls[n]=i,i!==0&&this.ttlAutopurge){let o=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},i+1);o.unref&&o.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?Vc.now():0},this.statusTTL=(n,i)=>{n&&(n.ttl=this.ttls[i],n.start=this.starts[i],n.now=e||r(),n.remainingTTL=n.now+n.ttl-n.start)};let e=0,r=()=>{let n=Vc.now();if(this.ttlResolution>0){e=n;let i=setTimeout(()=>e=0,this.ttlResolution);i.unref&&i.unref()}return n};this.getRemainingTTL=n=>{let i=this.keyMap.get(n);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(e||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(e||r())-this.starts[n]>this.ttls[n]}updateItemAge(e){}statusTTL(e,r){}setItemTTL(e,r,n){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new Ru(this.max),this.removeItemSize=e=>{this.calculatedSize-=this.sizes[e],this.sizes[e]=0},this.requireSize=(e,r,n,i)=>{if(this.isBackgroundFetch(r))return 0;if(!no(n))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(n=i(r,e),!no(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.addItemSize=(e,r,n)=>{if(this.sizes[e]=r,this.maxSize){let i=this.maxSize-this.sizes[e];for(;this.calculatedSize>i;)this.evict(!0)}this.calculatedSize+=this.sizes[e],n&&(n.entrySize=r,n.totalCalculatedSize=this.calculatedSize)}}removeItemSize(e){}addItemSize(e,r){}requireSize(e,r,n,i){if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(e){return e!==void 0&&this.keyMap.get(this.keyList[e])===e}*entries(){for(let e of this.indexes())this.valList[e]!==void 0&&this.keyList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield[this.keyList[e],this.valList[e]])}*rentries(){for(let e of this.rindexes())this.valList[e]!==void 0&&this.keyList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield[this.keyList[e],this.valList[e]])}*keys(){for(let e of this.indexes())this.keyList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield this.keyList[e])}*rkeys(){for(let e of this.rindexes())this.keyList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield this.keyList[e])}*values(){for(let e of this.indexes())this.valList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield this.valList[e])}*rvalues(){for(let e of this.rindexes())this.valList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield this.valList[e])}[Symbol.iterator](){return this.entries()}find(e,r){for(let n of this.indexes()){let i=this.valList[n],s=this.isBackgroundFetch(i)?i.__staleWhileFetching:i;if(s!==void 0&&e(s,this.keyList[n],this))return this.get(this.keyList[n],r)}}forEach(e,r=this){for(let n of this.indexes()){let i=this.valList[n],s=this.isBackgroundFetch(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.keyList[n],this)}}rforEach(e,r=this){for(let n of this.rindexes()){let i=this.valList[n],s=this.isBackgroundFetch(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.keyList[n],this)}}get prune(){return PE("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),e=!0);return e}dump(){let e=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],i=this.valList[r],s=this.isBackgroundFetch(i)?i.__staleWhileFetching:i;if(s===void 0)continue;let o={value:s};if(this.ttls){o.ttl=this.ttls[r];let a=Vc.now()-this.starts[r];o.start=Math.floor(Date.now()-a)}this.sizes&&(o.size=this.sizes[r]),e.unshift([n,o])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=Vc.now()-i}this.set(r,n.value,n)}}dispose(e,r,n){}set(e,r,{ttl:n=this.ttl,start:i,noDisposeOnSet:s=this.noDisposeOnSet,size:o=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,status:f}={}){if(o=this.requireSize(e,r,o,a),this.maxEntrySize&&o>this.maxEntrySize)return f&&(f.set="miss",f.maxEntrySizeExceeded=!0),this.delete(e),this;let c=this.size===0?void 0:this.keyMap.get(e);if(c===void 0)c=this.newIndex(),this.keyList[c]=e,this.valList[c]=r,this.keyMap.set(e,c),this.next[this.tail]=c,this.prev[c]=this.tail,this.tail=c,this.size++,this.addItemSize(c,o,f),f&&(f.set="add"),u=!1;else{this.moveToTail(c);let d=this.valList[c];if(r!==d){if(this.isBackgroundFetch(d)?d.__abortController.abort(new Error("replaced")):s||(this.dispose(d,e,"set"),this.disposeAfter&&this.disposed.push([d,e,"set"])),this.removeItemSize(c),this.valList[c]=r,this.addItemSize(c,o,f),f){f.set="replace";let p=d&&this.isBackgroundFetch(d)?d.__staleWhileFetching:d;p!==void 0&&(f.oldValue=p)}}else f&&(f.set="update")}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),u||this.setItemTTL(c,n,i),this.statusTTL(f,c),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let e=this.valList[this.head];return this.evict(!0),e}}evict(e){let r=this.head,n=this.keyList[r],i=this.valList[r];return this.isBackgroundFetch(i)?i.__abortController.abort(new Error("evicted")):(this.dispose(i,n,"evict"),this.disposeAfter&&this.disposed.push([i,n,"evict"])),this.removeItemSize(r),e&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(e,{updateAgeOnHas:r=this.updateAgeOnHas,status:n}={}){let i=this.keyMap.get(e);if(i!==void 0)if(this.isStale(i))n&&(n.has="stale",this.statusTTL(n,i));else return r&&this.updateItemAge(i),n&&(n.has="hit"),this.statusTTL(n,i),!0;else n&&(n.has="miss");return!1}peek(e,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(e);if(n!==void 0&&(r||!this.isStale(n))){let i=this.valList[n];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(e,r,n,i){let s=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(s))return s;let o=new Ip;n.signal&&n.signal.addEventListener("abort",()=>o.abort(n.signal.reason));let a={signal:o.signal,options:n,context:i},u=(l,h=!1)=>{let{aborted:y}=o.signal,g=n.ignoreFetchAbort&&l!==void 0;return n.status&&(y&&!h?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,g&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),y&&!g&&!h?c(o.signal.reason):(this.valList[r]===p&&(l===void 0?p.__staleWhileFetching?this.valList[r]=p.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,l,a.options))),l)},f=l=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=l),c(l)),c=l=>{let{aborted:h}=o.signal,y=h&&n.allowStaleOnFetchAbort,g=y||n.allowStaleOnFetchRejection,v=g||n.noDeleteOnFetchRejection;if(this.valList[r]===p&&(!v||p.__staleWhileFetching===void 0?this.delete(e):y||(this.valList[r]=p.__staleWhileFetching)),g)return n.status&&p.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),p.__staleWhileFetching;if(p.__returned===p)throw l},d=(l,h)=>{this.fetchMethod(e,s,a).then(y=>l(y),h),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(l(),n.allowStaleOnFetchAbort&&(l=y=>u(y,!0)))})};n.status&&(n.status.fetchDispatched=!0);let p=new Promise(d).then(u,f);return p.__abortController=o,p.__staleWhileFetching=s,p.__returned=null,r===void 0?(this.set(e,p,{...a.options,status:void 0}),r=this.keyMap.get(e)):this.valList[r]=p,p}isBackgroundFetch(e){return e&&typeof e=="object"&&typeof e.then=="function"&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||e.__returned===null)}async fetch(e,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:f=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:l=this.allowStaleOnFetchAbort,fetchContext:h=this.fetchContext,forceRefresh:y=!1,status:g,signal:v}={}){if(!this.fetchMethod)return g&&(g.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,status:g});let b={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:s,noDisposeOnSet:o,size:a,sizeCalculation:u,noUpdateTTL:f,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:l,ignoreFetchAbort:p,status:g,signal:v},x=this.keyMap.get(e);if(x===void 0){g&&(g.fetch="miss");let E=this.backgroundFetch(e,x,b,h);return E.__returned=E}else{let E=this.valList[x];if(this.isBackgroundFetch(E)){let H=r&&E.__staleWhileFetching!==void 0;return g&&(g.fetch="inflight",H&&(g.returnedStale=!0)),H?E.__staleWhileFetching:E.__returned=E}let S=this.isStale(x);if(!y&&!S)return g&&(g.fetch="hit"),this.moveToTail(x),n&&this.updateItemAge(x),this.statusTTL(g,x),E;let F=this.backgroundFetch(e,x,b,h),P=F.__staleWhileFetching!==void 0,V=P&&r;return g&&(g.fetch=P&&S?"stale":"refresh",V&&S&&(g.returnedStale=!0)),V?F.__staleWhileFetching:F.__returned=F}}get(e,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:s}={}){let o=this.keyMap.get(e);if(o!==void 0){let a=this.valList[o],u=this.isBackgroundFetch(a);return this.statusTTL(s,o),this.isStale(o)?(s&&(s.get="stale"),u?(s&&(s.returnedStale=r&&a.__staleWhileFetching!==void 0),r?a.__staleWhileFetching:void 0):(i||this.delete(e),s&&(s.returnedStale=r),r?a:void 0)):(s&&(s.get="hit"),u?a.__staleWhileFetching:(this.moveToTail(o),n&&this.updateItemAge(o),a))}else s&&(s.get="miss")}connect(e,r){this.prev[r]=e,this.next[e]=r}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return PE("del","delete"),this.delete}delete(e){let r=!1;if(this.size!==0){let n=this.keyMap.get(e);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let i=this.valList[n];this.isBackgroundFetch(i)?i.__abortController.abort(new Error("deleted")):(this.dispose(i,e,"delete"),this.disposeAfter&&this.disposed.push([i,e,"delete"])),this.keyMap.delete(e),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let e of this.rindexes({allowStale:!0})){let r=this.valList[e];if(this.isBackgroundFetch(r))r.__abortController.abort(new Error("deleted"));else{let n=this.keyList[e];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return PE("reset","clear"),this.clear}get length(){return FV("length","size"),this.size}static get AbortController(){return Ip}static get AbortSignal(){return RP}};NP.exports=vs});var UP=M(tn=>{"use strict";var _V=tn&&tn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kV=tn&&tn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jP=tn&&tn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_V(e,t,r);return kV(e,t),e};Object.defineProperty(tn,"__esModule",{value:!0});tn.req=tn.json=tn.toBuffer=void 0;var IV=jP(require("http")),PV=jP(require("https"));async function $P(t){let e=0,r=[];for await(let n of t)e+=n.length,r.push(n);return Buffer.concat(r,e)}tn.toBuffer=$P;async function TV(t){let r=(await $P(t)).toString("utf8");try{return JSON.parse(r)}catch(n){let i=n;throw i.message+=` (input: ${r})`,i}}tn.json=TV;function OV(t,e={}){let n=((typeof t=="string"?t:t.href).startsWith("https:")?PV:IV).request(t,e),i=new Promise((s,o)=>{n.once("response",s).once("error",o).end()});return n.then=i.then.bind(i),n}tn.req=OV});var Bu=M(An=>{"use strict";var HP=An&&An.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),RV=An&&An.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),BV=An&&An.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&HP(e,t,r);return RV(e,t),e},LV=An&&An.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&HP(e,t,r)};Object.defineProperty(An,"__esModule",{value:!0});An.Agent=void 0;var qP=BV(require("http"));LV(UP(),An);function VP(){let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1)}var Mi=Symbol("AgentBaseInternalState"),BE=class extends qP.Agent{constructor(e){super(e),this[Mi]={}}createSocket(e,r,n){let i=typeof r.secureEndpoint=="boolean"?r.secureEndpoint:void 0;typeof i>"u"&&typeof r.protocol=="string"&&(i=r.protocol==="https:"),typeof i>"u"&&(i=VP());let s={...r,secureEndpoint:i};Promise.resolve().then(()=>this.connect(e,s)).then(o=>{if(o instanceof qP.Agent)return o.addRequest(e,s);this[Mi].currentSocket=o,super.createSocket(e,r,n)},n)}createConnection(){let e=this[Mi].currentSocket;if(this[Mi].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[Mi].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[Mi]&&(this[Mi].defaultPort=e)}get protocol(){return this[Mi].protocol??(VP()?"https:":"http:")}set protocol(e){this[Mi]&&(this[Mi].protocol=e)}};An.Agent=BE});var WP=M(zP=>{"use strict";var NV=require("url").parse,MV={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},jV=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function $V(t){var e=typeof t=="string"?NV(t):t||{},r=e.protocol,n=e.host,i=e.port;if(typeof n!="string"||!n||typeof r!="string"||(r=r.split(":",1)[0],n=n.replace(/:\d*$/,""),i=parseInt(i)||MV[r]||0,!UV(n,i)))return"";var s=Lu("npm_config_"+r+"_proxy")||Lu(r+"_proxy")||Lu("npm_config_proxy")||Lu("all_proxy");return s&&s.indexOf("://")===-1&&(s=r+"://"+s),s}function UV(t,e){var r=(Lu("npm_config_no_proxy")||Lu("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(n){if(!n)return!0;var i=n.match(/^(.+):(\d+)$/),s=i?i[1]:n,o=i?parseInt(i[2]):0;return o&&o!==e?!0:/^[.*]/.test(s)?(s.charAt(0)==="*"&&(s=s.slice(1)),!jV.call(t,s)):t!==s}):!0}function Lu(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}zP.getProxyForUrl=$V});var LE=M(Jn=>{"use strict";var qV=Jn&&Jn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VV=Jn&&Jn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),GP=Jn&&Jn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qV(e,t,r);return VV(e,t),e},HV=Jn&&Jn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.HttpProxyAgent=void 0;var zV=GP(require("net")),WV=GP(require("tls")),GV=HV(Sn()),JV=require("events"),KV=Bu(),Nu=(0,GV.default)("http-proxy-agent");function XV(t){return typeof t=="string"?/^https:?$/i.test(t):!1}var Tp=class extends KV.Agent{get secureProxy(){return XV(this.proxy.protocol)}constructor(e,r){super(r),this.proxy=typeof e=="string"?new URL(e):e,this.proxyHeaders=(r==null?void 0:r.headers)??{},Nu("Creating new HttpProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.secureProxy?443:80;this.connectOpts={...r?YV(r,"headers"):null,host:n,port:i}}async connect(e,r){let{proxy:n}=this,i=r.secureEndpoint?"https:":"http:",s=e.getHeader("host")||"localhost",o=`${i}//${s}`,a=new URL(e.path,o);r.port!==80&&(a.port=String(r.port)),e.path=String(a),e._header=null;let u=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders};if(n.username||n.password){let p=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;u["Proxy-Authorization"]=`Basic ${Buffer.from(p).toString("base64")}`}u["Proxy-Connection"]||(u["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let p of Object.keys(u)){let l=u[p];l&&e.setHeader(p,l)}let f;this.secureProxy?(Nu("Creating `tls.Socket`: %o",this.connectOpts),f=WV.connect(this.connectOpts)):(Nu("Creating `net.Socket`: %o",this.connectOpts),f=zV.connect(this.connectOpts));let c,d;return Nu("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(Nu("Patching connection write() output buffer with updated header"),c=e.outputData[0].data,d=c.indexOf(`\r
\r
`)+4,e.outputData[0].data=e._header+c.substring(d),Nu("Output buffer: %o",e.outputData[0].data)),await(0,JV.once)(f,"connect"),f}};Tp.protocols=["http","https"];Jn.HttpProxyAgent=Tp;function YV(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}});var JP=M(Mu=>{"use strict";var ZV=Mu&&Mu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.parseProxyResponse=void 0;var QV=ZV(Sn()),Hc=(0,QV.default)("https-proxy-agent:parse-proxy-response");function eH(t){return new Promise((e,r)=>{let n=0,i=[];function s(){let d=t.read();d?c(d):t.once("readable",s)}function o(){t.removeListener("end",u),t.removeListener("error",f),t.removeListener("close",a),t.removeListener("readable",s)}function a(d){Hc("onclose had error %o",d)}function u(){Hc("onend")}function f(d){o(),Hc("onerror %o",d),r(d)}function c(d){i.push(d),n+=d.length;let p=Buffer.concat(i,n);if(p.indexOf(`\r
\r
`)===-1){Hc("have not received end of HTTP headers yet..."),s();return}let h=p.toString("ascii").split(`\r
`),y=h.shift();if(!y)throw new Error("No header received");let g=y.split(" "),v=+g[1],b=g.slice(2).join(" "),x={};for(let E of h){if(!E)continue;let S=E.indexOf(":");if(S===-1)throw new Error(`Invalid header: "${E}"`);let F=E.slice(0,S).toLowerCase(),P=E.slice(S+1).trimStart(),V=x[F];typeof V=="string"?x[F]=[V,P]:Array.isArray(V)?V.push(P):x[F]=P}Hc("got proxy server response: %o",y),o(),e({connect:{statusCode:v,statusText:b,headers:x},buffered:p})}t.on("error",f),t.on("close",a),t.on("end",u),s()})}Mu.parseProxyResponse=eH});var NE=M(Kn=>{"use strict";var tH=Kn&&Kn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rH=Kn&&Kn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YP=Kn&&Kn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tH(e,t,r);return rH(e,t),e},ZP=Kn&&Kn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.HttpsProxyAgent=void 0;var Op=YP(require("net")),KP=YP(require("tls")),nH=ZP(require("assert")),iH=ZP(Sn()),sH=Bu(),oH=JP(),zc=(0,iH.default)("https-proxy-agent"),Rp=class extends sH.Agent{get secureProxy(){return uH(this.proxy.protocol)}constructor(e,r){super(r),this.options={path:void 0},this.proxy=typeof e=="string"?new URL(e):e,this.proxyHeaders=(r==null?void 0:r.headers)??{},zc("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.secureProxy?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...r?XP(r,"headers"):null,host:n,port:i}}async connect(e,r){let{proxy:n,secureProxy:i}=this;if(!r.host)throw new TypeError('No "host" provided');let s;i?(zc("Creating `tls.Socket`: %o",this.connectOpts),s=KP.connect(this.connectOpts)):(zc("Creating `net.Socket`: %o",this.connectOpts),s=Op.connect(this.connectOpts));let o=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},a=Op.isIPv6(r.host)?`[${r.host}]`:r.host,u=`CONNECT ${a}:${r.port} HTTP/1.1\r
`;if(n.username||n.password){let l=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;o["Proxy-Authorization"]=`Basic ${Buffer.from(l).toString("base64")}`}o.Host=`${a}:${r.port}`,o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let l of Object.keys(o))u+=`${l}: ${o[l]}\r
`;let f=(0,oH.parseProxyResponse)(s);s.write(`${u}\r
`);let{connect:c,buffered:d}=await f;if(e.emit("proxyConnect",c),this.emit("proxyConnect",c,e),c.statusCode===200){if(e.once("socket",aH),r.secureEndpoint){zc("Upgrading socket connection to TLS");let l=r.servername||r.host;return KP.connect({...XP(r,"host","path","port"),socket:s,servername:Op.isIP(l)?void 0:l})}return s}s.destroy();let p=new Op.Socket({writable:!1});return p.readable=!0,e.once("socket",l=>{zc("Replaying proxy buffer for failed request"),(0,nH.default)(l.listenerCount("data")>0),l.push(d),l.push(null)}),p}};Rp.protocols=["http","https"];Kn.HttpsProxyAgent=Rp;function aH(t){t.resume()}function uH(t){return typeof t=="string"?/^https:?$/i.test(t):!1}function XP(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}});var eT=M(QP=>{var qe=QP,{Buffer:Bp}=require("buffer"),lH=require("os");qe.toBuffer=function(t,e,r){r=~~r;let n;if(this.isV4Format(t))n=e||Bp.alloc(r+4),t.split(/\./g).map(i=>{n[r++]=parseInt(i,10)&255});else if(this.isV6Format(t)){let i=t.split(":",8),s;for(s=0;s<i.length;s++){let o=this.isV4Format(i[s]),a;o&&(a=this.toBuffer(i[s]),i[s]=a.slice(0,2).toString("hex")),a&&++s<8&&i.splice(s,0,a.slice(2,4).toString("hex"))}if(i[0]==="")for(;i.length<8;)i.unshift("0");else if(i[i.length-1]==="")for(;i.length<8;)i.push("0");else if(i.length<8){for(s=0;s<i.length&&i[s]!=="";s++);let o=[s,1];for(s=9-i.length;s>0;s--)o.push("0");i.splice(...o)}for(n=e||Bp.alloc(r+16),s=0;s<i.length;s++){let o=parseInt(i[s],16);n[r++]=o>>8&255,n[r++]=o&255}}if(!n)throw Error(`Invalid ip address: ${t}`);return n};qe.toString=function(t,e,r){e=~~e,r=r||t.length-e;let n=[];if(r===4){for(let i=0;i<r;i++)n.push(t[e+i]);n=n.join(".")}else if(r===16){for(let i=0;i<r;i+=2)n.push(t.readUInt16BE(e+i).toString(16));n=n.join(":"),n=n.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),n=n.replace(/:{3,4}/,"::")}return n};var cH=/^(\d{1,3}\.){3,3}\d{1,3}$/,fH=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;qe.isV4Format=function(t){return cH.test(t)};qe.isV6Format=function(t){return fH.test(t)};function Wc(t){return t===4?"ipv4":t===6?"ipv6":t?t.toLowerCase():"ipv4"}qe.fromPrefixLen=function(t,e){t>32?e="ipv6":e=Wc(e);let r=4;e==="ipv6"&&(r=16);let n=Bp.alloc(r);for(let i=0,s=n.length;i<s;++i){let o=8;t<8&&(o=t),t-=o,n[i]=~(255>>o)&255}return qe.toString(n)};qe.mask=function(t,e){t=qe.toBuffer(t),e=qe.toBuffer(e);let r=Bp.alloc(Math.max(t.length,e.length)),n;if(t.length===e.length)for(n=0;n<t.length;n++)r[n]=t[n]&e[n];else if(e.length===4)for(n=0;n<e.length;n++)r[n]=t[t.length-4+n]&e[n];else{for(n=0;n<r.length-6;n++)r[n]=0;for(r[10]=255,r[11]=255,n=0;n<t.length;n++)r[n+12]=t[n]&e[n+12];n+=12}for(;n<r.length;n++)r[n]=0;return qe.toString(r)};qe.cidr=function(t){let e=t.split("/"),r=e[0];if(e.length!==2)throw new Error(`invalid CIDR subnet: ${r}`);let n=qe.fromPrefixLen(parseInt(e[1],10));return qe.mask(r,n)};qe.subnet=function(t,e){let r=qe.toLong(qe.mask(t,e)),n=qe.toBuffer(e),i=0;for(let o=0;o<n.length;o++)if(n[o]===255)i+=8;else{let a=n[o]&255;for(;a;)a=a<<1&255,i++}let s=2**(32-i);return{networkAddress:qe.fromLong(r),firstAddress:s<=2?qe.fromLong(r):qe.fromLong(r+1),lastAddress:s<=2?qe.fromLong(r+s-1):qe.fromLong(r+s-2),broadcastAddress:qe.fromLong(r+s-1),subnetMask:e,subnetMaskLength:i,numHosts:s<=2?s:s-2,length:s,contains(o){return r===qe.toLong(qe.mask(o,e))}}};qe.cidrSubnet=function(t){let e=t.split("/"),r=e[0];if(e.length!==2)throw new Error(`invalid CIDR subnet: ${r}`);let n=qe.fromPrefixLen(parseInt(e[1],10));return qe.subnet(r,n)};qe.not=function(t){let e=qe.toBuffer(t);for(let r=0;r<e.length;r++)e[r]=255^e[r];return qe.toString(e)};qe.or=function(t,e){if(t=qe.toBuffer(t),e=qe.toBuffer(e),t.length===e.length){for(let s=0;s<t.length;++s)t[s]|=e[s];return qe.toString(t)}let r=t,n=e;e.length>t.length&&(r=e,n=t);let i=r.length-n.length;for(let s=i;s<r.length;++s)r[s]|=n[s-i];return qe.toString(r)};qe.isEqual=function(t,e){if(t=qe.toBuffer(t),e=qe.toBuffer(e),t.length===e.length){for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}if(e.length===4){let n=e;e=t,t=n}for(let n=0;n<10;n++)if(e[n]!==0)return!1;let r=e.readUInt16BE(10);if(r!==0&&r!==65535)return!1;for(let n=0;n<4;n++)if(t[n]!==e[n+12])return!1;return!0};qe.isPrivate=function(t){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^f[cd][0-9a-f]{2}:/i.test(t)||/^fe80:/i.test(t)||/^::1$/.test(t)||/^::$/.test(t)};qe.isPublic=function(t){return!qe.isPrivate(t)};qe.isLoopback=function(t){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(t)||/^fe80::1$/.test(t)||/^::1$/.test(t)||/^::$/.test(t)};qe.loopback=function(t){if(t=Wc(t),t!=="ipv4"&&t!=="ipv6")throw new Error("family must be ipv4 or ipv6");return t==="ipv4"?"127.0.0.1":"fe80::1"};qe.address=function(t,e){let r=lH.networkInterfaces();if(e=Wc(e),t&&t!=="private"&&t!=="public"){let i=r[t].filter(s=>Wc(s.family)===e);return i.length===0?void 0:i[0].address}let n=Object.keys(r).map(i=>{let s=r[i].filter(o=>(o.family=Wc(o.family),o.family!==e||qe.isLoopback(o.address)?!1:t?t==="public"?qe.isPrivate(o.address):qe.isPublic(o.address):!0));return s.length?s[0].address:void 0}).filter(Boolean);return n.length?n[0]:qe.loopback(e)};qe.toLong=function(t){let e=0;return t.split(".").forEach(r=>{e<<=8,e+=parseInt(r)}),e>>>0};qe.fromLong=function(t){return`${t>>>24}.${t>>16&255}.${t>>8&255}.${t&255}`}});var iT=M(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});var tT=require("buffer"),ha={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};Es.ERRORS=ha;function hH(t){if(!tT.Buffer.isEncoding(t))throw new Error(ha.INVALID_ENCODING)}Es.checkEncoding=hH;function rT(t){return typeof t=="number"&&isFinite(t)&&gH(t)}Es.isFiniteInteger=rT;function nT(t,e){if(typeof t=="number"){if(!rT(t)||t<0)throw new Error(e?ha.INVALID_OFFSET:ha.INVALID_LENGTH)}else throw new Error(e?ha.INVALID_OFFSET_NON_NUMBER:ha.INVALID_LENGTH_NON_NUMBER)}function dH(t){nT(t,!1)}Es.checkLengthValue=dH;function pH(t){nT(t,!0)}Es.checkOffsetValue=pH;function mH(t,e){if(t<0||t>e.length)throw new Error(ha.INVALID_TARGET_OFFSET)}Es.checkTargetOffset=mH;function gH(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function yH(t){if(typeof BigInt>"u")throw new Error("Platform does not support JS BigInt type.");if(typeof tT.Buffer.prototype[t]>"u")throw new Error(`Platform does not support Buffer.prototype.${t}.`)}Es.bigIntAndBufferInt64Check=yH});var oT=M(ME=>{"use strict";Object.defineProperty(ME,"__esModule",{value:!0});var Xe=iT(),sT=4096,vH="utf8",Gc=class{constructor(e){if(this.length=0,this._encoding=vH,this._writeOffset=0,this._readOffset=0,Gc.isSmartBufferOptions(e))if(e.encoding&&(Xe.checkEncoding(e.encoding),this._encoding=e.encoding),e.size)if(Xe.isFiniteInteger(e.size)&&e.size>0)this._buff=Buffer.allocUnsafe(e.size);else throw new Error(Xe.ERRORS.INVALID_SMARTBUFFER_SIZE);else if(e.buff)if(Buffer.isBuffer(e.buff))this._buff=e.buff,this.length=e.buff.length;else throw new Error(Xe.ERRORS.INVALID_SMARTBUFFER_BUFFER);else this._buff=Buffer.allocUnsafe(sT);else{if(typeof e<"u")throw new Error(Xe.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(sT)}}static fromSize(e,r){return new this({size:e,encoding:r})}static fromBuffer(e,r){return new this({buff:e,encoding:r})}static fromOptions(e){return new this(e)}static isSmartBufferOptions(e){let r=e;return r&&(r.encoding!==void 0||r.size!==void 0||r.buff!==void 0)}readInt8(e){return this._readNumberValue(Buffer.prototype.readInt8,1,e)}readInt16BE(e){return this._readNumberValue(Buffer.prototype.readInt16BE,2,e)}readInt16LE(e){return this._readNumberValue(Buffer.prototype.readInt16LE,2,e)}readInt32BE(e){return this._readNumberValue(Buffer.prototype.readInt32BE,4,e)}readInt32LE(e){return this._readNumberValue(Buffer.prototype.readInt32LE,4,e)}readBigInt64BE(e){return Xe.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,e)}readBigInt64LE(e){return Xe.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,e)}writeInt8(e,r){return this._writeNumberValue(Buffer.prototype.writeInt8,1,e,r),this}insertInt8(e,r){return this._insertNumberValue(Buffer.prototype.writeInt8,1,e,r)}writeInt16BE(e,r){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,e,r)}insertInt16BE(e,r){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,e,r)}writeInt16LE(e,r){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,e,r)}insertInt16LE(e,r){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,e,r)}writeInt32BE(e,r){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,e,r)}insertInt32BE(e,r){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,e,r)}writeInt32LE(e,r){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,e,r)}insertInt32LE(e,r){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,e,r)}writeBigInt64BE(e,r){return Xe.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,e,r)}insertBigInt64BE(e,r){return Xe.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,e,r)}writeBigInt64LE(e,r){return Xe.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,e,r)}insertBigInt64LE(e,r){return Xe.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,e,r)}readUInt8(e){return this._readNumberValue(Buffer.prototype.readUInt8,1,e)}readUInt16BE(e){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,e)}readUInt16LE(e){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,e)}readUInt32BE(e){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,e)}readUInt32LE(e){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,e)}readBigUInt64BE(e){return Xe.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,e)}readBigUInt64LE(e){return Xe.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,e)}writeUInt8(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,e,r)}insertUInt8(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,e,r)}writeUInt16BE(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,e,r)}insertUInt16BE(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,e,r)}writeUInt16LE(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,e,r)}insertUInt16LE(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,e,r)}writeUInt32BE(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,e,r)}insertUInt32BE(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,e,r)}writeUInt32LE(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,e,r)}insertUInt32LE(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,e,r)}writeBigUInt64BE(e,r){return Xe.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,r)}insertBigUInt64BE(e,r){return Xe.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,r)}writeBigUInt64LE(e,r){return Xe.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,r)}insertBigUInt64LE(e,r){return Xe.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,r)}readFloatBE(e){return this._readNumberValue(Buffer.prototype.readFloatBE,4,e)}readFloatLE(e){return this._readNumberValue(Buffer.prototype.readFloatLE,4,e)}writeFloatBE(e,r){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,e,r)}insertFloatBE(e,r){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,e,r)}writeFloatLE(e,r){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,e,r)}insertFloatLE(e,r){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,e,r)}readDoubleBE(e){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,e)}readDoubleLE(e){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,e)}writeDoubleBE(e,r){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,e,r)}insertDoubleBE(e,r){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,e,r)}writeDoubleLE(e,r){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,e,r)}insertDoubleLE(e,r){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,e,r)}readString(e,r){let n;typeof e=="number"?(Xe.checkLengthValue(e),n=Math.min(e,this.length-this._readOffset)):(r=e,n=this.length-this._readOffset),typeof r<"u"&&Xe.checkEncoding(r);let i=this._buff.slice(this._readOffset,this._readOffset+n).toString(r||this._encoding);return this._readOffset+=n,i}insertString(e,r,n){return Xe.checkOffsetValue(r),this._handleString(e,!0,r,n)}writeString(e,r,n){return this._handleString(e,!1,r,n)}readStringNT(e){typeof e<"u"&&Xe.checkEncoding(e);let r=this.length;for(let i=this._readOffset;i<this.length;i++)if(this._buff[i]===0){r=i;break}let n=this._buff.slice(this._readOffset,r);return this._readOffset=r+1,n.toString(e||this._encoding)}insertStringNT(e,r,n){return Xe.checkOffsetValue(r),this.insertString(e,r,n),this.insertUInt8(0,r+e.length),this}writeStringNT(e,r,n){return this.writeString(e,r,n),this.writeUInt8(0,typeof r=="number"?r+e.length:this.writeOffset),this}readBuffer(e){typeof e<"u"&&Xe.checkLengthValue(e);let r=typeof e=="number"?e:this.length,n=Math.min(this.length,this._readOffset+r),i=this._buff.slice(this._readOffset,n);return this._readOffset=n,i}insertBuffer(e,r){return Xe.checkOffsetValue(r),this._handleBuffer(e,!0,r)}writeBuffer(e,r){return this._handleBuffer(e,!1,r)}readBufferNT(){let e=this.length;for(let n=this._readOffset;n<this.length;n++)if(this._buff[n]===0){e=n;break}let r=this._buff.slice(this._readOffset,e);return this._readOffset=e+1,r}insertBufferNT(e,r){return Xe.checkOffsetValue(r),this.insertBuffer(e,r),this.insertUInt8(0,r+e.length),this}writeBufferNT(e,r){return typeof r<"u"&&Xe.checkOffsetValue(r),this.writeBuffer(e,r),this.writeUInt8(0,typeof r=="number"?r+e.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(e){Xe.checkOffsetValue(e),Xe.checkTargetOffset(e,this),this._readOffset=e}get writeOffset(){return this._writeOffset}set writeOffset(e){Xe.checkOffsetValue(e),Xe.checkTargetOffset(e,this),this._writeOffset=e}get encoding(){return this._encoding}set encoding(e){Xe.checkEncoding(e),this._encoding=e}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(e){let r=typeof e=="string"?e:this._encoding;return Xe.checkEncoding(r),this._buff.toString(r,0,this.length)}destroy(){return this.clear(),this}_handleString(e,r,n,i){let s=this._writeOffset,o=this._encoding;typeof n=="number"?s=n:typeof n=="string"&&(Xe.checkEncoding(n),o=n),typeof i=="string"&&(Xe.checkEncoding(i),o=i);let a=Buffer.byteLength(e,o);return r?this.ensureInsertable(a,s):this._ensureWriteable(a,s),this._buff.write(e,s,a,o),r?this._writeOffset+=a:typeof n=="number"?this._writeOffset=Math.max(this._writeOffset,s+a):this._writeOffset+=a,this}_handleBuffer(e,r,n){let i=typeof n=="number"?n:this._writeOffset;return r?this.ensureInsertable(e.length,i):this._ensureWriteable(e.length,i),e.copy(this._buff,i),r?this._writeOffset+=e.length:typeof n=="number"?this._writeOffset=Math.max(this._writeOffset,i+e.length):this._writeOffset+=e.length,this}ensureReadable(e,r){let n=this._readOffset;if(typeof r<"u"&&(Xe.checkOffsetValue(r),n=r),n<0||n+e>this.length)throw new Error(Xe.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(e,r){Xe.checkOffsetValue(r),this._ensureCapacity(this.length+e),r<this.length&&this._buff.copy(this._buff,r+e,r,this._buff.length),r+e>this.length?this.length=r+e:this.length+=e}_ensureWriteable(e,r){let n=typeof r=="number"?r:this._writeOffset;this._ensureCapacity(n+e),n+e>this.length&&(this.length=n+e)}_ensureCapacity(e){let r=this._buff.length;if(e>r){let n=this._buff,i=r*3/2+1;i<e&&(i=e),this._buff=Buffer.allocUnsafe(i),n.copy(this._buff,0,0,r)}}_readNumberValue(e,r,n){this.ensureReadable(r,n);let i=e.call(this._buff,typeof n=="number"?n:this._readOffset);return typeof n>"u"&&(this._readOffset+=r),i}_insertNumberValue(e,r,n,i){return Xe.checkOffsetValue(i),this.ensureInsertable(r,i),e.call(this._buff,n,i),this._writeOffset+=r,this}_writeNumberValue(e,r,n,i){if(typeof i=="number"){if(i<0)throw new Error(Xe.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);Xe.checkOffsetValue(i)}let s=typeof i=="number"?i:this._writeOffset;return this._ensureWriteable(r,s),e.call(this._buff,n,s),typeof i=="number"?this._writeOffset=Math.max(this._writeOffset,s+r):this._writeOffset+=r,this}};ME.SmartBuffer=Gc});var zE=M(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.SOCKS5_NO_ACCEPTABLE_AUTH=gt.SOCKS5_CUSTOM_AUTH_END=gt.SOCKS5_CUSTOM_AUTH_START=gt.SOCKS_INCOMING_PACKET_SIZES=gt.SocksClientState=gt.Socks5Response=gt.Socks5HostType=gt.Socks5Auth=gt.Socks4Response=gt.SocksCommand=gt.ERRORS=gt.DEFAULT_TIMEOUT=void 0;var EH=3e4;gt.DEFAULT_TIMEOUT=EH;var bH={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"};gt.ERRORS=bH;var wH={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:t=>t+7,Socks4Response:8};gt.SOCKS_INCOMING_PACKET_SIZES=wH;var jE;(function(t){t[t.connect=1]="connect",t[t.bind=2]="bind",t[t.associate=3]="associate"})(jE||(jE={}));gt.SocksCommand=jE;var $E;(function(t){t[t.Granted=90]="Granted",t[t.Failed=91]="Failed",t[t.Rejected=92]="Rejected",t[t.RejectedIdent=93]="RejectedIdent"})($E||($E={}));gt.Socks4Response=$E;var UE;(function(t){t[t.NoAuth=0]="NoAuth",t[t.GSSApi=1]="GSSApi",t[t.UserPass=2]="UserPass"})(UE||(UE={}));gt.Socks5Auth=UE;var xH=128;gt.SOCKS5_CUSTOM_AUTH_START=xH;var CH=254;gt.SOCKS5_CUSTOM_AUTH_END=CH;var SH=255;gt.SOCKS5_NO_ACCEPTABLE_AUTH=SH;var qE;(function(t){t[t.Granted=0]="Granted",t[t.Failure=1]="Failure",t[t.NotAllowed=2]="NotAllowed",t[t.NetworkUnreachable=3]="NetworkUnreachable",t[t.HostUnreachable=4]="HostUnreachable",t[t.ConnectionRefused=5]="ConnectionRefused",t[t.TTLExpired=6]="TTLExpired",t[t.CommandNotSupported=7]="CommandNotSupported",t[t.AddressNotSupported=8]="AddressNotSupported"})(qE||(qE={}));gt.Socks5Response=qE;var VE;(function(t){t[t.IPv4=1]="IPv4",t[t.Hostname=3]="Hostname",t[t.IPv6=4]="IPv6"})(VE||(VE={}));gt.Socks5HostType=VE;var HE;(function(t){t[t.Created=0]="Created",t[t.Connecting=1]="Connecting",t[t.Connected=2]="Connected",t[t.SentInitialHandshake=3]="SentInitialHandshake",t[t.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",t[t.SentAuthentication=5]="SentAuthentication",t[t.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",t[t.SentFinalHandshake=7]="SentFinalHandshake",t[t.ReceivedFinalResponse=8]="ReceivedFinalResponse",t[t.BoundWaitingForConnection=9]="BoundWaitingForConnection",t[t.Established=10]="Established",t[t.Disconnected=11]="Disconnected",t[t.Error=99]="Error"})(HE||(HE={}));gt.SocksClientState=HE});var GE=M(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.shuffleArray=ju.SocksClientError=void 0;var WE=class extends Error{constructor(e,r){super(e),this.options=r}};ju.SocksClientError=WE;function DH(t){for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}}ju.shuffleArray=DH});var fT=M($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.validateSocksClientChainOptions=$u.validateSocksClientOptions=void 0;var Nr=GE(),or=zE(),AH=require("stream");function FH(t,e=["connect","bind","associate"]){if(!or.SocksCommand[t.command])throw new Nr.SocksClientError(or.ERRORS.InvalidSocksCommand,t);if(e.indexOf(t.command)===-1)throw new Nr.SocksClientError(or.ERRORS.InvalidSocksCommandForOperation,t);if(!uT(t.destination))throw new Nr.SocksClientError(or.ERRORS.InvalidSocksClientOptionsDestination,t);if(!lT(t.proxy))throw new Nr.SocksClientError(or.ERRORS.InvalidSocksClientOptionsProxy,t);if(aT(t.proxy,t),t.timeout&&!cT(t.timeout))throw new Nr.SocksClientError(or.ERRORS.InvalidSocksClientOptionsTimeout,t);if(t.existing_socket&&!(t.existing_socket instanceof AH.Duplex))throw new Nr.SocksClientError(or.ERRORS.InvalidSocksClientOptionsExistingSocket,t)}$u.validateSocksClientOptions=FH;function _H(t){if(t.command!=="connect")throw new Nr.SocksClientError(or.ERRORS.InvalidSocksCommandChain,t);if(!uT(t.destination))throw new Nr.SocksClientError(or.ERRORS.InvalidSocksClientOptionsDestination,t);if(!(t.proxies&&Array.isArray(t.proxies)&&t.proxies.length>=2))throw new Nr.SocksClientError(or.ERRORS.InvalidSocksClientOptionsProxiesLength,t);if(t.proxies.forEach(e=>{if(!lT(e))throw new Nr.SocksClientError(or.ERRORS.InvalidSocksClientOptionsProxy,t);aT(e,t)}),t.timeout&&!cT(t.timeout))throw new Nr.SocksClientError(or.ERRORS.InvalidSocksClientOptionsTimeout,t)}$u.validateSocksClientChainOptions=_H;function aT(t,e){if(t.custom_auth_method!==void 0){if(t.custom_auth_method<or.SOCKS5_CUSTOM_AUTH_START||t.custom_auth_method>or.SOCKS5_CUSTOM_AUTH_END)throw new Nr.SocksClientError(or.ERRORS.InvalidSocksClientOptionsCustomAuthRange,e);if(t.custom_auth_request_handler===void 0||typeof t.custom_auth_request_handler!="function")throw new Nr.SocksClientError(or.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,e);if(t.custom_auth_response_size===void 0)throw new Nr.SocksClientError(or.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,e);if(t.custom_auth_response_handler===void 0||typeof t.custom_auth_response_handler!="function")throw new Nr.SocksClientError(or.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,e)}}function uT(t){return t&&typeof t.host=="string"&&typeof t.port=="number"&&t.port>=0&&t.port<=65535}function lT(t){return t&&(typeof t.host=="string"||typeof t.ipaddress=="string")&&typeof t.port=="number"&&t.port>=0&&t.port<=65535&&(t.type===4||t.type===5)}function cT(t){return typeof t=="number"&&t>0}});var hT=M(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.ReceiveBuffer=void 0;var JE=class{constructor(e=4096){this.buffer=Buffer.allocUnsafe(e),this.offset=0,this.originalSize=e}get length(){return this.offset}append(e){if(!Buffer.isBuffer(e))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+e.length>=this.buffer.length){let r=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+e.length)),r.copy(this.buffer)}return e.copy(this.buffer,this.offset),this.offset+=e.length}peek(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,e)}get(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");let r=Buffer.allocUnsafe(e);return this.buffer.slice(0,e).copy(r),this.buffer.copyWithin(0,e,e+this.offset-e),this.offset-=e,r}};Lp.ReceiveBuffer=JE});var dT=M(io=>{"use strict";var Uu=io&&io.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{f(n.next(c))}catch(d){o(d)}}function u(c){try{f(n.throw(c))}catch(d){o(d)}}function f(c){c.done?s(c.value):i(c.value).then(a,u)}f((n=n.apply(t,e||[])).next())})};Object.defineProperty(io,"__esModule",{value:!0});io.SocksClientError=io.SocksClient=void 0;var kH=require("events"),qu=require("net"),Fn=eT(),rn=oT(),we=zE(),KE=fT(),IH=hT(),XE=GE();Object.defineProperty(io,"SocksClientError",{enumerable:!0,get:function(){return XE.SocksClientError}});var Vu=class extends kH.EventEmitter{constructor(e){super(),this.options=Object.assign({},e),(0,KE.validateSocksClientOptions)(e),this.setState(we.SocksClientState.Created)}static createConnection(e,r){return new Promise((n,i)=>{try{(0,KE.validateSocksClientOptions)(e,["connect"])}catch(o){return typeof r=="function"?(r(o),n(o)):i(o)}let s=new Vu(e);s.connect(e.existing_socket),s.once("established",o=>{s.removeAllListeners(),typeof r=="function"&&r(null,o),n(o)}),s.once("error",o=>{s.removeAllListeners(),typeof r=="function"?(r(o),n(o)):i(o)})})}static createConnectionChain(e,r){return new Promise((n,i)=>Uu(this,void 0,void 0,function*(){try{(0,KE.validateSocksClientChainOptions)(e)}catch(s){return typeof r=="function"?(r(s),n(s)):i(s)}e.randomizeChain&&(0,XE.shuffleArray)(e.proxies);try{let s;for(let o=0;o<e.proxies.length;o++){let a=e.proxies[o],u=o===e.proxies.length-1?e.destination:{host:e.proxies[o+1].host||e.proxies[o+1].ipaddress,port:e.proxies[o+1].port},f=yield Vu.createConnection({command:"connect",proxy:a,destination:u,existing_socket:s});s=s||f.socket}typeof r=="function"?(r(null,{socket:s}),n({socket:s})):n({socket:s})}catch(s){typeof r=="function"?(r(s),n(s)):i(s)}}))}static createUDPFrame(e){let r=new rn.SmartBuffer;return r.writeUInt16BE(0),r.writeUInt8(e.frameNumber||0),qu.isIPv4(e.remoteHost.host)?(r.writeUInt8(we.Socks5HostType.IPv4),r.writeUInt32BE(Fn.toLong(e.remoteHost.host))):qu.isIPv6(e.remoteHost.host)?(r.writeUInt8(we.Socks5HostType.IPv6),r.writeBuffer(Fn.toBuffer(e.remoteHost.host))):(r.writeUInt8(we.Socks5HostType.Hostname),r.writeUInt8(Buffer.byteLength(e.remoteHost.host)),r.writeString(e.remoteHost.host)),r.writeUInt16BE(e.remoteHost.port),r.writeBuffer(e.data),r.toBuffer()}static parseUDPFrame(e){let r=rn.SmartBuffer.fromBuffer(e);r.readOffset=2;let n=r.readUInt8(),i=r.readUInt8(),s;i===we.Socks5HostType.IPv4?s=Fn.fromLong(r.readUInt32BE()):i===we.Socks5HostType.IPv6?s=Fn.toString(r.readBuffer(16)):s=r.readString(r.readUInt8());let o=r.readUInt16BE();return{frameNumber:n,remoteHost:{host:s,port:o},data:r.readBuffer()}}setState(e){this.state!==we.SocksClientState.Error&&(this.state=e)}connect(e){this.onDataReceived=n=>this.onDataReceivedHandler(n),this.onClose=()=>this.onCloseHandler(),this.onError=n=>this.onErrorHandler(n),this.onConnect=()=>this.onConnectHandler();let r=setTimeout(()=>this.onEstablishedTimeout(),this.options.timeout||we.DEFAULT_TIMEOUT);r.unref&&typeof r.unref=="function"&&r.unref(),e?this.socket=e:this.socket=new qu.Socket,this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(we.SocksClientState.Connecting),this.receiveBuffer=new IH.ReceiveBuffer,e?this.socket.emit("connect"):(this.socket.connect(this.getSocketOptions()),this.options.set_tcp_nodelay!==void 0&&this.options.set_tcp_nodelay!==null&&this.socket.setNoDelay(!!this.options.set_tcp_nodelay)),this.prependOnceListener("established",n=>{setImmediate(()=>{if(this.receiveBuffer.length>0){let i=this.receiveBuffer.get(this.receiveBuffer.length);n.socket.emit("data",i)}n.socket.resume()})})}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){this.state!==we.SocksClientState.Established&&this.state!==we.SocksClientState.BoundWaitingForConnection&&this.closeSocket(we.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){this.setState(we.SocksClientState.Connected),this.options.proxy.type===4?this.sendSocks4InitialHandshake():this.sendSocks5InitialHandshake(),this.setState(we.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(e){this.receiveBuffer.append(e),this.processData()}processData(){for(;this.state!==we.SocksClientState.Established&&this.state!==we.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize;)if(this.state===we.SocksClientState.SentInitialHandshake)this.options.proxy.type===4?this.handleSocks4FinalHandshakeResponse():this.handleInitialSocks5HandshakeResponse();else if(this.state===we.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===we.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else if(this.state===we.SocksClientState.BoundWaitingForConnection)this.options.proxy.type===4?this.handleSocks4IncomingConnectionResponse():this.handleSocks5IncomingConnectionResponse();else{this.closeSocket(we.ERRORS.InternalError);break}}onCloseHandler(){this.closeSocket(we.ERRORS.SocketClosed)}onErrorHandler(e){this.closeSocket(e.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(e){this.state!==we.SocksClientState.Error&&(this.setState(we.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new XE.SocksClientError(e,this.options)))}sendSocks4InitialHandshake(){let e=this.options.proxy.userId||"",r=new rn.SmartBuffer;r.writeUInt8(4),r.writeUInt8(we.SocksCommand[this.options.command]),r.writeUInt16BE(this.options.destination.port),qu.isIPv4(this.options.destination.host)?(r.writeBuffer(Fn.toBuffer(this.options.destination.host)),r.writeStringNT(e)):(r.writeUInt8(0),r.writeUInt8(0),r.writeUInt8(0),r.writeUInt8(1),r.writeStringNT(e),r.writeStringNT(this.options.destination.host)),this.nextRequiredPacketBufferSize=we.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(r.toBuffer())}handleSocks4FinalHandshakeResponse(){let e=this.receiveBuffer.get(8);if(e[1]!==we.Socks4Response.Granted)this.closeSocket(`${we.ERRORS.Socks4ProxyRejectedConnection} - (${we.Socks4Response[e[1]]})`);else if(we.SocksCommand[this.options.command]===we.SocksCommand.bind){let r=rn.SmartBuffer.fromBuffer(e);r.readOffset=2;let n={port:r.readUInt16BE(),host:Fn.fromLong(r.readUInt32BE())};n.host==="0.0.0.0"&&(n.host=this.options.proxy.ipaddress),this.setState(we.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:n,socket:this.socket})}else this.setState(we.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){let e=this.receiveBuffer.get(8);if(e[1]!==we.Socks4Response.Granted)this.closeSocket(`${we.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${we.Socks4Response[e[1]]})`);else{let r=rn.SmartBuffer.fromBuffer(e);r.readOffset=2;let n={port:r.readUInt16BE(),host:Fn.fromLong(r.readUInt32BE())};this.setState(we.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket})}}sendSocks5InitialHandshake(){let e=new rn.SmartBuffer,r=[we.Socks5Auth.NoAuth];(this.options.proxy.userId||this.options.proxy.password)&&r.push(we.Socks5Auth.UserPass),this.options.proxy.custom_auth_method!==void 0&&r.push(this.options.proxy.custom_auth_method),e.writeUInt8(5),e.writeUInt8(r.length);for(let n of r)e.writeUInt8(n);this.nextRequiredPacketBufferSize=we.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(e.toBuffer()),this.setState(we.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){let e=this.receiveBuffer.get(2);e[0]!==5?this.closeSocket(we.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion):e[1]===we.SOCKS5_NO_ACCEPTABLE_AUTH?this.closeSocket(we.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType):e[1]===we.Socks5Auth.NoAuth?(this.socks5ChosenAuthType=we.Socks5Auth.NoAuth,this.sendSocks5CommandRequest()):e[1]===we.Socks5Auth.UserPass?(this.socks5ChosenAuthType=we.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication()):e[1]===this.options.proxy.custom_auth_method?(this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication()):this.closeSocket(we.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){let e=this.options.proxy.userId||"",r=this.options.proxy.password||"",n=new rn.SmartBuffer;n.writeUInt8(1),n.writeUInt8(Buffer.byteLength(e)),n.writeString(e),n.writeUInt8(Buffer.byteLength(r)),n.writeString(r),this.nextRequiredPacketBufferSize=we.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(n.toBuffer()),this.setState(we.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return Uu(this,void 0,void 0,function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(we.SocksClientState.SentAuthentication)})}handleSocks5CustomAuthHandshakeResponse(e){return Uu(this,void 0,void 0,function*(){return yield this.options.proxy.custom_auth_response_handler(e)})}handleSocks5AuthenticationNoAuthHandshakeResponse(e){return Uu(this,void 0,void 0,function*(){return e[1]===0})}handleSocks5AuthenticationUserPassHandshakeResponse(e){return Uu(this,void 0,void 0,function*(){return e[1]===0})}handleInitialSocks5AuthenticationHandshakeResponse(){return Uu(this,void 0,void 0,function*(){this.setState(we.SocksClientState.ReceivedAuthenticationResponse);let e=!1;this.socks5ChosenAuthType===we.Socks5Auth.NoAuth?e=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===we.Socks5Auth.UserPass?e=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===this.options.proxy.custom_auth_method&&(e=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size))),e?this.sendSocks5CommandRequest():this.closeSocket(we.ERRORS.Socks5AuthenticationFailed)})}sendSocks5CommandRequest(){let e=new rn.SmartBuffer;e.writeUInt8(5),e.writeUInt8(we.SocksCommand[this.options.command]),e.writeUInt8(0),qu.isIPv4(this.options.destination.host)?(e.writeUInt8(we.Socks5HostType.IPv4),e.writeBuffer(Fn.toBuffer(this.options.destination.host))):qu.isIPv6(this.options.destination.host)?(e.writeUInt8(we.Socks5HostType.IPv6),e.writeBuffer(Fn.toBuffer(this.options.destination.host))):(e.writeUInt8(we.Socks5HostType.Hostname),e.writeUInt8(this.options.destination.host.length),e.writeString(this.options.destination.host)),e.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=we.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(e.toBuffer()),this.setState(we.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){let e=this.receiveBuffer.peek(5);if(e[0]!==5||e[1]!==we.Socks5Response.Granted)this.closeSocket(`${we.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${we.Socks5Response[e[1]]}`);else{let r=e[3],n,i;if(r===we.Socks5HostType.IPv4){let s=we.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<s){this.nextRequiredPacketBufferSize=s;return}i=rn.SmartBuffer.fromBuffer(this.receiveBuffer.get(s).slice(4)),n={host:Fn.fromLong(i.readUInt32BE()),port:i.readUInt16BE()},n.host==="0.0.0.0"&&(n.host=this.options.proxy.ipaddress)}else if(r===we.Socks5HostType.Hostname){let s=e[4],o=we.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(s);if(this.receiveBuffer.length<o){this.nextRequiredPacketBufferSize=o;return}i=rn.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),n={host:i.readString(s),port:i.readUInt16BE()}}else if(r===we.Socks5HostType.IPv6){let s=we.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<s){this.nextRequiredPacketBufferSize=s;return}i=rn.SmartBuffer.fromBuffer(this.receiveBuffer.get(s).slice(4)),n={host:Fn.toString(i.readBuffer(16)),port:i.readUInt16BE()}}this.setState(we.SocksClientState.ReceivedFinalResponse),we.SocksCommand[this.options.command]===we.SocksCommand.connect?(this.setState(we.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket})):we.SocksCommand[this.options.command]===we.SocksCommand.bind?(this.setState(we.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=we.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:n,socket:this.socket})):we.SocksCommand[this.options.command]===we.SocksCommand.associate&&(this.setState(we.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket}))}}handleSocks5IncomingConnectionResponse(){let e=this.receiveBuffer.peek(5);if(e[0]!==5||e[1]!==we.Socks5Response.Granted)this.closeSocket(`${we.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${we.Socks5Response[e[1]]}`);else{let r=e[3],n,i;if(r===we.Socks5HostType.IPv4){let s=we.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<s){this.nextRequiredPacketBufferSize=s;return}i=rn.SmartBuffer.fromBuffer(this.receiveBuffer.get(s).slice(4)),n={host:Fn.fromLong(i.readUInt32BE()),port:i.readUInt16BE()},n.host==="0.0.0.0"&&(n.host=this.options.proxy.ipaddress)}else if(r===we.Socks5HostType.Hostname){let s=e[4],o=we.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(s);if(this.receiveBuffer.length<o){this.nextRequiredPacketBufferSize=o;return}i=rn.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),n={host:i.readString(s),port:i.readUInt16BE()}}else if(r===we.Socks5HostType.IPv6){let s=we.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<s){this.nextRequiredPacketBufferSize=s;return}i=rn.SmartBuffer.fromBuffer(this.receiveBuffer.get(s).slice(4)),n={host:Fn.toString(i.readBuffer(16)),port:i.readUInt16BE()}}this.setState(we.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}};io.SocksClient=Vu});var pT=M(da=>{"use strict";var PH=da&&da.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TH=da&&da.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&PH(e,t,r)};Object.defineProperty(da,"__esModule",{value:!0});TH(dT(),da)});var ZE=M(Xn=>{"use strict";var OH=Xn&&Xn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),RH=Xn&&Xn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YE=Xn&&Xn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&OH(e,t,r);return RH(e,t),e},BH=Xn&&Xn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.SocksProxyAgent=void 0;var LH=pT(),NH=Bu(),MH=BH(Sn()),jH=YE(require("dns")),$H=YE(require("net")),UH=YE(require("tls")),Np=(0,MH.default)("socks-proxy-agent");function qH(t){let e=!1,r=5,n=t.hostname,i=parseInt(t.port,10)||1080;switch(t.protocol.replace(":","")){case"socks4":e=!0,r=4;break;case"socks4a":r=4;break;case"socks5":e=!0,r=5;break;case"socks":r=5;break;case"socks5h":r=5;break;default:throw new TypeError(`A "socks" protocol must be specified! Got: ${String(t.protocol)}`)}let s={host:n,port:i,type:r};return t.username&&Object.defineProperty(s,"userId",{value:decodeURIComponent(t.username),enumerable:!1}),t.password!=null&&Object.defineProperty(s,"password",{value:decodeURIComponent(t.password),enumerable:!1}),{lookup:e,proxy:s}}var Mp=class extends NH.Agent{constructor(e,r){super(r);let n=typeof e=="string"?new URL(e):e,{proxy:i,lookup:s}=qH(n);this.shouldLookup=s,this.proxy=i,this.timeout=(r==null?void 0:r.timeout)??null}async connect(e,r){let{shouldLookup:n,proxy:i,timeout:s}=this;if(!r.host)throw new Error("No `host` defined!");let{host:o}=r,{port:a,lookup:u=jH.lookup}=r;n&&(o=await new Promise((p,l)=>{u(o,{},(h,y)=>{h?l(h):p(y)})}));let f={proxy:i,destination:{host:o,port:typeof a=="number"?a:parseInt(a,10)},command:"connect",timeout:s??void 0},c=p=>{e.destroy(),d.destroy(),p&&p.destroy()};Np("Creating socks proxy connection: %o",f);let{socket:d}=await LH.SocksClient.createConnection(f);if(Np("Successfully created socks proxy connection"),s!==null&&(d.setTimeout(s),d.on("timeout",()=>c())),r.secureEndpoint){Np("Upgrading socket connection to TLS");let p=r.servername||r.host,l=UH.connect({...VH(r,"host","path","port"),socket:d,servername:$H.isIP(p)?void 0:p});return l.once("error",h=>{Np("Socket TLS error",h.message),c(l)}),l}return d}};Mp.protocols=["socks","socks4","socks4a","socks5","socks5h"];Xn.SocksProxyAgent=Mp;function VH(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}});var gT=M(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.dataUriToBuffer=void 0;function mT(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let e=t.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let r=t.substring(5,e).split(";"),n="",i=!1,s=r[0]||"text/plain",o=s;for(let c=1;c<r.length;c++)r[c]==="base64"?i=!0:r[c]&&(o+=`;${r[c]}`,r[c].indexOf("charset=")===0&&(n=r[c].substring(8)));!r[0]&&!n.length&&(o+=";charset=US-ASCII",n="US-ASCII");let a=i?"base64":"ascii",u=unescape(t.substring(e+1)),f=Buffer.from(u,a);return f.type=s,f.typeFull=o,f.charset=n,f}Jc.dataUriToBuffer=mT;Jc.default=mT});var Kc=M(eb=>{"use strict";Object.defineProperty(eb,"__esModule",{value:!0});var QE=class extends Error{constructor(e){super(e||'Source has not been modified since the provied "cache", re-use previous results'),this.code="ENOTMODIFIED"}};eb.default=QE});var yT=M(Hu=>{"use strict";var nb=Hu&&Hu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.data=void 0;var HH=nb(Sn()),zH=require("stream"),WH=require("crypto"),GH=nb(gT()),JH=nb(Kc()),tb=(0,HH.default)("get-uri:data"),rb=class extends zH.Readable{constructor(e,r){super(),this.push(r),this.push(null),this.hash=e}},KH=async({href:t},{cache:e}={})=>{let r=(0,WH.createHash)("sha1");r.update(t);let n=r.digest("hex");if(tb('generated SHA1 hash for "data:" URI: %o',n),(e==null?void 0:e.hash)===n)throw tb("got matching cache SHA1 hash: %o",n),new JH.default;{tb('creating Readable stream from "data:" URI buffer');let i=(0,GH.default)(t);return new rb(n,i)}};Hu.data=KH});var nn=M(ib=>{"use strict";ib.fromCallback=function(t){return Object.defineProperty(function(){if(typeof arguments[arguments.length-1]=="function")t.apply(this,arguments);else return new Promise((e,r)=>{arguments[arguments.length]=(n,i)=>{if(n)return r(n);e(i)},arguments.length++,t.apply(this,arguments)})},"name",{value:t.name})};ib.fromPromise=function(t){return Object.defineProperty(function(){let e=arguments[arguments.length-1];if(typeof e!="function")return t.apply(this,arguments);t.apply(this,arguments).then(r=>e(null,r),e)},"name",{value:t.name})}});var ET=M((Kle,vT)=>{var so=require("constants"),XH=process.cwd,jp=null,YH=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return jp||(jp=XH.call(process)),jp};try{process.cwd()}catch{}typeof process.chdir=="function"&&(sb=process.chdir,process.chdir=function(t){jp=null,sb.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,sb));var sb;vT.exports=ZH;function ZH(t){so.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=u(t.statSync),t.fstatSync=u(t.fstatSync),t.lstatSync=u(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(c,d,p){p&&process.nextTick(p)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(c,d,p,l){l&&process.nextTick(l)},t.lchownSync=function(){}),YH==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:function(c){function d(p,l,h){var y=Date.now(),g=0;c(p,l,function v(b){if(b&&(b.code==="EACCES"||b.code==="EPERM")&&Date.now()-y<6e4){setTimeout(function(){t.stat(l,function(x,E){x&&x.code==="ENOENT"?c(p,l,v):h(b)})},g),g<100&&(g+=10);return}h&&h(b)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,c),d}(t.rename)),t.read=typeof t.read!="function"?t.read:function(c){function d(p,l,h,y,g,v){var b;if(v&&typeof v=="function"){var x=0;b=function(E,S,F){if(E&&E.code==="EAGAIN"&&x<10)return x++,c.call(t,p,l,h,y,g,b);v.apply(this,arguments)}}return c.call(t,p,l,h,y,g,b)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,c),d}(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:function(c){return function(d,p,l,h,y){for(var g=0;;)try{return c.call(t,d,p,l,h,y)}catch(v){if(v.code==="EAGAIN"&&g<10){g++;continue}throw v}}}(t.readSync);function e(c){c.lchmod=function(d,p,l){c.open(d,so.O_WRONLY|so.O_SYMLINK,p,function(h,y){if(h){l&&l(h);return}c.fchmod(y,p,function(g){c.close(y,function(v){l&&l(g||v)})})})},c.lchmodSync=function(d,p){var l=c.openSync(d,so.O_WRONLY|so.O_SYMLINK,p),h=!0,y;try{y=c.fchmodSync(l,p),h=!1}finally{if(h)try{c.closeSync(l)}catch{}else c.closeSync(l)}return y}}function r(c){so.hasOwnProperty("O_SYMLINK")&&c.futimes?(c.lutimes=function(d,p,l,h){c.open(d,so.O_SYMLINK,function(y,g){if(y){h&&h(y);return}c.futimes(g,p,l,function(v){c.close(g,function(b){h&&h(v||b)})})})},c.lutimesSync=function(d,p,l){var h=c.openSync(d,so.O_SYMLINK),y,g=!0;try{y=c.futimesSync(h,p,l),g=!1}finally{if(g)try{c.closeSync(h)}catch{}else c.closeSync(h)}return y}):c.futimes&&(c.lutimes=function(d,p,l,h){h&&process.nextTick(h)},c.lutimesSync=function(){})}function n(c){return c&&function(d,p,l){return c.call(t,d,p,function(h){f(h)&&(h=null),l&&l.apply(this,arguments)})}}function i(c){return c&&function(d,p){try{return c.call(t,d,p)}catch(l){if(!f(l))throw l}}}function s(c){return c&&function(d,p,l,h){return c.call(t,d,p,l,function(y){f(y)&&(y=null),h&&h.apply(this,arguments)})}}function o(c){return c&&function(d,p,l){try{return c.call(t,d,p,l)}catch(h){if(!f(h))throw h}}}function a(c){return c&&function(d,p,l){typeof p=="function"&&(l=p,p=null);function h(y,g){g&&(g.uid<0&&(g.uid+=4294967296),g.gid<0&&(g.gid+=4294967296)),l&&l.apply(this,arguments)}return p?c.call(t,d,p,h):c.call(t,d,h)}}function u(c){return c&&function(d,p){var l=p?c.call(t,d,p):c.call(t,d);return l&&(l.uid<0&&(l.uid+=4294967296),l.gid<0&&(l.gid+=4294967296)),l}}function f(c){if(!c||c.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(c.code==="EINVAL"||c.code==="EPERM"))}}});var xT=M((Xle,wT)=>{var bT=require("stream").Stream;wT.exports=QH;function QH(t){return{ReadStream:e,WriteStream:r};function e(n,i){if(!(this instanceof e))return new e(n,i);bT.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,u=o.length;a<u;a++){var f=o[a];this[f]=i[f]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(c,d){if(c){s.emit("error",c),s.readable=!1;return}s.fd=d,s.emit("open",d),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);bT.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var u=s[o];this[u]=i[u]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var ST=M((Yle,CT)=>{"use strict";CT.exports=tz;var ez=Object.getPrototypeOf||function(t){return t.__proto__};function tz(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:ez(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var Wt=M((Zle,ub)=>{var _t=require("fs"),rz=ET(),nz=xT(),iz=ST(),$p=require("util"),cr,qp;typeof Symbol=="function"&&typeof Symbol.for=="function"?(cr=Symbol.for("graceful-fs.queue"),qp=Symbol.for("graceful-fs.previous")):(cr="___graceful-fs.queue",qp="___graceful-fs.previous");function sz(){}function FT(t,e){Object.defineProperty(t,cr,{get:function(){return e}})}var pa=sz;$p.debuglog?pa=$p.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(pa=function(){var t=$p.format.apply($p,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});_t[cr]||(DT=global[cr]||[],FT(_t,DT),_t.close=function(t){function e(r,n){return t.call(_t,r,function(i){i||AT(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,qp,{value:t}),e}(_t.close),_t.closeSync=function(t){function e(r){t.apply(_t,arguments),AT()}return Object.defineProperty(e,qp,{value:t}),e}(_t.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){pa(_t[cr]),require("assert").equal(_t[cr].length,0)}));var DT;global[cr]||FT(global,_t[cr]);ub.exports=ob(iz(_t));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!_t.__patched&&(ub.exports=ob(_t),_t.__patched=!0);function ob(t){rz(t),t.gracefulify=ob,t.createReadStream=S,t.createWriteStream=F;var e=t.readFile;t.readFile=r;function r(H,j,R){return typeof j=="function"&&(R=j,j=null),N(H,j,R);function N(J,K,X,z){return e(J,K,function(T){T&&(T.code==="EMFILE"||T.code==="ENFILE")?zu([N,[J,K,X],T,z||Date.now(),Date.now()]):typeof X=="function"&&X.apply(this,arguments)})}}var n=t.writeFile;t.writeFile=i;function i(H,j,R,N){return typeof R=="function"&&(N=R,R=null),J(H,j,R,N);function J(K,X,z,T,W){return n(K,X,z,function(L){L&&(L.code==="EMFILE"||L.code==="ENFILE")?zu([J,[K,X,z,T],L,W||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=o);function o(H,j,R,N){return typeof R=="function"&&(N=R,R=null),J(H,j,R,N);function J(K,X,z,T,W){return s(K,X,z,function(L){L&&(L.code==="EMFILE"||L.code==="ENFILE")?zu([J,[K,X,z,T],L,W||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments)})}}var a=t.copyFile;a&&(t.copyFile=u);function u(H,j,R,N){return typeof R=="function"&&(N=R,R=0),J(H,j,R,N);function J(K,X,z,T,W){return a(K,X,z,function(L){L&&(L.code==="EMFILE"||L.code==="ENFILE")?zu([J,[K,X,z,T],L,W||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments)})}}var f=t.readdir;t.readdir=d;var c=/^v[0-5]\./;function d(H,j,R){typeof j=="function"&&(R=j,j=null);var N=c.test(process.version)?function(X,z,T,W){return f(X,J(X,z,T,W))}:function(X,z,T,W){return f(X,z,J(X,z,T,W))};return N(H,j,R);function J(K,X,z,T){return function(W,L){W&&(W.code==="EMFILE"||W.code==="ENFILE")?zu([N,[K,X,z],W,T||Date.now(),Date.now()]):(L&&L.sort&&L.sort(),typeof z=="function"&&z.call(this,W,L))}}}if(process.version.substr(0,4)==="v0.8"){var p=nz(t);v=p.ReadStream,x=p.WriteStream}var l=t.ReadStream;l&&(v.prototype=Object.create(l.prototype),v.prototype.open=b);var h=t.WriteStream;h&&(x.prototype=Object.create(h.prototype),x.prototype.open=E),Object.defineProperty(t,"ReadStream",{get:function(){return v},set:function(H){v=H},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return x},set:function(H){x=H},enumerable:!0,configurable:!0});var y=v;Object.defineProperty(t,"FileReadStream",{get:function(){return y},set:function(H){y=H},enumerable:!0,configurable:!0});var g=x;Object.defineProperty(t,"FileWriteStream",{get:function(){return g},set:function(H){g=H},enumerable:!0,configurable:!0});function v(H,j){return this instanceof v?(l.apply(this,arguments),this):v.apply(Object.create(v.prototype),arguments)}function b(){var H=this;V(H.path,H.flags,H.mode,function(j,R){j?(H.autoClose&&H.destroy(),H.emit("error",j)):(H.fd=R,H.emit("open",R),H.read())})}function x(H,j){return this instanceof x?(h.apply(this,arguments),this):x.apply(Object.create(x.prototype),arguments)}function E(){var H=this;V(H.path,H.flags,H.mode,function(j,R){j?(H.destroy(),H.emit("error",j)):(H.fd=R,H.emit("open",R))})}function S(H,j){return new t.ReadStream(H,j)}function F(H,j){return new t.WriteStream(H,j)}var P=t.open;t.open=V;function V(H,j,R,N){return typeof R=="function"&&(N=R,R=null),J(H,j,R,N);function J(K,X,z,T,W){return P(K,X,z,function(L,$){L&&(L.code==="EMFILE"||L.code==="ENFILE")?zu([J,[K,X,z,T],L,W||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments)})}}return t}function zu(t){pa("ENQUEUE",t[0].name,t[1]),_t[cr].push(t),ab()}var Up;function AT(){for(var t=Date.now(),e=0;e<_t[cr].length;++e)_t[cr][e].length>2&&(_t[cr][e][3]=t,_t[cr][e][4]=t);ab()}function ab(){if(clearTimeout(Up),Up=void 0,_t[cr].length!==0){var t=_t[cr].shift(),e=t[0],r=t[1],n=t[2],i=t[3],s=t[4];if(i===void 0)pa("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-i>=6e4){pa("TIMEOUT",e.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,u=Math.max(s-i,1),f=Math.min(u*1.2,100);a>=f?(pa("RETRY",e.name,r),e.apply(null,r.concat([i]))):_t[cr].push(t)}Up===void 0&&(Up=setTimeout(ab,0))}}});var lb=M(ma=>{"use strict";var _T=nn().fromCallback,Yn=Wt(),oz=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","lchmod","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>typeof Yn[t]=="function");Object.keys(Yn).forEach(t=>{t!=="promises"&&(ma[t]=Yn[t])});oz.forEach(t=>{ma[t]=_T(Yn[t])});ma.exists=function(t,e){return typeof e=="function"?Yn.exists(t,e):new Promise(r=>Yn.exists(t,r))};ma.read=function(t,e,r,n,i,s){return typeof s=="function"?Yn.read(t,e,r,n,i,s):new Promise((o,a)=>{Yn.read(t,e,r,n,i,(u,f,c)=>{if(u)return a(u);o({bytesRead:f,buffer:c})})})};ma.write=function(t,e,...r){return typeof r[r.length-1]=="function"?Yn.write(t,e,...r):new Promise((n,i)=>{Yn.write(t,e,...r,(s,o,a)=>{if(s)return i(s);n({bytesWritten:o,buffer:a})})})};typeof Yn.realpath.native=="function"&&(ma.realpath.native=_T(Yn.realpath.native))});var fb=M((ece,IT)=>{"use strict";var cb=require("path");function kT(t){return t=cb.normalize(cb.resolve(t)).split(cb.sep),t.length>0?t[0]:null}var az=/[<>:"|?*]/;function uz(t){let e=kT(t);return t=t.replace(e,""),az.test(t)}IT.exports={getRootPath:kT,invalidWin32Path:uz}});var TT=M((tce,PT)=>{"use strict";var lz=Wt(),hb=require("path"),cz=fb().invalidWin32Path,fz=parseInt("0777",8);function db(t,e,r,n){if(typeof e=="function"?(r=e,e={}):(!e||typeof e!="object")&&(e={mode:e}),process.platform==="win32"&&cz(t)){let o=new Error(t+" contains invalid WIN32 path characters.");return o.code="EINVAL",r(o)}let i=e.mode,s=e.fs||lz;i===void 0&&(i=fz&~process.umask()),n||(n=null),r=r||function(){},t=hb.resolve(t),s.mkdir(t,i,o=>{if(!o)return n=n||t,r(null,n);switch(o.code){case"ENOENT":if(hb.dirname(t)===t)return r(o);db(hb.dirname(t),e,(a,u)=>{a?r(a,u):db(t,e,r,u)});break;default:s.stat(t,(a,u)=>{a||!u.isDirectory()?r(o,n):r(null,n)});break}})}PT.exports=db});var RT=M((rce,OT)=>{"use strict";var hz=Wt(),pb=require("path"),dz=fb().invalidWin32Path,pz=parseInt("0777",8);function mb(t,e,r){(!e||typeof e!="object")&&(e={mode:e});let n=e.mode,i=e.fs||hz;if(process.platform==="win32"&&dz(t)){let s=new Error(t+" contains invalid WIN32 path characters.");throw s.code="EINVAL",s}n===void 0&&(n=pz&~process.umask()),r||(r=null),t=pb.resolve(t);try{i.mkdirSync(t,n),r=r||t}catch(s){if(s.code==="ENOENT"){if(pb.dirname(t)===t)throw s;r=mb(pb.dirname(t),e,r),mb(t,e,r)}else{let o;try{o=i.statSync(t)}catch{throw s}if(!o.isDirectory())throw s}}return r}OT.exports=mb});var _n=M((nce,BT)=>{"use strict";var mz=nn().fromCallback,gb=mz(TT()),yb=RT();BT.exports={mkdirs:gb,mkdirsSync:yb,mkdirp:gb,mkdirpSync:yb,ensureDir:gb,ensureDirSync:yb}});var vb=M((ice,NT)=>{"use strict";var _r=Wt(),LT=require("os"),Vp=require("path");function gz(){let t=Vp.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));t=Vp.join(LT.tmpdir(),t);let e=new Date(1435410243862);_r.writeFileSync(t,"https://github.com/jprichardson/node-fs-extra/pull/141");let r=_r.openSync(t,"r+");return _r.futimesSync(r,e,e),_r.closeSync(r),_r.statSync(t).mtime>1435410243e3}function yz(t){let e=Vp.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));e=Vp.join(LT.tmpdir(),e);let r=new Date(1435410243862);_r.writeFile(e,"https://github.com/jprichardson/node-fs-extra/pull/141",n=>{if(n)return t(n);_r.open(e,"r+",(i,s)=>{if(i)return t(i);_r.futimes(s,r,r,o=>{if(o)return t(o);_r.close(s,a=>{if(a)return t(a);_r.stat(e,(u,f)=>{if(u)return t(u);t(null,f.mtime>1435410243e3)})})})})})}function vz(t){if(typeof t=="number")return Math.floor(t/1e3)*1e3;if(t instanceof Date)return new Date(Math.floor(t.getTime()/1e3)*1e3);throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")}function Ez(t,e,r,n){_r.open(t,"r+",(i,s)=>{if(i)return n(i);_r.futimes(s,e,r,o=>{_r.close(s,a=>{n&&n(o||a)})})})}function bz(t,e,r){let n=_r.openSync(t,"r+");return _r.futimesSync(n,e,r),_r.closeSync(n)}NT.exports={hasMillisRes:yz,hasMillisResSync:gz,timeRemoveMillis:vz,utimesMillis:Ez,utimesMillisSync:bz}});var Zc=M((sce,VT)=>{"use strict";var Zn=Wt(),sn=require("path"),MT=10,jT=5,wz=0,bb=process.versions.node.split("."),$T=Number.parseInt(bb[0],10),UT=Number.parseInt(bb[1],10),xz=Number.parseInt(bb[2],10);function Xc(){if($T>MT)return!0;if($T===MT){if(UT>jT)return!0;if(UT===jT&&xz>=wz)return!0}return!1}function Cz(t,e,r){Xc()?Zn.stat(t,{bigint:!0},(n,i)=>{if(n)return r(n);Zn.stat(e,{bigint:!0},(s,o)=>s?s.code==="ENOENT"?r(null,{srcStat:i,destStat:null}):r(s):r(null,{srcStat:i,destStat:o}))}):Zn.stat(t,(n,i)=>{if(n)return r(n);Zn.stat(e,(s,o)=>s?s.code==="ENOENT"?r(null,{srcStat:i,destStat:null}):r(s):r(null,{srcStat:i,destStat:o}))})}function Sz(t,e){let r,n;Xc()?r=Zn.statSync(t,{bigint:!0}):r=Zn.statSync(t);try{Xc()?n=Zn.statSync(e,{bigint:!0}):n=Zn.statSync(e)}catch(i){if(i.code==="ENOENT")return{srcStat:r,destStat:null};throw i}return{srcStat:r,destStat:n}}function Dz(t,e,r,n){Cz(t,e,(i,s)=>{if(i)return n(i);let{srcStat:o,destStat:a}=s;return a&&a.ino&&a.dev&&a.ino===o.ino&&a.dev===o.dev?n(new Error("Source and destination must not be the same.")):o.isDirectory()&&wb(t,e)?n(new Error(Yc(t,e,r))):n(null,{srcStat:o,destStat:a})})}function Az(t,e,r){let{srcStat:n,destStat:i}=Sz(t,e);if(i&&i.ino&&i.dev&&i.ino===n.ino&&i.dev===n.dev)throw new Error("Source and destination must not be the same.");if(n.isDirectory()&&wb(t,e))throw new Error(Yc(t,e,r));return{srcStat:n,destStat:i}}function Eb(t,e,r,n,i){let s=sn.resolve(sn.dirname(t)),o=sn.resolve(sn.dirname(r));if(o===s||o===sn.parse(o).root)return i();Xc()?Zn.stat(o,{bigint:!0},(a,u)=>a?a.code==="ENOENT"?i():i(a):u.ino&&u.dev&&u.ino===e.ino&&u.dev===e.dev?i(new Error(Yc(t,r,n))):Eb(t,e,o,n,i)):Zn.stat(o,(a,u)=>a?a.code==="ENOENT"?i():i(a):u.ino&&u.dev&&u.ino===e.ino&&u.dev===e.dev?i(new Error(Yc(t,r,n))):Eb(t,e,o,n,i))}function qT(t,e,r,n){let i=sn.resolve(sn.dirname(t)),s=sn.resolve(sn.dirname(r));if(s===i||s===sn.parse(s).root)return;let o;try{Xc()?o=Zn.statSync(s,{bigint:!0}):o=Zn.statSync(s)}catch(a){if(a.code==="ENOENT")return;throw a}if(o.ino&&o.dev&&o.ino===e.ino&&o.dev===e.dev)throw new Error(Yc(t,r,n));return qT(t,e,s,n)}function wb(t,e){let r=sn.resolve(t).split(sn.sep).filter(i=>i),n=sn.resolve(e).split(sn.sep).filter(i=>i);return r.reduce((i,s,o)=>i&&n[o]===s,!0)}function Yc(t,e,r){return`Cannot ${r} '${t}' to a subdirectory of itself, '${e}'.`}VT.exports={checkPaths:Dz,checkPathsSync:Az,checkParentPaths:Eb,checkParentPathsSync:qT,isSrcSubdir:wb}});var zT=M((oce,HT)=>{"use strict";HT.exports=function(t){if(typeof Buffer.allocUnsafe=="function")try{return Buffer.allocUnsafe(t)}catch{return new Buffer(t)}return new Buffer(t)}});var XT=M((ace,KT)=>{"use strict";var xt=Wt(),Qc=require("path"),Fz=_n().mkdirsSync,_z=vb().utimesMillisSync,ef=Zc();function kz(t,e,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`);let{srcStat:n,destStat:i}=ef.checkPathsSync(t,e,"copy");return ef.checkParentPathsSync(t,n,e,"copy"),Iz(i,t,e,r)}function Iz(t,e,r,n){if(n.filter&&!n.filter(e,r))return;let i=Qc.dirname(r);return xt.existsSync(i)||Fz(i),WT(t,e,r,n)}function WT(t,e,r,n){if(!(n.filter&&!n.filter(e,r)))return Pz(t,e,r,n)}function Pz(t,e,r,n){let s=(n.dereference?xt.statSync:xt.lstatSync)(e);if(s.isDirectory())return Bz(s,t,e,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return Tz(s,t,e,r,n);if(s.isSymbolicLink())return Mz(t,e,r,n)}function Tz(t,e,r,n,i){return e?Oz(t,r,n,i):GT(t,r,n,i)}function Oz(t,e,r,n){if(n.overwrite)return xt.unlinkSync(r),GT(t,e,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function GT(t,e,r,n){return typeof xt.copyFileSync=="function"?(xt.copyFileSync(e,r),xt.chmodSync(r,t.mode),n.preserveTimestamps?_z(r,t.atime,t.mtime):void 0):Rz(t,e,r,n)}function Rz(t,e,r,n){let s=zT()(65536),o=xt.openSync(e,"r"),a=xt.openSync(r,"w",t.mode),u=0;for(;u<t.size;){let f=xt.readSync(o,s,0,65536,u);xt.writeSync(a,s,0,f),u+=f}n.preserveTimestamps&&xt.futimesSync(a,t.atime,t.mtime),xt.closeSync(o),xt.closeSync(a)}function Bz(t,e,r,n,i){if(!e)return Lz(t,r,n,i);if(e&&!e.isDirectory())throw new Error(`Cannot overwrite non-directory '${n}' with directory '${r}'.`);return JT(r,n,i)}function Lz(t,e,r,n){return xt.mkdirSync(r),JT(e,r,n),xt.chmodSync(r,t.mode)}function JT(t,e,r){xt.readdirSync(t).forEach(n=>Nz(n,t,e,r))}function Nz(t,e,r,n){let i=Qc.join(e,t),s=Qc.join(r,t),{destStat:o}=ef.checkPathsSync(i,s,"copy");return WT(o,i,s,n)}function Mz(t,e,r,n){let i=xt.readlinkSync(e);if(n.dereference&&(i=Qc.resolve(process.cwd(),i)),t){let s;try{s=xt.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return xt.symlinkSync(i,r);throw o}if(n.dereference&&(s=Qc.resolve(process.cwd(),s)),ef.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(xt.statSync(r).isDirectory()&&ef.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`);return jz(i,r)}else return xt.symlinkSync(i,r)}function jz(t,e){return xt.unlinkSync(e),xt.symlinkSync(t,e)}KT.exports=kz});var xb=M((uce,YT)=>{"use strict";YT.exports={copySync:XT()}});var ji=M((lce,QT)=>{"use strict";var $z=nn().fromPromise,ZT=lb();function Uz(t){return ZT.access(t).then(()=>!0).catch(()=>!1)}QT.exports={pathExists:$z(Uz),pathExistsSync:ZT.existsSync}});var uO=M((cce,aO)=>{"use strict";var fr=Wt(),tf=require("path"),qz=_n().mkdirs,Vz=ji().pathExists,Hz=vb().utimesMillis,rf=Zc();function zz(t,e,r,n){typeof r=="function"&&!n?(n=r,r={}):typeof r=="function"&&(r={filter:r}),n=n||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`),rf.checkPaths(t,e,"copy",(i,s)=>{if(i)return n(i);let{srcStat:o,destStat:a}=s;rf.checkParentPaths(t,o,e,"copy",u=>u?n(u):r.filter?rO(eO,a,t,e,r,n):eO(a,t,e,r,n))})}function eO(t,e,r,n,i){let s=tf.dirname(r);Vz(s,(o,a)=>{if(o)return i(o);if(a)return Cb(t,e,r,n,i);qz(s,u=>u?i(u):Cb(t,e,r,n,i))})}function rO(t,e,r,n,i,s){Promise.resolve(i.filter(r,n)).then(o=>o?t(e,r,n,i,s):s(),o=>s(o))}function Cb(t,e,r,n,i){return n.filter?rO(tO,t,e,r,n,i):tO(t,e,r,n,i)}function tO(t,e,r,n,i){(n.dereference?fr.stat:fr.lstat)(e,(o,a)=>{if(o)return i(o);if(a.isDirectory())return Kz(a,t,e,r,n,i);if(a.isFile()||a.isCharacterDevice()||a.isBlockDevice())return Wz(a,t,e,r,n,i);if(a.isSymbolicLink())return Zz(t,e,r,n,i)})}function Wz(t,e,r,n,i,s){return e?Gz(t,r,n,i,s):nO(t,r,n,i,s)}function Gz(t,e,r,n,i){if(n.overwrite)fr.unlink(r,s=>s?i(s):nO(t,e,r,n,i));else return n.errorOnExist?i(new Error(`'${r}' already exists`)):i()}function nO(t,e,r,n,i){return typeof fr.copyFile=="function"?fr.copyFile(e,r,s=>s?i(s):iO(t,r,n,i)):Jz(t,e,r,n,i)}function Jz(t,e,r,n,i){let s=fr.createReadStream(e);s.on("error",o=>i(o)).once("open",()=>{let o=fr.createWriteStream(r,{mode:t.mode});o.on("error",a=>i(a)).on("open",()=>s.pipe(o)).once("close",()=>iO(t,r,n,i))})}function iO(t,e,r,n){fr.chmod(e,t.mode,i=>i?n(i):r.preserveTimestamps?Hz(e,t.atime,t.mtime,n):n())}function Kz(t,e,r,n,i,s){return e?e&&!e.isDirectory()?s(new Error(`Cannot overwrite non-directory '${n}' with directory '${r}'.`)):sO(r,n,i,s):Xz(t,r,n,i,s)}function Xz(t,e,r,n,i){fr.mkdir(r,s=>{if(s)return i(s);sO(e,r,n,o=>o?i(o):fr.chmod(r,t.mode,i))})}function sO(t,e,r,n){fr.readdir(t,(i,s)=>i?n(i):oO(s,t,e,r,n))}function oO(t,e,r,n,i){let s=t.pop();return s?Yz(t,s,e,r,n,i):i()}function Yz(t,e,r,n,i,s){let o=tf.join(r,e),a=tf.join(n,e);rf.checkPaths(o,a,"copy",(u,f)=>{if(u)return s(u);let{destStat:c}=f;Cb(c,o,a,i,d=>d?s(d):oO(t,r,n,i,s))})}function Zz(t,e,r,n,i){fr.readlink(e,(s,o)=>{if(s)return i(s);if(n.dereference&&(o=tf.resolve(process.cwd(),o)),t)fr.readlink(r,(a,u)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?fr.symlink(o,r,i):i(a):(n.dereference&&(u=tf.resolve(process.cwd(),u)),rf.isSrcSubdir(o,u)?i(new Error(`Cannot copy '${o}' to a subdirectory of itself, '${u}'.`)):t.isDirectory()&&rf.isSrcSubdir(u,o)?i(new Error(`Cannot overwrite '${u}' with '${o}'.`)):Qz(o,r,i)));else return fr.symlink(o,r,i)})}function Qz(t,e,r){fr.unlink(e,n=>n?r(n):fr.symlink(t,e,r))}aO.exports=zz});var Sb=M((fce,lO)=>{"use strict";var eW=nn().fromCallback;lO.exports={copy:eW(uO())}});var vO=M((hce,yO)=>{"use strict";var cO=Wt(),pO=require("path"),ot=require("assert"),nf=process.platform==="win32";function mO(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{t[r]=t[r]||cO[r],r=r+"Sync",t[r]=t[r]||cO[r]}),t.maxBusyTries=t.maxBusyTries||3}function Db(t,e,r){let n=0;typeof e=="function"&&(r=e,e={}),ot(t,"rimraf: missing path"),ot.strictEqual(typeof t,"string","rimraf: path should be a string"),ot.strictEqual(typeof r,"function","rimraf: callback function required"),ot(e,"rimraf: invalid options argument provided"),ot.strictEqual(typeof e,"object","rimraf: options should be object"),mO(e),fO(t,e,function i(s){if(s){if((s.code==="EBUSY"||s.code==="ENOTEMPTY"||s.code==="EPERM")&&n<e.maxBusyTries){n++;let o=n*100;return setTimeout(()=>fO(t,e,i),o)}s.code==="ENOENT"&&(s=null)}r(s)})}function fO(t,e,r){ot(t),ot(e),ot(typeof r=="function"),e.lstat(t,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&nf)return hO(t,e,n,r);if(i&&i.isDirectory())return Hp(t,e,n,r);e.unlink(t,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return nf?hO(t,e,s,r):Hp(t,e,s,r);if(s.code==="EISDIR")return Hp(t,e,s,r)}return r(s)})})}function hO(t,e,r,n){ot(t),ot(e),ot(typeof n=="function"),r&&ot(r instanceof Error),e.chmod(t,438,i=>{i?n(i.code==="ENOENT"?null:r):e.stat(t,(s,o)=>{s?n(s.code==="ENOENT"?null:r):o.isDirectory()?Hp(t,e,r,n):e.unlink(t,n)})})}function dO(t,e,r){let n;ot(t),ot(e),r&&ot(r instanceof Error);try{e.chmodSync(t,438)}catch(i){if(i.code==="ENOENT")return;throw r}try{n=e.statSync(t)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?zp(t,e,r):e.unlinkSync(t)}function Hp(t,e,r,n){ot(t),ot(e),r&&ot(r instanceof Error),ot(typeof n=="function"),e.rmdir(t,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?tW(t,e,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function tW(t,e,r){ot(t),ot(e),ot(typeof r=="function"),e.readdir(t,(n,i)=>{if(n)return r(n);let s=i.length,o;if(s===0)return e.rmdir(t,r);i.forEach(a=>{Db(pO.join(t,a),e,u=>{if(!o){if(u)return r(o=u);--s===0&&e.rmdir(t,r)}})})})}function gO(t,e){let r;e=e||{},mO(e),ot(t,"rimraf: missing path"),ot.strictEqual(typeof t,"string","rimraf: path should be a string"),ot(e,"rimraf: missing options"),ot.strictEqual(typeof e,"object","rimraf: options should be object");try{r=e.lstatSync(t)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&nf&&dO(t,e,n)}try{r&&r.isDirectory()?zp(t,e,null):e.unlinkSync(t)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return nf?dO(t,e,n):zp(t,e,n);if(n.code!=="EISDIR")throw n;zp(t,e,n)}}function zp(t,e,r){ot(t),ot(e),r&&ot(r instanceof Error);try{e.rmdirSync(t)}catch(n){if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")rW(t,e);else if(n.code!=="ENOENT")throw n}}function rW(t,e){if(ot(t),ot(e),e.readdirSync(t).forEach(r=>gO(pO.join(t,r),e)),nf){let r=Date.now();do try{return e.rmdirSync(t,e)}catch{}while(Date.now()-r<500)}else return e.rmdirSync(t,e)}yO.exports=Db;Db.sync=gO});var sf=M((dce,bO)=>{"use strict";var nW=nn().fromCallback,EO=vO();bO.exports={remove:nW(EO),removeSync:EO.sync}});var _O=M((pce,FO)=>{"use strict";var iW=nn().fromCallback,CO=Wt(),SO=require("path"),DO=_n(),AO=sf(),wO=iW(function(e,r){r=r||function(){},CO.readdir(e,(n,i)=>{if(n)return DO.mkdirs(e,r);i=i.map(o=>SO.join(e,o)),s();function s(){let o=i.pop();if(!o)return r();AO.remove(o,a=>{if(a)return r(a);s()})}})});function xO(t){let e;try{e=CO.readdirSync(t)}catch{return DO.mkdirsSync(t)}e.forEach(r=>{r=SO.join(t,r),AO.removeSync(r)})}FO.exports={emptyDirSync:xO,emptydirSync:xO,emptyDir:wO,emptydir:wO}});var TO=M((mce,PO)=>{"use strict";var sW=nn().fromCallback,kO=require("path"),of=Wt(),IO=_n(),oW=ji().pathExists;function aW(t,e){function r(){of.writeFile(t,"",n=>{if(n)return e(n);e()})}of.stat(t,(n,i)=>{if(!n&&i.isFile())return e();let s=kO.dirname(t);oW(s,(o,a)=>{if(o)return e(o);if(a)return r();IO.mkdirs(s,u=>{if(u)return e(u);r()})})})}function uW(t){let e;try{e=of.statSync(t)}catch{}if(e&&e.isFile())return;let r=kO.dirname(t);of.existsSync(r)||IO.mkdirsSync(r),of.writeFileSync(t,"")}PO.exports={createFile:sW(aW),createFileSync:uW}});var NO=M((gce,LO)=>{"use strict";var lW=nn().fromCallback,RO=require("path"),ga=Wt(),BO=_n(),OO=ji().pathExists;function cW(t,e,r){function n(i,s){ga.link(i,s,o=>{if(o)return r(o);r(null)})}OO(e,(i,s)=>{if(i)return r(i);if(s)return r(null);ga.lstat(t,o=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),r(o);let a=RO.dirname(e);OO(a,(u,f)=>{if(u)return r(u);if(f)return n(t,e);BO.mkdirs(a,c=>{if(c)return r(c);n(t,e)})})})})}function fW(t,e){if(ga.existsSync(e))return;try{ga.lstatSync(t)}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}let n=RO.dirname(e);return ga.existsSync(n)||BO.mkdirsSync(n),ga.linkSync(t,e)}LO.exports={createLink:lW(cW),createLinkSync:fW}});var jO=M((yce,MO)=>{"use strict";var oo=require("path"),af=Wt(),hW=ji().pathExists;function dW(t,e,r){if(oo.isAbsolute(t))return af.lstat(t,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),r(n)):r(null,{toCwd:t,toDst:t}));{let n=oo.dirname(e),i=oo.join(n,t);return hW(i,(s,o)=>s?r(s):o?r(null,{toCwd:i,toDst:t}):af.lstat(t,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),r(a)):r(null,{toCwd:t,toDst:oo.relative(n,t)})))}}function pW(t,e){let r;if(oo.isAbsolute(t)){if(r=af.existsSync(t),!r)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}else{let n=oo.dirname(e),i=oo.join(n,t);if(r=af.existsSync(i),r)return{toCwd:i,toDst:t};if(r=af.existsSync(t),!r)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:oo.relative(n,t)}}}MO.exports={symlinkPaths:dW,symlinkPathsSync:pW}});var qO=M((vce,UO)=>{"use strict";var $O=Wt();function mW(t,e,r){if(r=typeof e=="function"?e:r,e=typeof e=="function"?!1:e,e)return r(null,e);$O.lstat(t,(n,i)=>{if(n)return r(null,"file");e=i&&i.isDirectory()?"dir":"file",r(null,e)})}function gW(t,e){let r;if(e)return e;try{r=$O.lstatSync(t)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}UO.exports={symlinkType:mW,symlinkTypeSync:gW}});var KO=M((Ece,JO)=>{"use strict";var yW=nn().fromCallback,HO=require("path"),Wu=Wt(),zO=_n(),vW=zO.mkdirs,EW=zO.mkdirsSync,WO=jO(),bW=WO.symlinkPaths,wW=WO.symlinkPathsSync,GO=qO(),xW=GO.symlinkType,CW=GO.symlinkTypeSync,VO=ji().pathExists;function SW(t,e,r,n){n=typeof r=="function"?r:n,r=typeof r=="function"?!1:r,VO(e,(i,s)=>{if(i)return n(i);if(s)return n(null);bW(t,e,(o,a)=>{if(o)return n(o);t=a.toDst,xW(a.toCwd,r,(u,f)=>{if(u)return n(u);let c=HO.dirname(e);VO(c,(d,p)=>{if(d)return n(d);if(p)return Wu.symlink(t,e,f,n);vW(c,l=>{if(l)return n(l);Wu.symlink(t,e,f,n)})})})})})}function DW(t,e,r){if(Wu.existsSync(e))return;let i=wW(t,e);t=i.toDst,r=CW(i.toCwd,r);let s=HO.dirname(e);return Wu.existsSync(s)||EW(s),Wu.symlinkSync(t,e,r)}JO.exports={createSymlink:yW(SW),createSymlinkSync:DW}});var YO=M((bce,XO)=>{"use strict";var Wp=TO(),Gp=NO(),Jp=KO();XO.exports={createFile:Wp.createFile,createFileSync:Wp.createFileSync,ensureFile:Wp.createFile,ensureFileSync:Wp.createFileSync,createLink:Gp.createLink,createLinkSync:Gp.createLinkSync,ensureLink:Gp.createLink,ensureLinkSync:Gp.createLinkSync,createSymlink:Jp.createSymlink,createSymlinkSync:Jp.createSymlinkSync,ensureSymlink:Jp.createSymlink,ensureSymlinkSync:Jp.createSymlinkSync}});var tR=M((wce,eR)=>{var Gu;try{Gu=Wt()}catch{Gu=require("fs")}function AW(t,e,r){r==null&&(r=e,e={}),typeof e=="string"&&(e={encoding:e}),e=e||{};var n=e.fs||Gu,i=!0;"throws"in e&&(i=e.throws),n.readFile(t,e,function(s,o){if(s)return r(s);o=QO(o);var a;try{a=JSON.parse(o,e?e.reviver:null)}catch(u){return i?(u.message=t+": "+u.message,r(u)):r(null,null)}r(null,a)})}function FW(t,e){e=e||{},typeof e=="string"&&(e={encoding:e});var r=e.fs||Gu,n=!0;"throws"in e&&(n=e.throws);try{var i=r.readFileSync(t,e);return i=QO(i),JSON.parse(i,e.reviver)}catch(s){if(n)throw s.message=t+": "+s.message,s;return null}}function ZO(t,e){var r,n=`
`;typeof e=="object"&&e!==null&&(e.spaces&&(r=e.spaces),e.EOL&&(n=e.EOL));var i=JSON.stringify(t,e?e.replacer:null,r);return i.replace(/\n/g,n)+n}function _W(t,e,r,n){n==null&&(n=r,r={}),r=r||{};var i=r.fs||Gu,s="";try{s=ZO(e,r)}catch(o){n&&n(o,null);return}i.writeFile(t,s,r,n)}function kW(t,e,r){r=r||{};var n=r.fs||Gu,i=ZO(e,r);return n.writeFileSync(t,i,r)}function QO(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t=t.replace(/^\uFEFF/,""),t}var IW={readFile:AW,readFileSync:FW,writeFile:_W,writeFileSync:kW};eR.exports=IW});var Xp=M((xce,nR)=>{"use strict";var rR=nn().fromCallback,Kp=tR();nR.exports={readJson:rR(Kp.readFile),readJsonSync:Kp.readFileSync,writeJson:rR(Kp.writeFile),writeJsonSync:Kp.writeFileSync}});var oR=M((Cce,sR)=>{"use strict";var PW=require("path"),TW=_n(),OW=ji().pathExists,iR=Xp();function RW(t,e,r,n){typeof r=="function"&&(n=r,r={});let i=PW.dirname(t);OW(i,(s,o)=>{if(s)return n(s);if(o)return iR.writeJson(t,e,r,n);TW.mkdirs(i,a=>{if(a)return n(a);iR.writeJson(t,e,r,n)})})}sR.exports=RW});var uR=M((Sce,aR)=>{"use strict";var BW=Wt(),LW=require("path"),NW=_n(),MW=Xp();function jW(t,e,r){let n=LW.dirname(t);BW.existsSync(n)||NW.mkdirsSync(n),MW.writeJsonSync(t,e,r)}aR.exports=jW});var cR=M((Dce,lR)=>{"use strict";var $W=nn().fromCallback,Mr=Xp();Mr.outputJson=$W(oR());Mr.outputJsonSync=uR();Mr.outputJSON=Mr.outputJson;Mr.outputJSONSync=Mr.outputJsonSync;Mr.writeJSON=Mr.writeJson;Mr.writeJSONSync=Mr.writeJsonSync;Mr.readJSON=Mr.readJson;Mr.readJSONSync=Mr.readJsonSync;lR.exports=Mr});var gR=M((Ace,mR)=>{"use strict";var dR=Wt(),UW=require("path"),qW=xb().copySync,pR=sf().removeSync,VW=_n().mkdirpSync,fR=Zc();function HW(t,e,r){r=r||{};let n=r.overwrite||r.clobber||!1,{srcStat:i}=fR.checkPathsSync(t,e,"move");return fR.checkParentPathsSync(t,i,e,"move"),VW(UW.dirname(e)),zW(t,e,n)}function zW(t,e,r){if(r)return pR(e),hR(t,e,r);if(dR.existsSync(e))throw new Error("dest already exists.");return hR(t,e,r)}function hR(t,e,r){try{dR.renameSync(t,e)}catch(n){if(n.code!=="EXDEV")throw n;return WW(t,e,r)}}function WW(t,e,r){return qW(t,e,{overwrite:r,errorOnExist:!0}),pR(t)}mR.exports=HW});var vR=M((Fce,yR)=>{"use strict";yR.exports={moveSync:gR()}});var CR=M((_ce,xR)=>{"use strict";var GW=Wt(),JW=require("path"),KW=Sb().copy,wR=sf().remove,XW=_n().mkdirp,YW=ji().pathExists,ER=Zc();function ZW(t,e,r,n){typeof r=="function"&&(n=r,r={});let i=r.overwrite||r.clobber||!1;ER.checkPaths(t,e,"move",(s,o)=>{if(s)return n(s);let{srcStat:a}=o;ER.checkParentPaths(t,a,e,"move",u=>{if(u)return n(u);XW(JW.dirname(e),f=>f?n(f):QW(t,e,i,n))})})}function QW(t,e,r,n){if(r)return wR(e,i=>i?n(i):bR(t,e,r,n));YW(e,(i,s)=>i?n(i):s?n(new Error("dest already exists.")):bR(t,e,r,n))}function bR(t,e,r,n){GW.rename(t,e,i=>i?i.code!=="EXDEV"?n(i):eG(t,e,r,n):n())}function eG(t,e,r,n){KW(t,e,{overwrite:r,errorOnExist:!0},s=>s?n(s):wR(t,n))}xR.exports=ZW});var DR=M((kce,SR)=>{"use strict";var tG=nn().fromCallback;SR.exports={move:tG(CR())}});var kR=M((Ice,_R)=>{"use strict";var rG=nn().fromCallback,uf=Wt(),AR=require("path"),FR=_n(),nG=ji().pathExists;function iG(t,e,r,n){typeof r=="function"&&(n=r,r="utf8");let i=AR.dirname(t);nG(i,(s,o)=>{if(s)return n(s);if(o)return uf.writeFile(t,e,r,n);FR.mkdirs(i,a=>{if(a)return n(a);uf.writeFile(t,e,r,n)})})}function sG(t,...e){let r=AR.dirname(t);if(uf.existsSync(r))return uf.writeFileSync(t,...e);FR.mkdirsSync(r),uf.writeFileSync(t,...e)}_R.exports={outputFile:rG(iG),outputFileSync:sG}});var PR=M((Pce,Ab)=>{"use strict";Ab.exports=Object.assign({},lb(),xb(),Sb(),_O(),YO(),cR(),_n(),vR(),DR(),kR(),ji(),sf());var IR=require("fs");Object.getOwnPropertyDescriptor(IR,"promises")&&Object.defineProperty(Ab.exports,"promises",{get(){return IR.promises}})});var Yp=M(_b=>{"use strict";Object.defineProperty(_b,"__esModule",{value:!0});var Fb=class extends Error{constructor(e){super(e||"File does not exist at the specified endpoint"),this.code="ENOTFOUND"}};_b.default=Fb});var OR=M(Ju=>{"use strict";var kb=Ju&&Ju.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ju,"__esModule",{value:!0});Ju.file=void 0;var oG=kb(Sn()),aG=require("fs"),TR=PR(),uG=kb(Yp()),lG=kb(Kc()),cG=require("url"),fG=(0,oG.default)("get-uri:file"),hG=async({href:t},e={})=>{let{cache:r,flags:n="r",mode:i=438}=e;try{let s=(0,cG.fileURLToPath)(t);fG("Normalized pathname: %o",s);let o=await(0,TR.open)(s,n,i),a=await(0,TR.fstat)(o);if(r&&r.stat&&a&&dG(r.stat,a))throw new lG.default;let u=(0,aG.createReadStream)(null,{autoClose:!0,...e,fd:o});return u.stat=a,u}catch(s){throw s.code==="ENOENT"?new uG.default:s}};Ju.file=hG;function dG(t,e){return+t.mtime==+e.mtime}});var Zp=M(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.positiveIntermediate=Qn.positiveCompletion=Qn.isMultiline=Qn.isSingleLine=Qn.parseControlResponse=void 0;var Ib=`
`;function pG(t){let e=t.split(/\r?\n/).filter(yG),r=[],n=0,i;for(let o=0;o<e.length;o++){let a=e[o];if(i)i.test(a)&&(i=void 0,r.push(e.slice(n,o+1).join(Ib)));else if(BR(a)){let u=a.substr(0,3);i=new RegExp(`^${u}(?:$| )`),n=o}else RR(a)&&r.push(a)}let s=i?e.slice(n).join(Ib)+Ib:"";return{messages:r,rest:s}}Qn.parseControlResponse=pG;function RR(t){return/^\d\d\d(?:$| )/.test(t)}Qn.isSingleLine=RR;function BR(t){return/^\d\d\d-/.test(t)}Qn.isMultiline=BR;function mG(t){return t>=200&&t<300}Qn.positiveCompletion=mG;function gG(t){return t>=300&&t<400}Qn.positiveIntermediate=gG;function yG(t){return t.trim()!==""}});var Tb=M(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.FTPContext=Ku.FTPError=void 0;var vG=require("net"),EG=Zp(),Qp=class extends Error{constructor(e){super(e.message),this.name=this.constructor.name,this.code=e.code}};Ku.FTPError=Qp;function LR(){}var Pb=class{constructor(e=0,r="utf8"){this.timeout=e,this.verbose=!1,this.ipFamily=void 0,this.tlsOptions={},this._partialResponse="",this._encoding=r,this._socket=this.socket=this._newSocket(),this._dataSocket=void 0}close(){let e=this._task?"User closed client during task":"User closed client",r=new Error(e);this.closeWithError(r)}closeWithError(e){this._closingError||(this._closingError=e,this._closeControlSocket(),this._closeSocket(this._dataSocket),this._passToHandler(e),this._stopTrackingTask())}get closed(){return this.socket.remoteAddress===void 0||this._closingError!==void 0}reset(){this.socket=this._newSocket()}get socket(){return this._socket}set socket(e){this.dataSocket=void 0,this.tlsOptions={},this._partialResponse="",this._socket&&(e.localPort===this._socket.localPort?this._removeSocketListeners(this.socket):this._closeControlSocket()),e&&(this._closingError=void 0,e.setTimeout(0),e.setEncoding(this._encoding),e.setKeepAlive(!0),e.on("data",r=>this._onControlSocketData(r)),e.on("end",()=>this.closeWithError(new Error("Server sent FIN packet unexpectedly, closing connection."))),e.on("close",r=>{r||this.closeWithError(new Error("Server closed connection unexpectedly."))}),this._setupDefaultErrorHandlers(e,"control socket")),this._socket=e}get dataSocket(){return this._dataSocket}set dataSocket(e){this._closeSocket(this._dataSocket),e&&(e.setTimeout(0),this._setupDefaultErrorHandlers(e,"data socket")),this._dataSocket=e}get encoding(){return this._encoding}set encoding(e){this._encoding=e,this.socket&&this.socket.setEncoding(e)}send(e){let n=e.startsWith("PASS")?"> PASS ###":`> ${e}`;this.log(n),this._socket.write(e+`\r
`,this.encoding)}request(e){return this.handle(e,(r,n)=>{r instanceof Error?n.reject(r):n.resolve(r)})}handle(e,r){if(this._task){let n=new Error("User launched a task while another one is still running. Forgot to use 'await' or '.then()'?");n.stack+=`
Running task launched at: ${this._task.stack}`,this.closeWithError(n)}return new Promise((n,i)=>{if(this._task={stack:new Error().stack||"Unknown call stack",responseHandler:r,resolver:{resolve:s=>{this._stopTrackingTask(),n(s)},reject:s=>{this._stopTrackingTask(),i(s)}}},this._closingError){let s=new Error(`Client is closed because ${this._closingError.message}`);s.stack+=`
Closing reason: ${this._closingError.stack}`,s.code=this._closingError.code!==void 0?this._closingError.code:"0",this._passToHandler(s);return}this.socket.setTimeout(this.timeout),e&&this.send(e)})}log(e){this.verbose&&console.log(e)}get hasTLS(){return"encrypted"in this._socket}_stopTrackingTask(){this.socket.setTimeout(0),this._task=void 0}_onControlSocketData(e){this.log(`< ${e}`);let r=this._partialResponse+e,n=(0,EG.parseControlResponse)(r);this._partialResponse=n.rest;for(let i of n.messages){let s=parseInt(i.substr(0,3),10),o={code:s,message:i},a=s>=400?new Qp(o):void 0;this._passToHandler(a||o)}}_passToHandler(e){this._task&&this._task.responseHandler(e,this._task.resolver)}_setupDefaultErrorHandlers(e,r){e.once("error",n=>{n.message+=` (${r})`,this.closeWithError(n)}),e.once("close",n=>{n&&this.closeWithError(new Error(`Socket closed due to transmission error (${r})`))}),e.once("timeout",()=>{e.destroy(),this.closeWithError(new Error(`Timeout (${r})`))})}_closeControlSocket(){this._removeSocketListeners(this._socket),this._socket.on("error",LR),this.send("QUIT"),this._closeSocket(this._socket)}_closeSocket(e){e&&(this._removeSocketListeners(e),e.on("error",LR),e.on("timeout",()=>e.destroy()),e.setTimeout(this.timeout),e.end())}_removeSocketListeners(e){e.removeAllListeners(),e.removeAllListeners("timeout"),e.removeAllListeners("data"),e.removeAllListeners("end"),e.removeAllListeners("error"),e.removeAllListeners("close"),e.removeAllListeners("connect")}_newSocket(){return new vG.Socket}};Ku.FTPContext=Pb});var cf=M(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.FileInfo=ya.FileType=void 0;var lf;(function(t){t[t.Unknown=0]="Unknown",t[t.File=1]="File",t[t.Directory=2]="Directory",t[t.SymbolicLink=3]="SymbolicLink"})(lf=ya.FileType||(ya.FileType={}));var em=class{constructor(e){this.name=e,this.type=lf.Unknown,this.size=0,this.rawModifiedAt="",this.modifiedAt=void 0,this.permissions=void 0,this.hardLinkCount=void 0,this.link=void 0,this.group=void 0,this.user=void 0,this.uniqueID=void 0,this.name=e}get isDirectory(){return this.type===lf.Directory}get isSymbolicLink(){return this.type===lf.SymbolicLink}get isFile(){return this.type===lf.File}get date(){return this.rawModifiedAt}set date(e){this.rawModifiedAt=e}};em.UnixPermission={Read:4,Write:2,Execute:1};ya.FileInfo=em});var MR=M(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.transformList=ao.parseLine=ao.testLine=void 0;var Ob=cf(),NR=new RegExp("(\\S+)\\s+(\\S+)\\s+(?:(<DIR>)|([0-9]+))\\s+(\\S.*)");function bG(t){return/^\d{2}/.test(t)&&NR.test(t)}ao.testLine=bG;function wG(t){let e=t.match(NR);if(e===null)return;let r=e[5];if(r==="."||r==="..")return;let n=new Ob.FileInfo(r);return e[3]==="<DIR>"?(n.type=Ob.FileType.Directory,n.size=0):(n.type=Ob.FileType.File,n.size=parseInt(e[4],10)),n.rawModifiedAt=e[1]+" "+e[2],n}ao.parseLine=wG;function xG(t){return t}ao.transformList=xG});var $R=M(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.transformList=uo.parseLine=uo.testLine=void 0;var $i=cf(),CG="\u6708",SG="\u65E5",DG="\u5E74",jR=new RegExp("([bcdelfmpSs-])(((r|-)(w|-)([xsStTL-]))((r|-)(w|-)([xsStTL-]))((r|-)(w|-)([xsStTL-]?)))\\+?\\s*(\\d+)\\s+(?:(\\S+(?:\\s\\S+)*?)\\s+)?(?:(\\S+(?:\\s\\S+)*)\\s+)?(\\d+(?:,\\s*\\d+)?)\\s+((?:\\d+[-/]\\d+[-/]\\d+)|(?:\\S{3}\\s+\\d{1,2})|(?:\\d{1,2}\\s+\\S{3})|(?:\\d{1,2}"+CG+"\\s+\\d{1,2}"+SG+"))\\s+((?:\\d+(?::\\d+)?)|(?:\\d{4}"+DG+"))\\s(.*)");function AG(t){return jR.test(t)}uo.testLine=AG;function FG(t){let e=t.match(jR);if(e===null)return;let r=e[21];if(r==="."||r==="..")return;let n=new $i.FileInfo(r);switch(n.size=parseInt(e[18],10),n.user=e[16],n.group=e[17],n.hardLinkCount=parseInt(e[15],10),n.rawModifiedAt=e[19]+" "+e[20],n.permissions={user:Rb(e[4],e[5],e[6]),group:Rb(e[8],e[9],e[10]),world:Rb(e[12],e[13],e[14])},e[1].charAt(0)){case"d":n.type=$i.FileType.Directory;break;case"e":n.type=$i.FileType.SymbolicLink;break;case"l":n.type=$i.FileType.SymbolicLink;break;case"b":case"c":n.type=$i.FileType.File;break;case"f":case"-":n.type=$i.FileType.File;break;default:n.type=$i.FileType.Unknown}if(n.isSymbolicLink){let i=r.indexOf(" -> ");i!==-1&&(n.name=r.substring(0,i),n.link=r.substring(i+4))}return n}uo.parseLine=FG;function _G(t){return t}uo.transformList=_G;function Rb(t,e,r){let n=0;t!=="-"&&(n+=$i.FileInfo.UnixPermission.Read),e!=="-"&&(n+=$i.FileInfo.UnixPermission.Write);let i=r.charAt(0);return i!=="-"&&i.toUpperCase()!==i&&(n+=$i.FileInfo.UnixPermission.Execute),n}});var Bb=M(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.parseMLSxDate=Ui.transformList=Ui.parseLine=Ui.testLine=void 0;var Xu=cf();function UR(t,e){e.size=parseInt(t,10)}var kG={size:UR,sizd:UR,unique:(t,e)=>{e.uniqueID=t},modify:(t,e)=>{e.modifiedAt=VR(t),e.rawModifiedAt=e.modifiedAt.toISOString()},type:(t,e)=>{if(t.startsWith("OS.unix=slink"))return e.type=Xu.FileType.SymbolicLink,e.link=t.substr(t.indexOf(":")+1),1;switch(t){case"file":e.type=Xu.FileType.File;break;case"dir":e.type=Xu.FileType.Directory;break;case"OS.unix=symlink":e.type=Xu.FileType.SymbolicLink;break;case"cdir":case"pdir":return 2;default:e.type=Xu.FileType.Unknown}return 1},"unix.mode":(t,e)=>{let r=t.substr(-3);e.permissions={user:parseInt(r[0],10),group:parseInt(r[1],10),world:parseInt(r[2],10)}},"unix.ownername":(t,e)=>{e.user=t},"unix.owner":(t,e)=>{e.user===void 0&&(e.user=t)},get"unix.uid"(){return this["unix.owner"]},"unix.groupname":(t,e)=>{e.group=t},"unix.group":(t,e)=>{e.group===void 0&&(e.group=t)},get"unix.gid"(){return this["unix.group"]}};function qR(t,e){let r=t.indexOf(e),n=t.substr(0,r),i=t.substr(r+e.length);return[n,i]}function IG(t){return/^\S+=\S+;/.test(t)||t.startsWith(" ")}Ui.testLine=IG;function PG(t){let[e,r]=qR(t," ");if(r===""||r==="."||r==="..")return;let n=new Xu.FileInfo(r),i=e.split(";");for(let s of i){let[o,a]=qR(s,"=");if(!a)continue;let u=kG[o.toLowerCase()];if(!u)continue;if(u(a,n)===2)return}return n}Ui.parseLine=PG;function TG(t){let e=new Map;for(let n of t)!n.isSymbolicLink&&n.uniqueID!==void 0&&e.set(n.uniqueID,n);let r=[];for(let n of t){if(n.isSymbolicLink&&n.uniqueID!==void 0&&n.link===void 0){let s=e.get(n.uniqueID);s!==void 0&&(n.link=s.name)}!n.name.includes("/")&&r.push(n)}return r}Ui.transformList=TG;function VR(t){return new Date(Date.UTC(+t.slice(0,4),+t.slice(4,6)-1,+t.slice(6,8),+t.slice(8,10),+t.slice(10,12),+t.slice(12,14),+t.slice(15,18)))}Ui.parseMLSxDate=VR});var Nb=M(qi=>{"use strict";var OG=qi&&qi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),RG=qi&&qi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Lb=qi&&qi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&OG(e,t,r);return RG(e,t),e};Object.defineProperty(qi,"__esModule",{value:!0});qi.parseList=void 0;var BG=Lb(MR()),LG=Lb($R()),NG=Lb(Bb()),MG=[BG,LG,NG];function jG(t,e){return e.find(r=>r.testLine(t)===!0)}function $G(t){return t.trim()!==""}function UG(t){return!t.startsWith("total")}var qG=/\r?\n/;function VG(t){let e=t.split(qG).filter($G).filter(UG);if(e.length===0)return[];let r=e[e.length-1],n=jG(r,MG);if(!n)throw new Error("This library only supports MLSD, Unix- or DOS-style directory listing. Your FTP server seems to be using another format. You can see the transmitted listing when setting `client.ftp.verbose = true`. You can then provide a custom parser to `client.parseList`, see the documentation for details.");let i=e.map(n.parseLine).filter(s=>s!==void 0);return n.transformList(i)}qi.parseList=VG});var HR=M(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.ProgressTracker=void 0;var Mb=class{constructor(){this.bytesOverall=0,this.intervalMs=500,this.onStop=tm,this.onHandle=tm}reportTo(e=tm){this.onHandle=e}start(e,r,n){let i=0;this.onStop=HG(this.intervalMs,()=>{let s=e.bytesRead+e.bytesWritten;this.bytesOverall+=s-i,i=s,this.onHandle({name:r,type:n,bytes:s,bytesOverall:this.bytesOverall})})}stop(){this.onStop(!1)}updateAndStop(){this.onStop(!0)}};rm.ProgressTracker=Mb;function HG(t,e){let r=setInterval(e,t),n=i=>{clearInterval(r),i&&e(),e=tm};return e(),n}function tm(){}});var zR=M(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.StringWriter=void 0;var zG=require("stream"),jb=class extends zG.Writable{constructor(){super(...arguments),this.buf=Buffer.alloc(0)}_write(e,r,n){e instanceof Buffer?(this.buf=Buffer.concat([this.buf,e]),n(null)):n(new Error("StringWriter expects chunks of type 'Buffer'."))}getText(e){return this.buf.toString(e)}};nm.StringWriter=jb});var $b=M(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.ipIsPrivateV4Address=Vi.upgradeSocket=Vi.describeAddress=Vi.describeTLS=void 0;var WR=require("tls");function WG(t){if(t instanceof WR.TLSSocket){let e=t.getProtocol();return e||"Server socket or disconnected client socket"}return"No encryption"}Vi.describeTLS=WG;function GG(t){return t.remoteFamily==="IPv6"?`[${t.remoteAddress}]:${t.remotePort}`:`${t.remoteAddress}:${t.remotePort}`}Vi.describeAddress=GG;function JG(t,e){return new Promise((r,n)=>{let i=Object.assign({},e,{socket:t}),s=(0,WR.connect)(i,()=>{i.rejectUnauthorized!==!1&&!s.authorized?n(s.authorizationError):(s.removeAllListeners("error"),r(s))}).once("error",o=>{n(o)})})}Vi.upgradeSocket=JG;function KG(t=""){t.startsWith("::ffff:")&&(t=t.substr(7));let e=t.split(".").map(r=>parseInt(r,10));return e[0]===10||e[0]===172&&e[1]>=16&&e[1]<=31||e[0]===192&&e[1]===168||t==="127.0.0.1"}Vi.ipIsPrivateV4Address=KG});var qb=M(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.downloadTo=kr.uploadFrom=kr.connectForPassiveTransfer=kr.parsePasvResponse=kr.enterPassiveModeIPv4=kr.parseEpsvResponse=kr.enterPassiveModeIPv6=void 0;var Yu=$b(),JR=require("stream"),GR=require("tls"),im=Zp();async function XG(t){let e=await t.request("EPSV"),r=KR(e.message);if(!r)throw new Error("Can't parse EPSV response: "+e.message);let n=t.socket.remoteAddress;if(n===void 0)throw new Error("Control socket is disconnected, can't get remote address.");return await Ub(n,r,t),e}kr.enterPassiveModeIPv6=XG;function KR(t){let e=t.match(/[|!]{3}(.+)[|!]/);if(e===null||e[1]===void 0)throw new Error(`Can't parse response to 'EPSV': ${t}`);let r=parseInt(e[1],10);if(Number.isNaN(r))throw new Error(`Can't parse response to 'EPSV', port is not a number: ${t}`);return r}kr.parseEpsvResponse=KR;async function YG(t){let e=await t.request("PASV"),r=XR(e.message);if(!r)throw new Error("Can't parse PASV response: "+e.message);let n=t.socket.remoteAddress;return(0,Yu.ipIsPrivateV4Address)(r.host)&&n&&!(0,Yu.ipIsPrivateV4Address)(n)&&(r.host=n),await Ub(r.host,r.port,t),e}kr.enterPassiveModeIPv4=YG;function XR(t){let e=t.match(/([-\d]+,[-\d]+,[-\d]+,[-\d]+),([-\d]+),([-\d]+)/);if(e===null||e.length!==4)throw new Error(`Can't parse response to 'PASV': ${t}`);return{host:e[1].replace(/,/g,"."),port:(parseInt(e[2],10)&255)*256+(parseInt(e[3],10)&255)}}kr.parsePasvResponse=XR;function Ub(t,e,r){return new Promise((n,i)=>{let s=r._newSocket(),o=function(u){u.message="Can't open data connection in passive mode: "+u.message,i(u)},a=function(){s.destroy(),i(new Error(`Timeout when trying to open data connection to ${t}:${e}`))};s.setTimeout(r.timeout),s.on("error",o),s.on("timeout",a),s.connect({port:e,host:t,family:r.ipFamily},()=>{r.socket instanceof GR.TLSSocket&&(s=(0,GR.connect)(Object.assign({},r.tlsOptions,{socket:s,session:r.socket.getSession()}))),s.removeListener("error",o),s.removeListener("timeout",a),r.dataSocket=s,n()})})}kr.connectForPassiveTransfer=Ub;var sm=class{constructor(e,r){this.ftp=e,this.progress=r,this.response=void 0,this.dataTransferDone=!1}onDataStart(e,r){if(this.ftp.dataSocket===void 0)throw new Error("Data transfer should start but there is no data connection.");this.ftp.socket.setTimeout(0),this.ftp.dataSocket.setTimeout(this.ftp.timeout),this.progress.start(this.ftp.dataSocket,e,r)}onDataDone(e){this.progress.updateAndStop(),this.ftp.socket.setTimeout(this.ftp.timeout),this.ftp.dataSocket&&this.ftp.dataSocket.setTimeout(0),this.dataTransferDone=!0,this.tryResolve(e)}onControlDone(e,r){this.response=r,this.tryResolve(e)}onError(e,r){this.progress.updateAndStop(),this.ftp.socket.setTimeout(this.ftp.timeout),this.ftp.dataSocket=void 0,e.reject(r)}onUnexpectedRequest(e){let r=new Error(`Unexpected FTP response is requesting an answer: ${e.message}`);this.ftp.closeWithError(r)}tryResolve(e){this.dataTransferDone&&this.response!==void 0&&(this.ftp.dataSocket=void 0,e.resolve(this.response))}};function ZG(t,e){let r=new sm(e.ftp,e.tracker),n=`${e.command} ${e.remotePath}`;return e.ftp.handle(n,(i,s)=>{if(i instanceof Error)r.onError(s,i);else if(i.code===150||i.code===125){let o=e.ftp.dataSocket;if(!o){r.onError(s,new Error("Upload should begin but no data connection is available."));return}let a="getCipher"in o?o.getCipher()!==void 0:!0;eJ(a,o,"secureConnect",()=>{e.ftp.log(`Uploading to ${(0,Yu.describeAddress)(o)} (${(0,Yu.describeTLS)(o)})`),r.onDataStart(e.remotePath,e.type),(0,JR.pipeline)(t,o,u=>{u?r.onError(s,u):r.onDataDone(s)})})}else(0,im.positiveCompletion)(i.code)?r.onControlDone(s,i):(0,im.positiveIntermediate)(i.code)&&r.onUnexpectedRequest(i)})}kr.uploadFrom=ZG;function QG(t,e){if(!e.ftp.dataSocket)throw new Error("Download will be initiated but no data connection is available.");let r=new sm(e.ftp,e.tracker);return e.ftp.handle(e.command,(n,i)=>{if(n instanceof Error)r.onError(i,n);else if(n.code===150||n.code===125){let s=e.ftp.dataSocket;if(!s){r.onError(i,new Error("Download should begin but no data connection is available."));return}e.ftp.log(`Downloading from ${(0,Yu.describeAddress)(s)} (${(0,Yu.describeTLS)(s)})`),r.onDataStart(e.remotePath,e.type),(0,JR.pipeline)(s,t,o=>{o?r.onError(i,o):r.onDataDone(i)})}else n.code===350?e.ftp.send("RETR "+e.remotePath):(0,im.positiveCompletion)(n.code)?r.onControlDone(i,n):(0,im.positiveIntermediate)(n.code)&&r.onUnexpectedRequest(n)})}kr.downloadTo=QG;function eJ(t,e,r,n){t===!0?n():e.once(r,()=>n())}});var t2=M(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.Client=void 0;var lo=require("fs"),YR=require("path"),tJ=require("tls"),Zu=require("util"),ff=Tb(),rJ=Nb(),nJ=HR(),iJ=zR(),sJ=Bb(),va=$b(),hf=qb(),Vb=Zp(),oJ=(0,Zu.promisify)(lo.readdir),aJ=(0,Zu.promisify)(lo.mkdir),Hb=(0,Zu.promisify)(lo.stat),ZR=(0,Zu.promisify)(lo.open),QR=(0,Zu.promisify)(lo.close),uJ=(0,Zu.promisify)(lo.unlink),e2=["LIST -a","LIST"],lJ=["MLSD","LIST -a","LIST"],zb=class{constructor(e=3e4){this.availableListCommands=e2,this.ftp=new ff.FTPContext(e),this.prepareTransfer=this._enterFirstCompatibleMode([hf.enterPassiveModeIPv6,hf.enterPassiveModeIPv4]),this.parseList=rJ.parseList,this._progressTracker=new nJ.ProgressTracker}close(){this.ftp.close(),this._progressTracker.stop()}get closed(){return this.ftp.closed}connect(e="localhost",r=21){return this.ftp.reset(),this.ftp.socket.connect({host:e,port:r,family:this.ftp.ipFamily},()=>this.ftp.log(`Connected to ${(0,va.describeAddress)(this.ftp.socket)} (${(0,va.describeTLS)(this.ftp.socket)})`)),this._handleConnectResponse()}connectImplicitTLS(e="localhost",r=21,n={}){return this.ftp.reset(),this.ftp.socket=(0,tJ.connect)(r,e,n,()=>this.ftp.log(`Connected to ${(0,va.describeAddress)(this.ftp.socket)} (${(0,va.describeTLS)(this.ftp.socket)})`)),this.ftp.tlsOptions=n,this._handleConnectResponse()}_handleConnectResponse(){return this.ftp.handle(void 0,(e,r)=>{e instanceof Error?r.reject(e):(0,Vb.positiveCompletion)(e.code)?r.resolve(e):r.reject(new ff.FTPError(e))})}send(e,r=!1){return r?(this.ftp.log("Deprecated call using send(command, flag) with boolean flag to ignore errors. Use sendIgnoringError(command)."),this.sendIgnoringError(e)):this.ftp.request(e)}sendIgnoringError(e){return this.ftp.handle(e,(r,n)=>{r instanceof ff.FTPError?n.resolve({code:r.code,message:r.message}):r instanceof Error?n.reject(r):n.resolve(r)})}async useTLS(e={},r="AUTH TLS"){let n=await this.send(r);return this.ftp.socket=await(0,va.upgradeSocket)(this.ftp.socket,e),this.ftp.tlsOptions=e,this.ftp.log(`Control socket is using: ${(0,va.describeTLS)(this.ftp.socket)}`),n}login(e="anonymous",r="guest"){return this.ftp.log(`Login security: ${(0,va.describeTLS)(this.ftp.socket)}`),this.ftp.handle("USER "+e,(n,i)=>{n instanceof Error?i.reject(n):(0,Vb.positiveCompletion)(n.code)?i.resolve(n):n.code===331?this.ftp.send("PASS "+r):i.reject(new ff.FTPError(n))})}async useDefaultSettings(){let r=(await this.features()).has("MLST");this.availableListCommands=r?lJ:e2,await this.send("TYPE I"),await this.sendIgnoringError("STRU F"),await this.sendIgnoringError("OPTS UTF8 ON"),r&&await this.sendIgnoringError("OPTS MLST type;size;modify;unique;unix.mode;unix.owner;unix.group;unix.ownername;unix.groupname;"),this.ftp.hasTLS&&(await this.sendIgnoringError("PBSZ 0"),await this.sendIgnoringError("PROT P"))}async access(e={}){var r,n;let i=e.secure===!0,s=e.secure==="implicit",o;if(s?o=await this.connectImplicitTLS(e.host,e.port,e.secureOptions):o=await this.connect(e.host,e.port),i){let a=(r=e.secureOptions)!==null&&r!==void 0?r:{};a.host=(n=a.host)!==null&&n!==void 0?n:e.host,await this.useTLS(a)}return await this.sendIgnoringError("OPTS UTF8 ON"),await this.login(e.user,e.password),await this.useDefaultSettings(),o}async pwd(){let e=await this.send("PWD"),r=e.message.match(/"(.+)"/);if(r===null||r[1]===void 0)throw new Error(`Can't parse response to command 'PWD': ${e.message}`);return r[1]}async features(){let e=await this.sendIgnoringError("FEAT"),r=new Map;return e.code<400&&(0,Vb.isMultiline)(e.message)&&e.message.split(`
`).slice(1,-1).forEach(n=>{let i=n.trim().split(" ");r.set(i[0],i[1]||"")}),r}async cd(e){let r=await this.protectWhitespace(e);return this.send("CWD "+r)}async cdup(){return this.send("CDUP")}async lastMod(e){let r=await this.protectWhitespace(e),i=(await this.send(`MDTM ${r}`)).message.slice(4);return(0,sJ.parseMLSxDate)(i)}async size(e){let n=`SIZE ${await this.protectWhitespace(e)}`,i=await this.send(n),s=parseInt(i.message.slice(4),10);if(Number.isNaN(s))throw new Error(`Can't parse response to command '${n}' as a numerical value: ${i.message}`);return s}async rename(e,r){let n=await this.protectWhitespace(e),i=await this.protectWhitespace(r);return await this.send("RNFR "+n),this.send("RNTO "+i)}async remove(e,r=!1){let n=await this.protectWhitespace(e);return r?this.sendIgnoringError(`DELE ${n}`):this.send(`DELE ${n}`)}trackProgress(e){this._progressTracker.bytesOverall=0,this._progressTracker.reportTo(e)}async uploadFrom(e,r,n={}){return this._uploadWithCommand(e,r,"STOR",n)}async appendFrom(e,r,n={}){return this._uploadWithCommand(e,r,"APPE",n)}async _uploadWithCommand(e,r,n,i){return typeof e=="string"?this._uploadLocalFile(e,r,n,i):this._uploadFromStream(e,r,n)}async _uploadLocalFile(e,r,n,i){let s=await ZR(e,"r"),o=(0,lo.createReadStream)("",{fd:s,start:i.localStart,end:i.localEndInclusive,autoClose:!1});try{return await this._uploadFromStream(o,r,n)}finally{await df(()=>QR(s))}}async _uploadFromStream(e,r,n){let i=s=>this.ftp.closeWithError(s);e.once("error",i);try{let s=await this.protectWhitespace(r);return await this.prepareTransfer(this.ftp),await(0,hf.uploadFrom)(e,{ftp:this.ftp,tracker:this._progressTracker,command:n,remotePath:s,type:"upload"})}finally{e.removeListener("error",i)}}async downloadTo(e,r,n=0){return typeof e=="string"?this._downloadToFile(e,r,n):this._downloadToStream(e,r,n)}async _downloadToFile(e,r,n){let i=n>0,o=await ZR(e,i?"r+":"w"),a=(0,lo.createWriteStream)("",{fd:o,start:n,autoClose:!1});try{return await this._downloadToStream(a,r,n)}catch(u){let f=await df(()=>Hb(e)),c=f&&f.size>0;throw!i&&!c&&await df(()=>uJ(e)),u}finally{await df(()=>QR(o))}}async _downloadToStream(e,r,n){let i=s=>this.ftp.closeWithError(s);e.once("error",i);try{let s=await this.protectWhitespace(r);return await this.prepareTransfer(this.ftp),await(0,hf.downloadTo)(e,{ftp:this.ftp,tracker:this._progressTracker,command:n>0?`REST ${n}`:`RETR ${s}`,remotePath:s,type:"download"})}finally{e.removeListener("error",i),e.end()}}async list(e=""){let r=await this.protectWhitespace(e),n;for(let i of this.availableListCommands){let s=r===""?i:`${i} ${r}`;await this.prepareTransfer(this.ftp);try{let o=await this._requestListWithCommand(s);return this.availableListCommands=[i],o}catch(o){if(!(o instanceof ff.FTPError))throw o;n=o}}throw n}async _requestListWithCommand(e){let r=new iJ.StringWriter;await(0,hf.downloadTo)(r,{ftp:this.ftp,tracker:this._progressTracker,command:e,remotePath:"",type:"list"});let n=r.getText(this.ftp.encoding);return this.ftp.log(n),this.parseList(n)}async removeDir(e){return this._exitAtCurrentDirectory(async()=>{await this.cd(e),await this.clearWorkingDir(),e!=="/"&&(await this.cdup(),await this.removeEmptyDir(e))})}async clearWorkingDir(){for(let e of await this.list())e.isDirectory?(await this.cd(e.name),await this.clearWorkingDir(),await this.cdup(),await this.removeEmptyDir(e.name)):await this.remove(e.name)}async uploadFromDir(e,r){return this._exitAtCurrentDirectory(async()=>(r&&await this.ensureDir(r),await this._uploadToWorkingDir(e)))}async _uploadToWorkingDir(e){let r=await oJ(e);for(let n of r){let i=(0,YR.join)(e,n),s=await Hb(i);s.isFile()?await this.uploadFrom(i,n):s.isDirectory()&&(await this._openDir(n),await this._uploadToWorkingDir(i),await this.cdup())}}async downloadToDir(e,r){return this._exitAtCurrentDirectory(async()=>(r&&await this.cd(r),await this._downloadFromWorkingDir(e)))}async _downloadFromWorkingDir(e){await cJ(e);for(let r of await this.list()){let n=(0,YR.join)(e,r.name);r.isDirectory?(await this.cd(r.name),await this._downloadFromWorkingDir(n),await this.cdup()):r.isFile&&await this.downloadTo(n,r.name)}}async ensureDir(e){e.startsWith("/")&&await this.cd("/");let r=e.split("/").filter(n=>n!=="");for(let n of r)await this._openDir(n)}async _openDir(e){await this.sendIgnoringError("MKD "+e),await this.cd(e)}async removeEmptyDir(e){let r=await this.protectWhitespace(e);return this.send(`RMD ${r}`)}async protectWhitespace(e){if(!e.startsWith(" "))return e;let r=await this.pwd();return(r.endsWith("/")?r:r+"/")+e}async _exitAtCurrentDirectory(e){let r=await this.pwd();try{return await e()}finally{this.closed||await df(()=>this.cd(r))}}_enterFirstCompatibleMode(e){return async r=>{r.log("Trying to find optimal transfer strategy...");let n;for(let i of e)try{let s=await i(r);return r.log("Optimal transfer strategy found."),this.prepareTransfer=i,s}catch(s){n=s}throw new Error(`None of the available transfer strategies work. Last error response was '${n}'.`)}}async upload(e,r,n={}){return this.ftp.log("Warning: upload() has been deprecated, use uploadFrom()."),this.uploadFrom(e,r,n)}async append(e,r,n={}){return this.ftp.log("Warning: append() has been deprecated, use appendFrom()."),this.appendFrom(e,r,n)}async download(e,r,n=0){return this.ftp.log("Warning: download() has been deprecated, use downloadTo()."),this.downloadTo(e,r,n)}async uploadDir(e,r){return this.ftp.log("Warning: uploadDir() has been deprecated, use uploadFromDir()."),this.uploadFromDir(e,r)}async downloadDir(e){return this.ftp.log("Warning: downloadDir() has been deprecated, use downloadToDir()."),this.downloadToDir(e)}};om.Client=zb;async function cJ(t){try{await Hb(t)}catch{await aJ(t,{recursive:!0})}}async function df(t){try{return await t()}catch{return}}});var n2=M(r2=>{"use strict";Object.defineProperty(r2,"__esModule",{value:!0})});var s2=M(jr=>{"use strict";var fJ=jr&&jr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pf=jr&&jr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&fJ(e,t,r)};Object.defineProperty(jr,"__esModule",{value:!0});jr.enterPassiveModeIPv6=jr.enterPassiveModeIPv4=void 0;pf(t2(),jr);pf(Tb(),jr);pf(cf(),jr);pf(Nb(),jr);pf(n2(),jr);var i2=qb();Object.defineProperty(jr,"enterPassiveModeIPv4",{enumerable:!0,get:function(){return i2.enterPassiveModeIPv4}});Object.defineProperty(jr,"enterPassiveModeIPv6",{enumerable:!0,get:function(){return i2.enterPassiveModeIPv6}})});var u2=M(Qu=>{"use strict";var Wb=Qu&&Qu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qu,"__esModule",{value:!0});Qu.ftp=void 0;var hJ=s2(),dJ=require("stream"),o2=require("path"),pJ=Wb(Sn()),a2=Wb(Yp()),mJ=Wb(Kc()),gJ=(0,pJ.default)("get-uri:ftp"),yJ=async(t,e={})=>{let{cache:r}=e,n=decodeURIComponent(t.pathname),i;if(!n)throw new TypeError('No "pathname"!');let s=new hJ.Client;try{let a=t.hostname||t.host||"localhost",u=parseInt(t.port||"0",10)||21,f=t.username?decodeURIComponent(t.username):void 0,c=t.password?decodeURIComponent(t.password):void 0;await s.access({host:a,port:u,user:f,password:c,...e});try{i=await s.lastMod(n)}catch(l){if(l.code===550)throw new a2.default}if(!i){let l=await s.list((0,o2.dirname)(n)),h=(0,o2.basename)(n),y=l.find(g=>g.name===h);y&&(i=y.modifiedAt)}if(i){if(o())throw new mJ.default}else throw new a2.default;let d=new dJ.PassThrough,p=d;return s.downloadTo(d,n).then(l=>{gJ(l.message),s.close()}),p.lastModified=i,p}catch(a){throw s.close(),a}function o(){return r!=null&&r.lastModified&&i?+r.lastModified==+i:!1}};Qu.ftp=yJ});var l2=M(Jb=>{"use strict";Object.defineProperty(Jb,"__esModule",{value:!0});var vJ=require("http"),Gb=class extends Error{constructor(e,r=vJ.STATUS_CODES[e]){super(r),this.statusCode=e,this.code=`E${String(r).toUpperCase().replace(/\s+/g,"")}`}};Jb.default=Gb});var Kb=M(Ea=>{"use strict";var el=Ea&&Ea.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.http=void 0;var EJ=el(require("http")),bJ=el(require("https")),wJ=require("events"),xJ=el(Sn()),CJ=el(l2()),SJ=el(Yp()),c2=el(Kc()),Ir=(0,xJ.default)("get-uri:http"),DJ=async(t,e={})=>{Ir("GET %o",t.href);let r=f2(t,e.cache);if(r&&AJ(r)&&typeof r.statusCode=="number")throw(r.statusCode/100|0)===3&&r.headers.location?(Ir("cached redirect"),new Error("TODO: implement cached redirects!")):new c2.default;let n=typeof e.maxRedirects=="number"?e.maxRedirects:5;Ir("allowing %o max redirects",n);let i;e.http?(i=e.http,Ir("using secure `https` core module")):(i=EJ.default,Ir("using `http` core module"));let s={...e};if(r){s.headers||(s.headers={});let d=r.headers["last-modified"];d&&(s.headers["If-Modified-Since"]=d,Ir('added "If-Modified-Since" request header: %o',d));let p=r.headers.etag;p&&(s.headers["If-None-Match"]=p,Ir('added "If-None-Match" request header: %o',p))}let o=i.get(t,s),[a]=await(0,wJ.once)(o,"response"),u=a.statusCode||0;a.date=Date.now(),a.parsed=t,Ir("got %o response status code",u);let f=u/100|0,c=a.headers.location;if(f===3&&c){e.redirects||(e.redirects=[]);let d=e.redirects;if(d.length<n){Ir('got a "redirect" status code with Location: %o',c),a.resume(),d.push(a);let p=new URL(c,t.href);Ir("resolved redirect URL: %o",p.href);let l=n-d.length;return Ir("%o more redirects allowed after this one",l),p.protocol!==t.protocol&&(e.http=p.protocol==="https:"?bJ.default:void 0),(0,Ea.http)(p,e)}}if(f!==2)throw a.resume(),u===304?new c2.default:u===404?new SJ.default:new CJ.default(u);return e.redirects&&(a.redirects=e.redirects),a};Ea.http=DJ;function AJ(t){let e=!1,r=parseInt(t.headers.expires||"",10),n=t.headers["cache-control"];if(n){Ir("Cache-Control: %o",n);let i=n.split(/,\s*?\b/);for(let s=0;s<i.length;s++){let o=i[s],a=o.split("="),u=a[0];switch(u){case"max-age":return r=(t.date||0)+parseInt(a[1],10)*1e3,e=Date.now()<r,e&&Ir('cache is "fresh" due to previous %o Cache-Control param',o),e;case"must-revalidate":break;case"no-cache":case"no-store":return Ir('cache is "stale" due to explicit %o Cache-Control param',u),!1;default:break}}}else if(r)return Ir("Expires: %o",r),e=Date.now()<r,e&&Ir('cache is "fresh" due to previous Expires response header'),e;return!1}function f2(t,e){if(e){if(e.parsed&&e.parsed.href===t.href)return e;if(e.redirects)for(let r=0;r<e.redirects.length;r++){let n=f2(t,e.redirects[r]);if(n)return n}}return null}});var h2=M(tl=>{"use strict";var FJ=tl&&tl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tl,"__esModule",{value:!0});tl.https=void 0;var _J=FJ(require("https")),kJ=Kb(),IJ=(t,e)=>(0,kJ.http)(t,{...e,http:_J.default});tl.https=IJ});var p2=M(ei=>{"use strict";var PJ=ei&&ei.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ei,"__esModule",{value:!0});ei.getUri=ei.isValidProtocol=ei.protocols=void 0;var TJ=PJ(Sn()),OJ=yT(),RJ=OR(),BJ=u2(),LJ=Kb(),NJ=h2(),MJ=(0,TJ.default)("get-uri");ei.protocols={data:OJ.data,file:RJ.file,ftp:BJ.ftp,http:LJ.http,https:NJ.https};var jJ=new Set(Object.keys(ei.protocols));function d2(t){return jJ.has(t)}ei.isValidProtocol=d2;async function $J(t,e){if(MJ("getUri(%o)",t),!t)throw new TypeError('Must pass in a URI to "getUri()"');let r=typeof t=="string"?new URL(t):t,n=r.protocol.replace(/:$/,"");if(!d2(n))throw new TypeError(`Unsupported protocol "${n}" specified in URI: "${t}"`);let i=ei.protocols[n];return i(r,e)}ei.getUri=$J});var m2=M((Qce,UJ)=>{UJ.exports={name:"estraverse",description:"ECMAScript JS AST traversal functions",homepage:"https://github.com/estools/estraverse",main:"estraverse.js",version:"4.3.0",engines:{node:">=4.0"},maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository:{type:"git",url:"http://github.com/estools/estraverse.git"},devDependencies:{"babel-preset-env":"^1.6.1","babel-register":"^6.3.13",chai:"^2.1.1",espree:"^1.11.0",gulp:"^3.8.10","gulp-bump":"^0.2.2","gulp-filter":"^2.0.0","gulp-git":"^1.0.1","gulp-tag-version":"^1.3.0",jshint:"^2.5.6",mocha:"^2.1.0"},license:"BSD-2-Clause",scripts:{test:"npm run-script lint && npm run-script unit-test",lint:"jshint estraverse.js","unit-test":"mocha --compilers js:babel-register"}}});var y2=M(g2=>{(function t(e){"use strict";var r,n,i,s,o,a;function u(x){var E={},S,F;for(S in x)x.hasOwnProperty(S)&&(F=x[S],typeof F=="object"&&F!==null?E[S]=u(F):E[S]=F);return E}function f(x,E){var S,F,P,V;for(F=x.length,P=0;F;)S=F>>>1,V=P+S,E(x[V])?F=S:(P=V+1,F-=S+1);return P}r={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},i={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},s={},o={},a={},n={Break:s,Skip:o,Remove:a};function c(x,E){this.parent=x,this.key=E}c.prototype.replace=function(E){this.parent[this.key]=E},c.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function d(x,E,S,F){this.node=x,this.path=E,this.wrap=S,this.ref=F}function p(){}p.prototype.path=function(){var E,S,F,P,V,H;function j(R,N){if(Array.isArray(N))for(F=0,P=N.length;F<P;++F)R.push(N[F]);else R.push(N)}if(!this.__current.path)return null;for(V=[],E=2,S=this.__leavelist.length;E<S;++E)H=this.__leavelist[E],j(V,H.path);return j(V,this.__current.path),V},p.prototype.type=function(){var x=this.current();return x.type||this.__current.wrap},p.prototype.parents=function(){var E,S,F;for(F=[],E=1,S=this.__leavelist.length;E<S;++E)F.push(this.__leavelist[E].node);return F},p.prototype.current=function(){return this.__current.node},p.prototype.__execute=function(E,S){var F,P;return P=void 0,F=this.__current,this.__current=S,this.__state=null,E&&(P=E.call(this,S.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=F,P},p.prototype.notify=function(E){this.__state=E},p.prototype.skip=function(){this.notify(o)},p.prototype.break=function(){this.notify(s)},p.prototype.remove=function(){this.notify(a)},p.prototype.__initialize=function(x,E){this.visitor=E,this.root=x,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,E.fallback==="iteration"?this.__fallback=Object.keys:typeof E.fallback=="function"&&(this.__fallback=E.fallback),this.__keys=i,E.keys&&(this.__keys=Object.assign(Object.create(this.__keys),E.keys))};function l(x){return x==null?!1:typeof x=="object"&&typeof x.type=="string"}function h(x,E){return(x===r.ObjectExpression||x===r.ObjectPattern)&&E==="properties"}p.prototype.traverse=function(E,S){var F,P,V,H,j,R,N,J,K,X,z,T;for(this.__initialize(E,S),T={},F=this.__worklist,P=this.__leavelist,F.push(new d(E,null,null,null)),P.push(new d(null,null,null,null));F.length;){if(V=F.pop(),V===T){if(V=P.pop(),R=this.__execute(S.leave,V),this.__state===s||R===s)return;continue}if(V.node){if(R=this.__execute(S.enter,V),this.__state===s||R===s)return;if(F.push(T),P.push(V),this.__state===o||R===o)continue;if(H=V.node,j=H.type||V.wrap,X=this.__keys[j],!X)if(this.__fallback)X=this.__fallback(H);else throw new Error("Unknown node type "+j+".");for(J=X.length;(J-=1)>=0;)if(N=X[J],z=H[N],!!z)if(Array.isArray(z)){for(K=z.length;(K-=1)>=0;)if(z[K]){if(h(j,X[J]))V=new d(z[K],[N,K],"Property",null);else if(l(z[K]))V=new d(z[K],[N,K],null,null);else continue;F.push(V)}}else l(z)&&F.push(new d(z,N,null,null))}}},p.prototype.replace=function(E,S){var F,P,V,H,j,R,N,J,K,X,z,T,W;function L($){var Z,ie,he,ee;if($.ref.remove()){for(ie=$.ref.key,ee=$.ref.parent,Z=F.length;Z--;)if(he=F[Z],he.ref&&he.ref.parent===ee){if(he.ref.key<ie)break;--he.ref.key}}}for(this.__initialize(E,S),z={},F=this.__worklist,P=this.__leavelist,T={root:E},R=new d(E,null,null,new c(T,"root")),F.push(R),P.push(R);F.length;){if(R=F.pop(),R===z){if(R=P.pop(),j=this.__execute(S.leave,R),j!==void 0&&j!==s&&j!==o&&j!==a&&R.ref.replace(j),(this.__state===a||j===a)&&L(R),this.__state===s||j===s)return T.root;continue}if(j=this.__execute(S.enter,R),j!==void 0&&j!==s&&j!==o&&j!==a&&(R.ref.replace(j),R.node=j),(this.__state===a||j===a)&&(L(R),R.node=null),this.__state===s||j===s)return T.root;if(V=R.node,!!V&&(F.push(z),P.push(R),!(this.__state===o||j===o))){if(H=V.type||R.wrap,K=this.__keys[H],!K)if(this.__fallback)K=this.__fallback(V);else throw new Error("Unknown node type "+H+".");for(N=K.length;(N-=1)>=0;)if(W=K[N],X=V[W],!!X)if(Array.isArray(X)){for(J=X.length;(J-=1)>=0;)if(X[J]){if(h(H,K[N]))R=new d(X[J],[W,J],"Property",new c(X,J));else if(l(X[J]))R=new d(X[J],[W,J],null,new c(X,J));else continue;F.push(R)}}else l(X)&&F.push(new d(X,W,null,new c(V,W)))}}return T.root};function y(x,E){var S=new p;return S.traverse(x,E)}function g(x,E){var S=new p;return S.replace(x,E)}function v(x,E){var S;return S=f(E,function(P){return P.range[0]>x.range[0]}),x.extendedRange=[x.range[0],x.range[1]],S!==E.length&&(x.extendedRange[1]=E[S].range[0]),S-=1,S>=0&&(x.extendedRange[0]=E[S].range[1]),x}function b(x,E,S){var F=[],P,V,H,j;if(!x.range)throw new Error("attachComments needs range information");if(!S.length){if(E.length){for(H=0,V=E.length;H<V;H+=1)P=u(E[H]),P.extendedRange=[0,x.range[0]],F.push(P);x.leadingComments=F}return x}for(H=0,V=E.length;H<V;H+=1)F.push(v(u(E[H]),S));return j=0,y(x,{enter:function(R){for(var N;j<F.length&&(N=F[j],!(N.extendedRange[1]>R.range[0]));)N.extendedRange[1]===R.range[0]?(R.leadingComments||(R.leadingComments=[]),R.leadingComments.push(N),F.splice(j,1)):j+=1;if(j===F.length)return n.Break;if(F[j].extendedRange[0]>R.range[1])return n.Skip}}),j=0,y(x,{leave:function(R){for(var N;j<F.length&&(N=F[j],!(R.range[1]<N.extendedRange[0]));)R.range[1]===N.extendedRange[0]?(R.trailingComments||(R.trailingComments=[]),R.trailingComments.push(N),F.splice(j,1)):j+=1;if(j===F.length)return n.Break;if(F[j].extendedRange[0]>R.range[1])return n.Skip}}),x}return e.version=m2().version,e.Syntax=r,e.traverse=y,e.replace=g,e.attachComments=b,e.VisitorKeys=i,e.VisitorOption=n,e.Controller=p,e.cloneEnvironment=function(){return t({})},e})(g2)});var E2=M((tfe,v2)=>{(function(){"use strict";function t(o){if(o==null)return!1;switch(o.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function e(o){if(o==null)return!1;switch(o.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function r(o){if(o==null)return!1;switch(o.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function n(o){return r(o)||o!=null&&o.type==="FunctionDeclaration"}function i(o){switch(o.type){case"IfStatement":return o.alternate!=null?o.alternate:o.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return o.body}return null}function s(o){var a;if(o.type!=="IfStatement"||o.alternate==null)return!1;a=o.consequent;do{if(a.type==="IfStatement"&&a.alternate==null)return!0;a=i(a)}while(a);return!1}v2.exports={isExpression:t,isStatement:r,isIterationStatement:e,isSourceElement:n,isProblematicIfStatement:s,trailingStatement:i}})()});var Xb=M((rfe,b2)=>{(function(){"use strict";var t,e,r,n,i,s;e={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function o(g){return 48<=g&&g<=57}function a(g){return 48<=g&&g<=57||97<=g&&g<=102||65<=g&&g<=70}function u(g){return g>=48&&g<=55}r=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function f(g){return g===32||g===9||g===11||g===12||g===160||g>=5760&&r.indexOf(g)>=0}function c(g){return g===10||g===13||g===8232||g===8233}function d(g){if(g<=65535)return String.fromCharCode(g);var v=String.fromCharCode(Math.floor((g-65536)/1024)+55296),b=String.fromCharCode((g-65536)%1024+56320);return v+b}for(n=new Array(128),s=0;s<128;++s)n[s]=s>=97&&s<=122||s>=65&&s<=90||s===36||s===95;for(i=new Array(128),s=0;s<128;++s)i[s]=s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===36||s===95;function p(g){return g<128?n[g]:e.NonAsciiIdentifierStart.test(d(g))}function l(g){return g<128?i[g]:e.NonAsciiIdentifierPart.test(d(g))}function h(g){return g<128?n[g]:t.NonAsciiIdentifierStart.test(d(g))}function y(g){return g<128?i[g]:t.NonAsciiIdentifierPart.test(d(g))}b2.exports={isDecimalDigit:o,isHexDigit:a,isOctalDigit:u,isWhiteSpace:f,isLineTerminator:c,isIdentifierStartES5:p,isIdentifierPartES5:l,isIdentifierStartES6:h,isIdentifierPartES6:y}})()});var x2=M((nfe,w2)=>{(function(){"use strict";var t=Xb();function e(p){switch(p){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function r(p,l){return!l&&p==="yield"?!1:n(p,l)}function n(p,l){if(l&&e(p))return!0;switch(p.length){case 2:return p==="if"||p==="in"||p==="do";case 3:return p==="var"||p==="for"||p==="new"||p==="try";case 4:return p==="this"||p==="else"||p==="case"||p==="void"||p==="with"||p==="enum";case 5:return p==="while"||p==="break"||p==="catch"||p==="throw"||p==="const"||p==="yield"||p==="class"||p==="super";case 6:return p==="return"||p==="typeof"||p==="delete"||p==="switch"||p==="export"||p==="import";case 7:return p==="default"||p==="finally"||p==="extends";case 8:return p==="function"||p==="continue"||p==="debugger";case 10:return p==="instanceof";default:return!1}}function i(p,l){return p==="null"||p==="true"||p==="false"||r(p,l)}function s(p,l){return p==="null"||p==="true"||p==="false"||n(p,l)}function o(p){return p==="eval"||p==="arguments"}function a(p){var l,h,y;if(p.length===0||(y=p.charCodeAt(0),!t.isIdentifierStartES5(y)))return!1;for(l=1,h=p.length;l<h;++l)if(y=p.charCodeAt(l),!t.isIdentifierPartES5(y))return!1;return!0}function u(p,l){return(p-55296)*1024+(l-56320)+65536}function f(p){var l,h,y,g,v;if(p.length===0)return!1;for(v=t.isIdentifierStartES6,l=0,h=p.length;l<h;++l){if(y=p.charCodeAt(l),55296<=y&&y<=56319){if(++l,l>=h||(g=p.charCodeAt(l),!(56320<=g&&g<=57343)))return!1;y=u(y,g)}if(!v(y))return!1;v=t.isIdentifierPartES6}return!0}function c(p,l){return a(p)&&!i(p,l)}function d(p,l){return f(p)&&!s(p,l)}w2.exports={isKeywordES5:r,isKeywordES6:n,isReservedWordES5:i,isReservedWordES6:s,isRestrictedWord:o,isIdentifierNameES5:a,isIdentifierNameES6:f,isIdentifierES5:c,isIdentifierES6:d}})()});var C2=M(am=>{(function(){"use strict";am.ast=E2(),am.code=Xb(),am.keyword=x2()})()});var D2=M(Yb=>{var S2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Yb.encode=function(t){if(0<=t&&t<S2.length)return S2[t];throw new TypeError("Must be between 0 and 63: "+t)};Yb.decode=function(t){var e=65,r=90,n=97,i=122,s=48,o=57,a=43,u=47,f=26,c=52;return e<=t&&t<=r?t-e:n<=t&&t<=i?t-n+f:s<=t&&t<=o?t-s+c:t==a?62:t==u?63:-1}});var ew=M(Qb=>{var A2=D2(),Zb=5,F2=1<<Zb,_2=F2-1,k2=F2;function qJ(t){return t<0?(-t<<1)+1:(t<<1)+0}function VJ(t){var e=(t&1)===1,r=t>>1;return e?-r:r}Qb.encode=function(e){var r="",n,i=qJ(e);do n=i&_2,i>>>=Zb,i>0&&(n|=k2),r+=A2.encode(n);while(i>0);return r};Qb.decode=function(e,r,n){var i=e.length,s=0,o=0,a,u;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(u=A2.decode(e.charCodeAt(r++)),u===-1)throw new Error("Invalid base64 digit: "+e.charAt(r-1));a=!!(u&k2),u&=_2,s=s+(u<<o),o+=Zb}while(a);n.value=VJ(s),n.rest=r}});var il=M(Pr=>{function HJ(t,e,r){if(e in t)return t[e];if(arguments.length===3)return r;throw new Error('"'+e+'" is a required argument.')}Pr.getArg=HJ;var I2=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,zJ=/^data:.+\,.+$/;function mf(t){var e=t.match(I2);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}Pr.urlParse=mf;function rl(t){var e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}Pr.urlGenerate=rl;function tw(t){var e=t,r=mf(t);if(r){if(!r.path)return t;e=r.path}for(var n=Pr.isAbsolute(e),i=e.split(/\/+/),s,o=0,a=i.length-1;a>=0;a--)s=i[a],s==="."?i.splice(a,1):s===".."?o++:o>0&&(s===""?(i.splice(a+1,o),o=0):(i.splice(a,2),o--));return e=i.join("/"),e===""&&(e=n?"/":"."),r?(r.path=e,rl(r)):e}Pr.normalize=tw;function P2(t,e){t===""&&(t="."),e===""&&(e=".");var r=mf(e),n=mf(t);if(n&&(t=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),rl(r);if(r||e.match(zJ))return e;if(n&&!n.host&&!n.path)return n.host=e,rl(n);var i=e.charAt(0)==="/"?e:tw(t.replace(/\/+$/,"")+"/"+e);return n?(n.path=i,rl(n)):i}Pr.join=P2;Pr.isAbsolute=function(t){return t.charAt(0)==="/"||I2.test(t)};function WJ(t,e){t===""&&(t="."),t=t.replace(/\/$/,"");for(var r=0;e.indexOf(t+"/")!==0;){var n=t.lastIndexOf("/");if(n<0||(t=t.slice(0,n),t.match(/^([^\/]+:\/)?\/*$/)))return e;++r}return Array(r+1).join("../")+e.substr(t.length+1)}Pr.relative=WJ;var T2=function(){var t=Object.create(null);return!("__proto__"in t)}();function O2(t){return t}function GJ(t){return R2(t)?"$"+t:t}Pr.toSetString=T2?O2:GJ;function JJ(t){return R2(t)?t.slice(1):t}Pr.fromSetString=T2?O2:JJ;function R2(t){if(!t)return!1;var e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(var r=e-10;r>=0;r--)if(t.charCodeAt(r)!==36)return!1;return!0}function KJ(t,e,r){var n=nl(t.source,e.source);return n!==0||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0||r)||(n=t.generatedColumn-e.generatedColumn,n!==0)||(n=t.generatedLine-e.generatedLine,n!==0)?n:nl(t.name,e.name)}Pr.compareByOriginalPositions=KJ;function XJ(t,e,r){var n=t.generatedLine-e.generatedLine;return n!==0||(n=t.generatedColumn-e.generatedColumn,n!==0||r)||(n=nl(t.source,e.source),n!==0)||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0)?n:nl(t.name,e.name)}Pr.compareByGeneratedPositionsDeflated=XJ;function nl(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}function YJ(t,e){var r=t.generatedLine-e.generatedLine;return r!==0||(r=t.generatedColumn-e.generatedColumn,r!==0)||(r=nl(t.source,e.source),r!==0)||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0)?r:nl(t.name,e.name)}Pr.compareByGeneratedPositionsInflated=YJ;function ZJ(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}Pr.parseSourceMapInput=ZJ;function QJ(t,e,r){if(e=e||"",t&&(t[t.length-1]!=="/"&&e[0]!=="/"&&(t+="/"),e=t+e),r){var n=mf(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}e=P2(rl(n),e)}return tw(e)}Pr.computeSourceURL=QJ});var iw=M(B2=>{var rw=il(),nw=Object.prototype.hasOwnProperty,ba=typeof Map<"u";function bs(){this._array=[],this._set=ba?new Map:Object.create(null)}bs.fromArray=function(e,r){for(var n=new bs,i=0,s=e.length;i<s;i++)n.add(e[i],r);return n};bs.prototype.size=function(){return ba?this._set.size:Object.getOwnPropertyNames(this._set).length};bs.prototype.add=function(e,r){var n=ba?e:rw.toSetString(e),i=ba?this.has(e):nw.call(this._set,n),s=this._array.length;(!i||r)&&this._array.push(e),i||(ba?this._set.set(e,s):this._set[n]=s)};bs.prototype.has=function(e){if(ba)return this._set.has(e);var r=rw.toSetString(e);return nw.call(this._set,r)};bs.prototype.indexOf=function(e){if(ba){var r=this._set.get(e);if(r>=0)return r}else{var n=rw.toSetString(e);if(nw.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')};bs.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)};bs.prototype.toArray=function(){return this._array.slice()};B2.ArraySet=bs});var M2=M(N2=>{var L2=il();function eK(t,e){var r=t.generatedLine,n=e.generatedLine,i=t.generatedColumn,s=e.generatedColumn;return n>r||n==r&&s>=i||L2.compareByGeneratedPositionsInflated(t,e)<=0}function um(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}um.prototype.unsortedForEach=function(e,r){this._array.forEach(e,r)};um.prototype.add=function(e){eK(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))};um.prototype.toArray=function(){return this._sorted||(this._array.sort(L2.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};N2.MappingList=um});var sw=M(j2=>{var gf=ew(),Gt=il(),lm=iw().ArraySet,tK=M2().MappingList;function ti(t){t||(t={}),this._file=Gt.getArg(t,"file",null),this._sourceRoot=Gt.getArg(t,"sourceRoot",null),this._skipValidation=Gt.getArg(t,"skipValidation",!1),this._sources=new lm,this._names=new lm,this._mappings=new tK,this._sourcesContents=null}ti.prototype._version=3;ti.fromSourceMap=function(e){var r=e.sourceRoot,n=new ti({file:e.file,sourceRoot:r});return e.eachMapping(function(i){var s={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(s.source=i.source,r!=null&&(s.source=Gt.relative(r,s.source)),s.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(s.name=i.name)),n.addMapping(s)}),e.sources.forEach(function(i){var s=i;r!==null&&(s=Gt.relative(r,i)),n._sources.has(s)||n._sources.add(s);var o=e.sourceContentFor(i);o!=null&&n.setSourceContent(i,o)}),n};ti.prototype.addMapping=function(e){var r=Gt.getArg(e,"generated"),n=Gt.getArg(e,"original",null),i=Gt.getArg(e,"source",null),s=Gt.getArg(e,"name",null);this._skipValidation||this._validateMapping(r,n,i,s),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:s})};ti.prototype.setSourceContent=function(e,r){var n=e;this._sourceRoot!=null&&(n=Gt.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Gt.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[Gt.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};ti.prototype.applySourceMap=function(e,r,n){var i=r;if(r==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=e.file}var s=this._sourceRoot;s!=null&&(i=Gt.relative(s,i));var o=new lm,a=new lm;this._mappings.unsortedForEach(function(u){if(u.source===i&&u.originalLine!=null){var f=e.originalPositionFor({line:u.originalLine,column:u.originalColumn});f.source!=null&&(u.source=f.source,n!=null&&(u.source=Gt.join(n,u.source)),s!=null&&(u.source=Gt.relative(s,u.source)),u.originalLine=f.line,u.originalColumn=f.column,f.name!=null&&(u.name=f.name))}var c=u.source;c!=null&&!o.has(c)&&o.add(c);var d=u.name;d!=null&&!a.has(d)&&a.add(d)},this),this._sources=o,this._names=a,e.sources.forEach(function(u){var f=e.sourceContentFor(u);f!=null&&(n!=null&&(u=Gt.join(n,u)),s!=null&&(u=Gt.relative(s,u)),this.setSourceContent(u,f))},this)};ti.prototype._validateMapping=function(e,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!r&&!n&&!i)){if(e&&"line"in e&&"column"in e&&r&&"line"in r&&"column"in r&&e.line>0&&e.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:r,name:i}))}};ti.prototype._serializeMappings=function(){for(var e=0,r=1,n=0,i=0,s=0,o=0,a="",u,f,c,d,p=this._mappings.toArray(),l=0,h=p.length;l<h;l++){if(f=p[l],u="",f.generatedLine!==r)for(e=0;f.generatedLine!==r;)u+=";",r++;else if(l>0){if(!Gt.compareByGeneratedPositionsInflated(f,p[l-1]))continue;u+=","}u+=gf.encode(f.generatedColumn-e),e=f.generatedColumn,f.source!=null&&(d=this._sources.indexOf(f.source),u+=gf.encode(d-o),o=d,u+=gf.encode(f.originalLine-1-i),i=f.originalLine-1,u+=gf.encode(f.originalColumn-n),n=f.originalColumn,f.name!=null&&(c=this._names.indexOf(f.name),u+=gf.encode(c-s),s=c)),a+=u}return a};ti.prototype._generateSourcesContent=function(e,r){return e.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=Gt.relative(r,n));var i=Gt.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)};ti.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e};ti.prototype.toString=function(){return JSON.stringify(this.toJSON())};j2.SourceMapGenerator=ti});var $2=M(wa=>{wa.GREATEST_LOWER_BOUND=1;wa.LEAST_UPPER_BOUND=2;function ow(t,e,r,n,i,s){var o=Math.floor((e-t)/2)+t,a=i(r,n[o],!0);return a===0?o:a>0?e-o>1?ow(o,e,r,n,i,s):s==wa.LEAST_UPPER_BOUND?e<n.length?e:-1:o:o-t>1?ow(t,o,r,n,i,s):s==wa.LEAST_UPPER_BOUND?o:t<0?-1:t}wa.search=function(e,r,n,i){if(r.length===0)return-1;var s=ow(-1,r.length,e,r,n,i||wa.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&n(r[s],r[s-1],!0)===0;)--s;return s}});var q2=M(U2=>{function aw(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function rK(t,e){return Math.round(t+Math.random()*(e-t))}function uw(t,e,r,n){if(r<n){var i=rK(r,n),s=r-1;aw(t,i,n);for(var o=t[n],a=r;a<n;a++)e(t[a],o)<=0&&(s+=1,aw(t,s,a));aw(t,s+1,a);var u=s+1;uw(t,e,r,u-1),uw(t,e,u+1,n)}}U2.quickSort=function(t,e){uw(t,e,0,t.length-1)}});var H2=M(cm=>{var Be=il(),lw=$2(),sl=iw().ArraySet,nK=ew(),yf=q2().quickSort;function bt(t,e){var r=t;return typeof t=="string"&&(r=Be.parseSourceMapInput(t)),r.sections!=null?new gi(r,e):new hr(r,e)}bt.fromSourceMap=function(t,e){return hr.fromSourceMap(t,e)};bt.prototype._version=3;bt.prototype.__generatedMappings=null;Object.defineProperty(bt.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});bt.prototype.__originalMappings=null;Object.defineProperty(bt.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});bt.prototype._charIsMappingSeparator=function(e,r){var n=e.charAt(r);return n===";"||n===","};bt.prototype._parseMappings=function(e,r){throw new Error("Subclasses must implement _parseMappings")};bt.GENERATED_ORDER=1;bt.ORIGINAL_ORDER=2;bt.GREATEST_LOWER_BOUND=1;bt.LEAST_UPPER_BOUND=2;bt.prototype.eachMapping=function(e,r,n){var i=r||null,s=n||bt.GENERATED_ORDER,o;switch(s){case bt.GENERATED_ORDER:o=this._generatedMappings;break;case bt.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;o.map(function(u){var f=u.source===null?null:this._sources.at(u.source);return f=Be.computeSourceURL(a,f,this._sourceMapURL),{source:f,generatedLine:u.generatedLine,generatedColumn:u.generatedColumn,originalLine:u.originalLine,originalColumn:u.originalColumn,name:u.name===null?null:this._names.at(u.name)}},this).forEach(e,i)};bt.prototype.allGeneratedPositionsFor=function(e){var r=Be.getArg(e,"line"),n={source:Be.getArg(e,"source"),originalLine:r,originalColumn:Be.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Be.compareByOriginalPositions,lw.LEAST_UPPER_BOUND);if(s>=0){var o=this._originalMappings[s];if(e.column===void 0)for(var a=o.originalLine;o&&o.originalLine===a;)i.push({line:Be.getArg(o,"generatedLine",null),column:Be.getArg(o,"generatedColumn",null),lastColumn:Be.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s];else for(var u=o.originalColumn;o&&o.originalLine===r&&o.originalColumn==u;)i.push({line:Be.getArg(o,"generatedLine",null),column:Be.getArg(o,"generatedColumn",null),lastColumn:Be.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s]}return i};cm.SourceMapConsumer=bt;function hr(t,e){var r=t;typeof t=="string"&&(r=Be.parseSourceMapInput(t));var n=Be.getArg(r,"version"),i=Be.getArg(r,"sources"),s=Be.getArg(r,"names",[]),o=Be.getArg(r,"sourceRoot",null),a=Be.getArg(r,"sourcesContent",null),u=Be.getArg(r,"mappings"),f=Be.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);o&&(o=Be.normalize(o)),i=i.map(String).map(Be.normalize).map(function(c){return o&&Be.isAbsolute(o)&&Be.isAbsolute(c)?Be.relative(o,c):c}),this._names=sl.fromArray(s.map(String),!0),this._sources=sl.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(c){return Be.computeSourceURL(o,c,e)}),this.sourceRoot=o,this.sourcesContent=a,this._mappings=u,this._sourceMapURL=e,this.file=f}hr.prototype=Object.create(bt.prototype);hr.prototype.consumer=bt;hr.prototype._findSourceIndex=function(t){var e=t;if(this.sourceRoot!=null&&(e=Be.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==t)return r;return-1};hr.fromSourceMap=function(e,r){var n=Object.create(hr.prototype),i=n._names=sl.fromArray(e._names.toArray(),!0),s=n._sources=sl.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(l){return Be.computeSourceURL(n.sourceRoot,l,r)});for(var o=e._mappings.toArray().slice(),a=n.__generatedMappings=[],u=n.__originalMappings=[],f=0,c=o.length;f<c;f++){var d=o[f],p=new V2;p.generatedLine=d.generatedLine,p.generatedColumn=d.generatedColumn,d.source&&(p.source=s.indexOf(d.source),p.originalLine=d.originalLine,p.originalColumn=d.originalColumn,d.name&&(p.name=i.indexOf(d.name)),u.push(p)),a.push(p)}return yf(n.__originalMappings,Be.compareByOriginalPositions),n};hr.prototype._version=3;Object.defineProperty(hr.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function V2(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}hr.prototype._parseMappings=function(e,r){for(var n=1,i=0,s=0,o=0,a=0,u=0,f=e.length,c=0,d={},p={},l=[],h=[],y,g,v,b,x;c<f;)if(e.charAt(c)===";")n++,c++,i=0;else if(e.charAt(c)===",")c++;else{for(y=new V2,y.generatedLine=n,b=c;b<f&&!this._charIsMappingSeparator(e,b);b++);if(g=e.slice(c,b),v=d[g],v)c+=g.length;else{for(v=[];c<b;)nK.decode(e,c,p),x=p.value,c=p.rest,v.push(x);if(v.length===2)throw new Error("Found a source, but no line and column");if(v.length===3)throw new Error("Found a source and line, but no column");d[g]=v}y.generatedColumn=i+v[0],i=y.generatedColumn,v.length>1&&(y.source=a+v[1],a+=v[1],y.originalLine=s+v[2],s=y.originalLine,y.originalLine+=1,y.originalColumn=o+v[3],o=y.originalColumn,v.length>4&&(y.name=u+v[4],u+=v[4])),h.push(y),typeof y.originalLine=="number"&&l.push(y)}yf(h,Be.compareByGeneratedPositionsDeflated),this.__generatedMappings=h,yf(l,Be.compareByOriginalPositions),this.__originalMappings=l};hr.prototype._findMapping=function(e,r,n,i,s,o){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[i]);return lw.search(e,r,s,o)};hr.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var r=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}};hr.prototype.originalPositionFor=function(e){var r={generatedLine:Be.getArg(e,"line"),generatedColumn:Be.getArg(e,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",Be.compareByGeneratedPositionsDeflated,Be.getArg(e,"bias",bt.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var s=Be.getArg(i,"source",null);s!==null&&(s=this._sources.at(s),s=Be.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var o=Be.getArg(i,"name",null);return o!==null&&(o=this._names.at(o)),{source:s,line:Be.getArg(i,"originalLine",null),column:Be.getArg(i,"originalColumn",null),name:o}}}return{source:null,line:null,column:null,name:null}};hr.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1};hr.prototype.sourceContentFor=function(e,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var i=e;this.sourceRoot!=null&&(i=Be.relative(this.sourceRoot,i));var s;if(this.sourceRoot!=null&&(s=Be.urlParse(this.sourceRoot))){var o=i.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!s.path||s.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')};hr.prototype.generatedPositionFor=function(e){var r=Be.getArg(e,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:Be.getArg(e,"line"),originalColumn:Be.getArg(e,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Be.compareByOriginalPositions,Be.getArg(e,"bias",bt.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===n.source)return{line:Be.getArg(s,"generatedLine",null),column:Be.getArg(s,"generatedColumn",null),lastColumn:Be.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};cm.BasicSourceMapConsumer=hr;function gi(t,e){var r=t;typeof t=="string"&&(r=Be.parseSourceMapInput(t));var n=Be.getArg(r,"version"),i=Be.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new sl,this._names=new sl;var s={line:-1,column:0};this._sections=i.map(function(o){if(o.url)throw new Error("Support for url field in sections not implemented.");var a=Be.getArg(o,"offset"),u=Be.getArg(a,"line"),f=Be.getArg(a,"column");if(u<s.line||u===s.line&&f<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=a,{generatedOffset:{generatedLine:u+1,generatedColumn:f+1},consumer:new bt(Be.getArg(o,"map"),e)}})}gi.prototype=Object.create(bt.prototype);gi.prototype.constructor=bt;gi.prototype._version=3;Object.defineProperty(gi.prototype,"sources",{get:function(){for(var t=[],e=0;e<this._sections.length;e++)for(var r=0;r<this._sections[e].consumer.sources.length;r++)t.push(this._sections[e].consumer.sources[r]);return t}});gi.prototype.originalPositionFor=function(e){var r={generatedLine:Be.getArg(e,"line"),generatedColumn:Be.getArg(e,"column")},n=lw.search(r,this._sections,function(s,o){var a=s.generatedLine-o.generatedOffset.generatedLine;return a||s.generatedColumn-o.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}};gi.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})};gi.prototype.sourceContentFor=function(e,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],s=i.consumer.sourceContentFor(e,!0);if(s)return s}if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')};gi.prototype.generatedPositionFor=function(e){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(Be.getArg(e,"source"))!==-1){var i=n.consumer.generatedPositionFor(e);if(i){var s={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}};gi.prototype._parseMappings=function(e,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],s=i.consumer._generatedMappings,o=0;o<s.length;o++){var a=s[o],u=i.consumer._sources.at(a.source);u=Be.computeSourceURL(i.consumer.sourceRoot,u,this._sourceMapURL),this._sources.add(u),u=this._sources.indexOf(u);var f=null;a.name&&(f=i.consumer._names.at(a.name),this._names.add(f),f=this._names.indexOf(f));var c={source:u,generatedLine:a.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(i.generatedOffset.generatedLine===a.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:f};this.__generatedMappings.push(c),typeof c.originalLine=="number"&&this.__originalMappings.push(c)}yf(this.__generatedMappings,Be.compareByGeneratedPositionsDeflated),yf(this.__originalMappings,Be.compareByOriginalPositions)};cm.IndexedSourceMapConsumer=gi});var W2=M(z2=>{var iK=sw().SourceMapGenerator,fm=il(),sK=/(\r?\n)/,oK=10,ol="$$$isSourceNode$$$";function kn(t,e,r,n,i){this.children=[],this.sourceContents={},this.line=t??null,this.column=e??null,this.source=r??null,this.name=i??null,this[ol]=!0,n!=null&&this.add(n)}kn.fromStringWithSourceMap=function(e,r,n){var i=new kn,s=e.split(sK),o=0,a=function(){var p=h(),l=h()||"";return p+l;function h(){return o<s.length?s[o++]:void 0}},u=1,f=0,c=null;return r.eachMapping(function(p){if(c!==null)if(u<p.generatedLine)d(c,a()),u++,f=0;else{var l=s[o]||"",h=l.substr(0,p.generatedColumn-f);s[o]=l.substr(p.generatedColumn-f),f=p.generatedColumn,d(c,h),c=p;return}for(;u<p.generatedLine;)i.add(a()),u++;if(f<p.generatedColumn){var l=s[o]||"";i.add(l.substr(0,p.generatedColumn)),s[o]=l.substr(p.generatedColumn),f=p.generatedColumn}c=p},this),o<s.length&&(c&&d(c,a()),i.add(s.splice(o).join(""))),r.sources.forEach(function(p){var l=r.sourceContentFor(p);l!=null&&(n!=null&&(p=fm.join(n,p)),i.setSourceContent(p,l))}),i;function d(p,l){if(p===null||p.source===void 0)i.add(l);else{var h=n?fm.join(n,p.source):p.source;i.add(new kn(p.originalLine,p.originalColumn,h,l,p.name))}}};kn.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(r){this.add(r)},this);else if(e[ol]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};kn.prototype.prepend=function(e){if(Array.isArray(e))for(var r=e.length-1;r>=0;r--)this.prepend(e[r]);else if(e[ol]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};kn.prototype.walk=function(e){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[ol]?r.walk(e):r!==""&&e(r,{source:this.source,line:this.line,column:this.column,name:this.name})};kn.prototype.join=function(e){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(e);r.push(this.children[n]),this.children=r}return this};kn.prototype.replaceRight=function(e,r){var n=this.children[this.children.length-1];return n[ol]?n.replaceRight(e,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(e,r):this.children.push("".replace(e,r)),this};kn.prototype.setSourceContent=function(e,r){this.sourceContents[fm.toSetString(e)]=r};kn.prototype.walkSourceContents=function(e){for(var r=0,n=this.children.length;r<n;r++)this.children[r][ol]&&this.children[r].walkSourceContents(e);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)e(fm.fromSetString(i[r]),this.sourceContents[i[r]])};kn.prototype.toString=function(){var e="";return this.walk(function(r){e+=r}),e};kn.prototype.toStringWithSourceMap=function(e){var r={code:"",line:1,column:0},n=new iK(e),i=!1,s=null,o=null,a=null,u=null;return this.walk(function(f,c){r.code+=f,c.source!==null&&c.line!==null&&c.column!==null?((s!==c.source||o!==c.line||a!==c.column||u!==c.name)&&n.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:r.line,column:r.column},name:c.name}),s=c.source,o=c.line,a=c.column,u=c.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),s=null,i=!1);for(var d=0,p=f.length;d<p;d++)f.charCodeAt(d)===oK?(r.line++,r.column=0,d+1===p?(s=null,i=!1):i&&n.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:r.line,column:r.column},name:c.name})):r.column++}),this.walkSourceContents(function(f,c){n.setSourceContent(f,c)}),{code:r.code,map:n}};z2.SourceNode=kn});var G2=M(hm=>{hm.SourceMapGenerator=sw().SourceMapGenerator;hm.SourceMapConsumer=H2().SourceMapConsumer;hm.SourceNode=W2().SourceNode});var J2=M((gfe,aK)=>{aK.exports={name:"escodegen",description:"ECMAScript code generator",homepage:"http://github.com/estools/escodegen",main:"escodegen.js",bin:{esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},files:["LICENSE.BSD","README.md","bin","escodegen.js","package.json"],version:"1.14.3",engines:{node:">=4.0"},maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository:{type:"git",url:"http://github.com/estools/escodegen.git"},dependencies:{estraverse:"^4.2.0",esutils:"^2.0.2",esprima:"^4.0.1",optionator:"^0.8.1"},optionalDependencies:{"source-map":"~0.6.1"},devDependencies:{acorn:"^7.1.0",bluebird:"^3.4.7","bower-registry-client":"^1.0.0",chai:"^3.5.0","commonjs-everywhere":"^0.9.7",gulp:"^3.8.10","gulp-eslint":"^3.0.1","gulp-mocha":"^3.0.1",semver:"^5.1.0"},license:"BSD-2-Clause",scripts:{test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"}}});var K2=M(ws=>{(function(){"use strict";var t,e,r,n,i,s,o,a,u,f,c,d,p,l,h,y,g,v,b,x,E,S,F,P,V,H;i=y2(),s=C2(),t=i.Syntax;function j(C){return ct.Expression.hasOwnProperty(C.type)}function R(C){return ct.Statement.hasOwnProperty(C.type)}e={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Exponentiation:13,Await:14,Unary:14,Postfix:15,Call:16,New:17,TaggedTemplate:18,Member:19,Primary:20},r={"||":e.LogicalOR,"&&":e.LogicalAND,"|":e.BitwiseOR,"^":e.BitwiseXOR,"&":e.BitwiseAND,"==":e.Equality,"!=":e.Equality,"===":e.Equality,"!==":e.Equality,is:e.Equality,isnt:e.Equality,"<":e.Relational,">":e.Relational,"<=":e.Relational,">=":e.Relational,in:e.Relational,instanceof:e.Relational,"<<":e.BitwiseSHIFT,">>":e.BitwiseSHIFT,">>>":e.BitwiseSHIFT,"+":e.Additive,"-":e.Additive,"*":e.Multiplicative,"%":e.Multiplicative,"/":e.Multiplicative,"**":e.Exponentiation};var N=1,J=1<<1,K=1<<2,X=1<<3,z=1<<4,T=1<<5,W=J|K,L=N|J,$=N|J|K,Z=N,ie=K,he=N|K,ee=N,me=N|T,ce=0,ye=N|z,Le=N|X;function fe(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function se(C,_){var A="";for(_|=0;_>0;_>>>=1,C+=C)_&1&&(A+=C);return A}function te(C){return/[\r\n]/g.test(C)}function ue(C){var _=C.length;return _&&s.code.isLineTerminator(C.charCodeAt(_-1))}function pe(C,_){var A;for(A in _)_.hasOwnProperty(A)&&(C[A]=_[A]);return C}function ve(C,_){var A,I;function B(oe){return typeof oe=="object"&&oe instanceof Object&&!(oe instanceof RegExp)}for(A in _)_.hasOwnProperty(A)&&(I=_[A],B(I)?B(C[A])?ve(C[A],I):C[A]=ve({},I):C[A]=I);return C}function U(C){var _,A,I,B,oe;if(C!==C)throw new Error("Numeric literal whose value is NaN");if(C<0||C===0&&1/C<0)throw new Error("Numeric literal whose value is negative");if(C===1/0)return u?"null":f?"1e400":"1e+400";if(_=""+C,!f||_.length<3)return _;for(A=_.indexOf("."),!u&&_.charCodeAt(0)===48&&A===1&&(A=0,_=_.slice(1)),I=_,_=_.replace("e+","e"),B=0,(oe=I.indexOf("e"))>0&&(B=+I.slice(oe+1),I=I.slice(0,oe)),A>=0&&(B-=I.length-A-1,I=+(I.slice(0,A)+I.slice(A+1))+""),oe=0;I.charCodeAt(I.length+oe-1)===48;)--oe;return oe!==0&&(B-=oe,I=I.slice(0,oe)),B!==0&&(I+="e"+B),(I.length<_.length||c&&C>1e12&&Math.floor(C)===C&&(I="0x"+C.toString(16)).length<_.length)&&+I===C&&(_=I),_}function G(C,_){return(C&-2)===8232?(_?"u":"\\u")+(C===8232?"2028":"2029"):C===10||C===13?(_?"":"\\")+(C===10?"n":"r"):String.fromCharCode(C)}function ge(C){var _,A,I,B,oe,de,Ee,Fe;if(A=C.toString(),C.source){if(_=A.match(/\/([^/]*)$/),!_)return A;for(I=_[1],A="",Ee=!1,Fe=!1,B=0,oe=C.source.length;B<oe;++B)de=C.source.charCodeAt(B),Fe?(A+=G(de,Fe),Fe=!1):(Ee?de===93&&(Ee=!1):de===47?A+="\\":de===91&&(Ee=!0),A+=G(de,Fe),Fe=de===92);return"/"+A+"/"+I}return A}function ae(C,_){var A;return C===8?"\\b":C===12?"\\f":C===9?"\\t":(A=C.toString(16).toUpperCase(),u||C>255?"\\u"+"0000".slice(A.length)+A:C===0&&!s.code.isDecimalDigit(_)?"\\0":C===11?"\\x0B":"\\x"+"00".slice(A.length)+A)}function Q(C){if(C===92)return"\\\\";if(C===10)return"\\n";if(C===13)return"\\r";if(C===8232)return"\\u2028";if(C===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function _e(C){var _,A,I,B;for(B=d==="double"?'"':"'",_=0,A=C.length;_<A;++_)if(I=C.charCodeAt(_),I===39){B='"';break}else if(I===34){B="'";break}else I===92&&++_;return B+C+B}function Se(C){var _="",A,I,B,oe=0,de=0,Ee,Fe;for(A=0,I=C.length;A<I;++A){if(B=C.charCodeAt(A),B===39)++oe;else if(B===34)++de;else if(B===47&&u)_+="\\";else if(s.code.isLineTerminator(B)||B===92){_+=Q(B);continue}else if(!s.code.isIdentifierPartES5(B)&&(u&&B<32||!u&&!p&&(B<32||B>126))){_+=ae(B,C.charCodeAt(A+1));continue}_+=String.fromCharCode(B)}if(Ee=!(d==="double"||d==="auto"&&de<oe),Fe=Ee?"'":'"',!(Ee?oe:de))return Fe+_+Fe;for(C=_,_=Fe,A=0,I=C.length;A<I;++A)B=C.charCodeAt(A),(B===39&&Ee||B===34&&!Ee)&&(_+="\\"),_+=String.fromCharCode(B);return _+Fe}function Pe(C){var _,A,I,B="";for(_=0,A=C.length;_<A;++_)I=C[_],B+=Array.isArray(I)?Pe(I):I;return B}function Ae(C,_){if(!S)return Array.isArray(C)?Pe(C):C;if(_==null){if(C instanceof n)return C;_={}}return _.loc==null?new n(null,null,S,C,_.name||null):new n(_.loc.start.line,_.loc.start.column,S===!0?_.loc.source||null:S,C,_.name||null)}function ze(){return h||" "}function ke(C,_){var A,I,B,oe;return A=Ae(C).toString(),A.length===0?[_]:(I=Ae(_).toString(),I.length===0?[C]:(B=A.charCodeAt(A.length-1),oe=I.charCodeAt(0),(B===43||B===45)&&B===oe||s.code.isIdentifierPartES5(B)&&s.code.isIdentifierPartES5(oe)||B===47&&oe===105?[C,ze(),_]:s.code.isWhiteSpace(B)||s.code.isLineTerminator(B)||s.code.isWhiteSpace(oe)||s.code.isLineTerminator(oe)?[C,_]:[C,h,_]))}function qt(C){return[o,C]}function lt(C){var _;_=o,o+=a,C(o),o=_}function $e(C){var _;for(_=C.length-1;_>=0&&!s.code.isLineTerminator(C.charCodeAt(_));--_);return C.length-1-_}function Eo(C,_){var A,I,B,oe,de,Ee,Fe,Ye;for(A=C.split(/\r\n|[\r\n]/),Ee=Number.MAX_VALUE,I=1,B=A.length;I<B;++I){for(oe=A[I],de=0;de<oe.length&&s.code.isWhiteSpace(oe.charCodeAt(de));)++de;Ee>de&&(Ee=de)}for(typeof _<"u"?(Fe=o,A[1][Ee]==="*"&&(_+=" "),o=_):(Ee&1&&--Ee,Fe=o),I=1,B=A.length;I<B;++I)Ye=Ae(qt(A[I].slice(Ee))),A[I]=S?Ye.join(""):Ye;return o=Fe,A.join(`
`)}function un(C,_){if(C.type==="Line"){if(ue(C.value))return"//"+C.value;var A="//"+C.value;return P||(A+=`
`),A}return x.format.indent.adjustMultilineComment&&/[\n\r]/.test(C.value)?Eo("/*"+C.value+"*/",_):"/*"+C.value+"*/"}function Ta(C,_){var A,I,B,oe,de,Ee,Fe,Ye,It,Wi,ks,Ll,Nl,ln;if(C.leadingComments&&C.leadingComments.length>0){if(oe=_,P){for(B=C.leadingComments[0],_=[],Ye=B.extendedRange,It=B.range,ks=F.substring(Ye[0],It[0]),ln=(ks.match(/\n/g)||[]).length,ln>0?(_.push(se(`
`,ln)),_.push(qt(un(B)))):(_.push(ks),_.push(un(B))),Wi=It,A=1,I=C.leadingComments.length;A<I;A++)B=C.leadingComments[A],It=B.range,Ll=F.substring(Wi[1],It[0]),ln=(Ll.match(/\n/g)||[]).length,_.push(se(`
`,ln)),_.push(qt(un(B))),Wi=It;Nl=F.substring(It[1],Ye[1]),ln=(Nl.match(/\n/g)||[]).length,_.push(se(`
`,ln))}else for(B=C.leadingComments[0],_=[],v&&C.type===t.Program&&C.body.length===0&&_.push(`
`),_.push(un(B)),ue(Ae(_).toString())||_.push(`
`),A=1,I=C.leadingComments.length;A<I;++A)B=C.leadingComments[A],Fe=[un(B)],ue(Ae(Fe).toString())||Fe.push(`
`),_.push(qt(Fe));_.push(qt(oe))}if(C.trailingComments)if(P)B=C.trailingComments[0],Ye=B.extendedRange,It=B.range,ks=F.substring(Ye[0],It[0]),ln=(ks.match(/\n/g)||[]).length,ln>0?(_.push(se(`
`,ln)),_.push(qt(un(B)))):(_.push(ks),_.push(un(B)));else for(de=!ue(Ae(_).toString()),Ee=se(" ",$e(Ae([o,_,a]).toString())),A=0,I=C.trailingComments.length;A<I;++A)B=C.trailingComments[A],de?(A===0?_=[_,a]:_=[_,Ee],_.push(un(B,Ee))):_=[_,qt(un(B))],A!==I-1&&!ue(Ae(_).toString())&&(_=[_,`
`]);return _}function Hr(C,_,A){var I,B=0;for(I=C;I<_;I++)F[I]===`
`&&B++;for(I=1;I<B;I++)A.push(l)}function wt(C,_,A){return _<A?["(",C,")"]:C}function bo(C){var _,A,I;for(I=C.split(/\r\n|\n/),_=1,A=I.length;_<A;_++)I[_]=l+o+I[_];return I}function Bl(C,_){var A,I,B;return A=C[x.verbatim],typeof A=="string"?I=wt(bo(A),e.Sequence,_):(I=bo(A.content),B=A.precedence!=null?A.precedence:e.Sequence,I=wt(I,B,_)),Ae(I,C)}function ct(){}ct.prototype.maybeBlock=function(C,_){var A,I,B=this;return I=!x.comment||!C.leadingComments,C.type===t.BlockStatement&&I?[h,this.generateStatement(C,_)]:C.type===t.EmptyStatement&&I?";":(lt(function(){A=[l,qt(B.generateStatement(C,_))]}),A)},ct.prototype.maybeBlockSuffix=function(C,_){var A=ue(Ae(_).toString());return C.type===t.BlockStatement&&(!x.comment||!C.leadingComments)&&!A?[_,h]:A?[_,o]:[_,l,o]};function ft(C){return Ae(C.name,C)}function Vt(C,_){return C.async?"async"+(_?ze():h):""}function rt(C){var _=C.generator&&!x.moz.starlessGenerator;return _?"*"+h:""}function ne(C){var _=C.value,A="";return _.async&&(A+=Vt(_,!C.computed)),_.generator&&(A+=rt(_)?"*":""),A}ct.prototype.generatePattern=function(C,_,A){return C.type===t.Identifier?ft(C):this.generateExpression(C,_,A)},ct.prototype.generateFunctionParams=function(C){var _,A,I,B;if(B=!1,C.type===t.ArrowFunctionExpression&&!C.rest&&(!C.defaults||C.defaults.length===0)&&C.params.length===1&&C.params[0].type===t.Identifier)I=[Vt(C,!0),ft(C.params[0])];else{for(I=C.type===t.ArrowFunctionExpression?[Vt(C,!1)]:[],I.push("("),C.defaults&&(B=!0),_=0,A=C.params.length;_<A;++_)B&&C.defaults[_]?I.push(this.generateAssignment(C.params[_],C.defaults[_],"=",e.Assignment,$)):I.push(this.generatePattern(C.params[_],e.Assignment,$)),_+1<A&&I.push(","+h);C.rest&&(C.params.length&&I.push(","+h),I.push("..."),I.push(ft(C.rest))),I.push(")")}return I},ct.prototype.generateFunctionBody=function(C){var _,A;return _=this.generateFunctionParams(C),C.type===t.ArrowFunctionExpression&&(_.push(h),_.push("=>")),C.expression?(_.push(h),A=this.generateExpression(C.body,e.Assignment,$),A.toString().charAt(0)==="{"&&(A=["(",A,")"]),_.push(A)):_.push(this.maybeBlock(C.body,Le)),_},ct.prototype.generateIterationForStatement=function(C,_,A){var I=["for"+(_.await?ze()+"await":"")+h+"("],B=this;return lt(function(){_.left.type===t.VariableDeclaration?lt(function(){I.push(_.left.kind+ze()),I.push(B.generateStatement(_.left.declarations[0],ce))}):I.push(B.generateExpression(_.left,e.Call,$)),I=ke(I,C),I=[ke(I,B.generateExpression(_.right,e.Assignment,$)),")"]}),I.push(this.maybeBlock(_.body,A)),I},ct.prototype.generatePropertyKey=function(C,_){var A=[];return _&&A.push("["),A.push(this.generateExpression(C,e.Assignment,$)),_&&A.push("]"),A},ct.prototype.generateAssignment=function(C,_,A,I,B){return e.Assignment<I&&(B|=N),wt([this.generateExpression(C,e.Call,B),h+A+h,this.generateExpression(_,e.Assignment,B)],e.Assignment,I)},ct.prototype.semicolon=function(C){return!g&&C&T?"":";"},ct.Statement={BlockStatement:function(C,_){var A,I,B=["{",l],oe=this;return lt(function(){C.body.length===0&&P&&(A=C.range,A[1]-A[0]>2&&(I=F.substring(A[0]+1,A[1]-1),I[0]===`
`&&(B=["{"]),B.push(I)));var de,Ee,Fe,Ye;for(Ye=ee,_&X&&(Ye|=z),de=0,Ee=C.body.length;de<Ee;++de)P&&(de===0&&(C.body[0].leadingComments&&(A=C.body[0].leadingComments[0].extendedRange,I=F.substring(A[0],A[1]),I[0]===`
`&&(B=["{"])),C.body[0].leadingComments||Hr(C.range[0],C.body[0].range[0],B)),de>0&&!C.body[de-1].trailingComments&&!C.body[de].leadingComments&&Hr(C.body[de-1].range[1],C.body[de].range[0],B)),de===Ee-1&&(Ye|=T),C.body[de].leadingComments&&P?Fe=oe.generateStatement(C.body[de],Ye):Fe=qt(oe.generateStatement(C.body[de],Ye)),B.push(Fe),ue(Ae(Fe).toString())||P&&de<Ee-1&&C.body[de+1].leadingComments||B.push(l),P&&de===Ee-1&&(C.body[de].trailingComments||Hr(C.body[de].range[1],C.range[1],B))}),B.push(qt("}")),B},BreakStatement:function(C,_){return C.label?"break "+C.label.name+this.semicolon(_):"break"+this.semicolon(_)},ContinueStatement:function(C,_){return C.label?"continue "+C.label.name+this.semicolon(_):"continue"+this.semicolon(_)},ClassBody:function(C,_){var A=["{",l],I=this;return lt(function(B){var oe,de;for(oe=0,de=C.body.length;oe<de;++oe)A.push(B),A.push(I.generateExpression(C.body[oe],e.Sequence,$)),oe+1<de&&A.push(l)}),ue(Ae(A).toString())||A.push(l),A.push(o),A.push("}"),A},ClassDeclaration:function(C,_){var A,I;return A=["class"],C.id&&(A=ke(A,this.generateExpression(C.id,e.Sequence,$))),C.superClass&&(I=ke("extends",this.generateExpression(C.superClass,e.Unary,$)),A=ke(A,I)),A.push(h),A.push(this.generateStatement(C.body,me)),A},DirectiveStatement:function(C,_){return x.raw&&C.raw?C.raw+this.semicolon(_):_e(C.directive)+this.semicolon(_)},DoWhileStatement:function(C,_){var A=ke("do",this.maybeBlock(C.body,ee));return A=this.maybeBlockSuffix(C.body,A),ke(A,["while"+h+"(",this.generateExpression(C.test,e.Sequence,$),")"+this.semicolon(_)])},CatchClause:function(C,_){var A,I=this;return lt(function(){var B;C.param?(A=["catch"+h+"(",I.generateExpression(C.param,e.Sequence,$),")"],C.guard&&(B=I.generateExpression(C.guard,e.Sequence,$),A.splice(2,0," if ",B))):A=["catch"]}),A.push(this.maybeBlock(C.body,ee)),A},DebuggerStatement:function(C,_){return"debugger"+this.semicolon(_)},EmptyStatement:function(C,_){return";"},ExportDefaultDeclaration:function(C,_){var A=["export"],I;return I=_&T?me:ee,A=ke(A,"default"),R(C.declaration)?A=ke(A,this.generateStatement(C.declaration,I)):A=ke(A,this.generateExpression(C.declaration,e.Assignment,$)+this.semicolon(_)),A},ExportNamedDeclaration:function(C,_){var A=["export"],I,B=this;return I=_&T?me:ee,C.declaration?ke(A,this.generateStatement(C.declaration,I)):(C.specifiers&&(C.specifiers.length===0?A=ke(A,"{"+h+"}"):C.specifiers[0].type===t.ExportBatchSpecifier?A=ke(A,this.generateExpression(C.specifiers[0],e.Sequence,$)):(A=ke(A,"{"),lt(function(oe){var de,Ee;for(A.push(l),de=0,Ee=C.specifiers.length;de<Ee;++de)A.push(oe),A.push(B.generateExpression(C.specifiers[de],e.Sequence,$)),de+1<Ee&&A.push(","+l)}),ue(Ae(A).toString())||A.push(l),A.push(o+"}")),C.source?A=ke(A,["from"+h,this.generateExpression(C.source,e.Sequence,$),this.semicolon(_)]):A.push(this.semicolon(_))),A)},ExportAllDeclaration:function(C,_){return["export"+h,"*"+h,"from"+h,this.generateExpression(C.source,e.Sequence,$),this.semicolon(_)]},ExpressionStatement:function(C,_){var A,I;function B(Ee){var Fe;return Ee.slice(0,5)!=="class"?!1:(Fe=Ee.charCodeAt(5),Fe===123||s.code.isWhiteSpace(Fe)||s.code.isLineTerminator(Fe))}function oe(Ee){var Fe;return Ee.slice(0,8)!=="function"?!1:(Fe=Ee.charCodeAt(8),Fe===40||s.code.isWhiteSpace(Fe)||Fe===42||s.code.isLineTerminator(Fe))}function de(Ee){var Fe,Ye,It;if(Ee.slice(0,5)!=="async"||!s.code.isWhiteSpace(Ee.charCodeAt(5)))return!1;for(Ye=6,It=Ee.length;Ye<It&&s.code.isWhiteSpace(Ee.charCodeAt(Ye));++Ye);return Ye===It||Ee.slice(Ye,Ye+8)!=="function"?!1:(Fe=Ee.charCodeAt(Ye+8),Fe===40||s.code.isWhiteSpace(Fe)||Fe===42||s.code.isLineTerminator(Fe))}return A=[this.generateExpression(C.expression,e.Sequence,$)],I=Ae(A).toString(),I.charCodeAt(0)===123||B(I)||oe(I)||de(I)||b&&_&z&&C.expression.type===t.Literal&&typeof C.expression.value=="string"?A=["(",A,")"+this.semicolon(_)]:A.push(this.semicolon(_)),A},ImportDeclaration:function(C,_){var A,I,B=this;return C.specifiers.length===0?["import",h,this.generateExpression(C.source,e.Sequence,$),this.semicolon(_)]:(A=["import"],I=0,C.specifiers[I].type===t.ImportDefaultSpecifier&&(A=ke(A,[this.generateExpression(C.specifiers[I],e.Sequence,$)]),++I),C.specifiers[I]&&(I!==0&&A.push(","),C.specifiers[I].type===t.ImportNamespaceSpecifier?A=ke(A,[h,this.generateExpression(C.specifiers[I],e.Sequence,$)]):(A.push(h+"{"),C.specifiers.length-I===1?(A.push(h),A.push(this.generateExpression(C.specifiers[I],e.Sequence,$)),A.push(h+"}"+h)):(lt(function(oe){var de,Ee;for(A.push(l),de=I,Ee=C.specifiers.length;de<Ee;++de)A.push(oe),A.push(B.generateExpression(C.specifiers[de],e.Sequence,$)),de+1<Ee&&A.push(","+l)}),ue(Ae(A).toString())||A.push(l),A.push(o+"}"+h)))),A=ke(A,["from"+h,this.generateExpression(C.source,e.Sequence,$),this.semicolon(_)]),A)},VariableDeclarator:function(C,_){var A=_&N?$:W;return C.init?[this.generateExpression(C.id,e.Assignment,A),h,"=",h,this.generateExpression(C.init,e.Assignment,A)]:this.generatePattern(C.id,e.Assignment,A)},VariableDeclaration:function(C,_){var A,I,B,oe,de,Ee=this;A=[C.kind],de=_&N?ee:ce;function Fe(){for(oe=C.declarations[0],x.comment&&oe.leadingComments?(A.push(`
`),A.push(qt(Ee.generateStatement(oe,de)))):(A.push(ze()),A.push(Ee.generateStatement(oe,de))),I=1,B=C.declarations.length;I<B;++I)oe=C.declarations[I],x.comment&&oe.leadingComments?(A.push(","+l),A.push(qt(Ee.generateStatement(oe,de)))):(A.push(","+h),A.push(Ee.generateStatement(oe,de)))}return C.declarations.length>1?lt(Fe):Fe(),A.push(this.semicolon(_)),A},ThrowStatement:function(C,_){return[ke("throw",this.generateExpression(C.argument,e.Sequence,$)),this.semicolon(_)]},TryStatement:function(C,_){var A,I,B,oe;if(A=["try",this.maybeBlock(C.block,ee)],A=this.maybeBlockSuffix(C.block,A),C.handlers)for(I=0,B=C.handlers.length;I<B;++I)A=ke(A,this.generateStatement(C.handlers[I],ee)),(C.finalizer||I+1!==B)&&(A=this.maybeBlockSuffix(C.handlers[I].body,A));else{for(oe=C.guardedHandlers||[],I=0,B=oe.length;I<B;++I)A=ke(A,this.generateStatement(oe[I],ee)),(C.finalizer||I+1!==B)&&(A=this.maybeBlockSuffix(oe[I].body,A));if(C.handler)if(Array.isArray(C.handler))for(I=0,B=C.handler.length;I<B;++I)A=ke(A,this.generateStatement(C.handler[I],ee)),(C.finalizer||I+1!==B)&&(A=this.maybeBlockSuffix(C.handler[I].body,A));else A=ke(A,this.generateStatement(C.handler,ee)),C.finalizer&&(A=this.maybeBlockSuffix(C.handler.body,A))}return C.finalizer&&(A=ke(A,["finally",this.maybeBlock(C.finalizer,ee)])),A},SwitchStatement:function(C,_){var A,I,B,oe,de,Ee=this;if(lt(function(){A=["switch"+h+"(",Ee.generateExpression(C.discriminant,e.Sequence,$),")"+h+"{"+l]}),C.cases)for(de=ee,B=0,oe=C.cases.length;B<oe;++B)B===oe-1&&(de|=T),I=qt(this.generateStatement(C.cases[B],de)),A.push(I),ue(Ae(I).toString())||A.push(l);return A.push(qt("}")),A},SwitchCase:function(C,_){var A,I,B,oe,de,Ee=this;return lt(function(){for(C.test?A=[ke("case",Ee.generateExpression(C.test,e.Sequence,$)),":"]:A=["default:"],B=0,oe=C.consequent.length,oe&&C.consequent[0].type===t.BlockStatement&&(I=Ee.maybeBlock(C.consequent[0],ee),A.push(I),B=1),B!==oe&&!ue(Ae(A).toString())&&A.push(l),de=ee;B<oe;++B)B===oe-1&&_&T&&(de|=T),I=qt(Ee.generateStatement(C.consequent[B],de)),A.push(I),B+1!==oe&&!ue(Ae(I).toString())&&A.push(l)}),A},IfStatement:function(C,_){var A,I,B,oe=this;return lt(function(){A=["if"+h+"(",oe.generateExpression(C.test,e.Sequence,$),")"]}),B=_&T,I=ee,B&&(I|=T),C.alternate?(A.push(this.maybeBlock(C.consequent,ee)),A=this.maybeBlockSuffix(C.consequent,A),C.alternate.type===t.IfStatement?A=ke(A,["else ",this.generateStatement(C.alternate,I)]):A=ke(A,ke("else",this.maybeBlock(C.alternate,I)))):A.push(this.maybeBlock(C.consequent,I)),A},ForStatement:function(C,_){var A,I=this;return lt(function(){A=["for"+h+"("],C.init?C.init.type===t.VariableDeclaration?A.push(I.generateStatement(C.init,ce)):(A.push(I.generateExpression(C.init,e.Sequence,W)),A.push(";")):A.push(";"),C.test&&(A.push(h),A.push(I.generateExpression(C.test,e.Sequence,$))),A.push(";"),C.update&&(A.push(h),A.push(I.generateExpression(C.update,e.Sequence,$))),A.push(")")}),A.push(this.maybeBlock(C.body,_&T?me:ee)),A},ForInStatement:function(C,_){return this.generateIterationForStatement("in",C,_&T?me:ee)},ForOfStatement:function(C,_){return this.generateIterationForStatement("of",C,_&T?me:ee)},LabeledStatement:function(C,_){return[C.label.name+":",this.maybeBlock(C.body,_&T?me:ee)]},Program:function(C,_){var A,I,B,oe,de;for(oe=C.body.length,A=[v&&oe>0?`
`:""],de=ye,B=0;B<oe;++B)!v&&B===oe-1&&(de|=T),P&&(B===0&&(C.body[0].leadingComments||Hr(C.range[0],C.body[B].range[0],A)),B>0&&!C.body[B-1].trailingComments&&!C.body[B].leadingComments&&Hr(C.body[B-1].range[1],C.body[B].range[0],A)),I=qt(this.generateStatement(C.body[B],de)),A.push(I),B+1<oe&&!ue(Ae(I).toString())&&(P&&C.body[B+1].leadingComments||A.push(l)),P&&B===oe-1&&(C.body[B].trailingComments||Hr(C.body[B].range[1],C.range[1],A));return A},FunctionDeclaration:function(C,_){return[Vt(C,!0),"function",rt(C)||ze(),C.id?ft(C.id):"",this.generateFunctionBody(C)]},ReturnStatement:function(C,_){return C.argument?[ke("return",this.generateExpression(C.argument,e.Sequence,$)),this.semicolon(_)]:["return"+this.semicolon(_)]},WhileStatement:function(C,_){var A,I=this;return lt(function(){A=["while"+h+"(",I.generateExpression(C.test,e.Sequence,$),")"]}),A.push(this.maybeBlock(C.body,_&T?me:ee)),A},WithStatement:function(C,_){var A,I=this;return lt(function(){A=["with"+h+"(",I.generateExpression(C.object,e.Sequence,$),")"]}),A.push(this.maybeBlock(C.body,_&T?me:ee)),A}},pe(ct.prototype,ct.Statement),ct.Expression={SequenceExpression:function(C,_,A){var I,B,oe;for(e.Sequence<_&&(A|=N),I=[],B=0,oe=C.expressions.length;B<oe;++B)I.push(this.generateExpression(C.expressions[B],e.Assignment,A)),B+1<oe&&I.push(","+h);return wt(I,e.Sequence,_)},AssignmentExpression:function(C,_,A){return this.generateAssignment(C.left,C.right,C.operator,_,A)},ArrowFunctionExpression:function(C,_,A){return wt(this.generateFunctionBody(C),e.ArrowFunction,_)},ConditionalExpression:function(C,_,A){return e.Conditional<_&&(A|=N),wt([this.generateExpression(C.test,e.LogicalOR,A),h+"?"+h,this.generateExpression(C.consequent,e.Assignment,A),h+":"+h,this.generateExpression(C.alternate,e.Assignment,A)],e.Conditional,_)},LogicalExpression:function(C,_,A){return this.BinaryExpression(C,_,A)},BinaryExpression:function(C,_,A){var I,B,oe,de,Ee,Fe;return de=r[C.operator],B=C.operator==="**"?e.Postfix:de,oe=C.operator==="**"?de:de+1,de<_&&(A|=N),Ee=this.generateExpression(C.left,B,A),Fe=Ee.toString(),Fe.charCodeAt(Fe.length-1)===47&&s.code.isIdentifierPartES5(C.operator.charCodeAt(0))?I=[Ee,ze(),C.operator]:I=ke(Ee,C.operator),Ee=this.generateExpression(C.right,oe,A),C.operator==="/"&&Ee.toString().charAt(0)==="/"||C.operator.slice(-1)==="<"&&Ee.toString().slice(0,3)==="!--"?(I.push(ze()),I.push(Ee)):I=ke(I,Ee),C.operator==="in"&&!(A&N)?["(",I,")"]:wt(I,de,_)},CallExpression:function(C,_,A){var I,B,oe;for(I=[this.generateExpression(C.callee,e.Call,L)],I.push("("),B=0,oe=C.arguments.length;B<oe;++B)I.push(this.generateExpression(C.arguments[B],e.Assignment,$)),B+1<oe&&I.push(","+h);return I.push(")"),A&J?wt(I,e.Call,_):["(",I,")"]},NewExpression:function(C,_,A){var I,B,oe,de,Ee;if(B=C.arguments.length,Ee=A&K&&!y&&B===0?he:Z,I=ke("new",this.generateExpression(C.callee,e.New,Ee)),!(A&K)||y||B>0){for(I.push("("),oe=0,de=B;oe<de;++oe)I.push(this.generateExpression(C.arguments[oe],e.Assignment,$)),oe+1<de&&I.push(","+h);I.push(")")}return wt(I,e.New,_)},MemberExpression:function(C,_,A){var I,B;return I=[this.generateExpression(C.object,e.Call,A&J?L:Z)],C.computed?(I.push("["),I.push(this.generateExpression(C.property,e.Sequence,A&J?$:he)),I.push("]")):(C.object.type===t.Literal&&typeof C.object.value=="number"&&(B=Ae(I).toString(),B.indexOf(".")<0&&!/[eExX]/.test(B)&&s.code.isDecimalDigit(B.charCodeAt(B.length-1))&&!(B.length>=2&&B.charCodeAt(0)===48)&&I.push(" ")),I.push("."),I.push(ft(C.property))),wt(I,e.Member,_)},MetaProperty:function(C,_,A){var I;return I=[],I.push(typeof C.meta=="string"?C.meta:ft(C.meta)),I.push("."),I.push(typeof C.property=="string"?C.property:ft(C.property)),wt(I,e.Member,_)},UnaryExpression:function(C,_,A){var I,B,oe,de,Ee;return B=this.generateExpression(C.argument,e.Unary,$),h===""?I=ke(C.operator,B):(I=[C.operator],C.operator.length>2?I=ke(I,B):(de=Ae(I).toString(),Ee=de.charCodeAt(de.length-1),oe=B.toString().charCodeAt(0),((Ee===43||Ee===45)&&Ee===oe||s.code.isIdentifierPartES5(Ee)&&s.code.isIdentifierPartES5(oe))&&I.push(ze()),I.push(B))),wt(I,e.Unary,_)},YieldExpression:function(C,_,A){var I;return C.delegate?I="yield*":I="yield",C.argument&&(I=ke(I,this.generateExpression(C.argument,e.Yield,$))),wt(I,e.Yield,_)},AwaitExpression:function(C,_,A){var I=ke(C.all?"await*":"await",this.generateExpression(C.argument,e.Await,$));return wt(I,e.Await,_)},UpdateExpression:function(C,_,A){return C.prefix?wt([C.operator,this.generateExpression(C.argument,e.Unary,$)],e.Unary,_):wt([this.generateExpression(C.argument,e.Postfix,$),C.operator],e.Postfix,_)},FunctionExpression:function(C,_,A){var I=[Vt(C,!0),"function"];return C.id?(I.push(rt(C)||ze()),I.push(ft(C.id))):I.push(rt(C)||h),I.push(this.generateFunctionBody(C)),I},ArrayPattern:function(C,_,A){return this.ArrayExpression(C,_,A,!0)},ArrayExpression:function(C,_,A,I){var B,oe,de=this;return C.elements.length?(oe=I?!1:C.elements.length>1,B=["[",oe?l:""],lt(function(Ee){var Fe,Ye;for(Fe=0,Ye=C.elements.length;Fe<Ye;++Fe)C.elements[Fe]?(B.push(oe?Ee:""),B.push(de.generateExpression(C.elements[Fe],e.Assignment,$))):(oe&&B.push(Ee),Fe+1===Ye&&B.push(",")),Fe+1<Ye&&B.push(","+(oe?l:h))}),oe&&!ue(Ae(B).toString())&&B.push(l),B.push(oe?o:""),B.push("]"),B):"[]"},RestElement:function(C,_,A){return"..."+this.generatePattern(C.argument)},ClassExpression:function(C,_,A){var I,B;return I=["class"],C.id&&(I=ke(I,this.generateExpression(C.id,e.Sequence,$))),C.superClass&&(B=ke("extends",this.generateExpression(C.superClass,e.Unary,$)),I=ke(I,B)),I.push(h),I.push(this.generateStatement(C.body,me)),I},MethodDefinition:function(C,_,A){var I,B;return C.static?I=["static"+h]:I=[],C.kind==="get"||C.kind==="set"?B=[ke(C.kind,this.generatePropertyKey(C.key,C.computed)),this.generateFunctionBody(C.value)]:B=[ne(C),this.generatePropertyKey(C.key,C.computed),this.generateFunctionBody(C.value)],ke(I,B)},Property:function(C,_,A){return C.kind==="get"||C.kind==="set"?[C.kind,ze(),this.generatePropertyKey(C.key,C.computed),this.generateFunctionBody(C.value)]:C.shorthand?C.value.type==="AssignmentPattern"?this.AssignmentPattern(C.value,e.Sequence,$):this.generatePropertyKey(C.key,C.computed):C.method?[ne(C),this.generatePropertyKey(C.key,C.computed),this.generateFunctionBody(C.value)]:[this.generatePropertyKey(C.key,C.computed),":"+h,this.generateExpression(C.value,e.Assignment,$)]},ObjectExpression:function(C,_,A){var I,B,oe,de=this;return C.properties.length?(I=C.properties.length>1,lt(function(){oe=de.generateExpression(C.properties[0],e.Sequence,$)}),!I&&!te(Ae(oe).toString())?["{",h,oe,h,"}"]:(lt(function(Ee){var Fe,Ye;if(B=["{",l,Ee,oe],I)for(B.push(","+l),Fe=1,Ye=C.properties.length;Fe<Ye;++Fe)B.push(Ee),B.push(de.generateExpression(C.properties[Fe],e.Sequence,$)),Fe+1<Ye&&B.push(","+l)}),ue(Ae(B).toString())||B.push(l),B.push(o),B.push("}"),B)):"{}"},AssignmentPattern:function(C,_,A){return this.generateAssignment(C.left,C.right,"=",_,A)},ObjectPattern:function(C,_,A){var I,B,oe,de,Ee,Fe=this;if(!C.properties.length)return"{}";if(de=!1,C.properties.length===1)Ee=C.properties[0],Ee.type===t.Property&&Ee.value.type!==t.Identifier&&(de=!0);else for(B=0,oe=C.properties.length;B<oe;++B)if(Ee=C.properties[B],Ee.type===t.Property&&!Ee.shorthand){de=!0;break}return I=["{",de?l:""],lt(function(Ye){var It,Wi;for(It=0,Wi=C.properties.length;It<Wi;++It)I.push(de?Ye:""),I.push(Fe.generateExpression(C.properties[It],e.Sequence,$)),It+1<Wi&&I.push(","+(de?l:h))}),de&&!ue(Ae(I).toString())&&I.push(l),I.push(de?o:""),I.push("}"),I},ThisExpression:function(C,_,A){return"this"},Super:function(C,_,A){return"super"},Identifier:function(C,_,A){return ft(C)},ImportDefaultSpecifier:function(C,_,A){return ft(C.id||C.local)},ImportNamespaceSpecifier:function(C,_,A){var I=["*"],B=C.id||C.local;return B&&I.push(h+"as"+ze()+ft(B)),I},ImportSpecifier:function(C,_,A){var I=C.imported,B=[I.name],oe=C.local;return oe&&oe.name!==I.name&&B.push(ze()+"as"+ze()+ft(oe)),B},ExportSpecifier:function(C,_,A){var I=C.local,B=[I.name],oe=C.exported;return oe&&oe.name!==I.name&&B.push(ze()+"as"+ze()+ft(oe)),B},Literal:function(C,_,A){var I;if(C.hasOwnProperty("raw")&&E&&x.raw)try{if(I=E(C.raw).body[0].expression,I.type===t.Literal&&I.value===C.value)return C.raw}catch{}return C.regex?"/"+C.regex.pattern+"/"+C.regex.flags:C.value===null?"null":typeof C.value=="string"?Se(C.value):typeof C.value=="number"?U(C.value):typeof C.value=="boolean"?C.value?"true":"false":ge(C.value)},GeneratorExpression:function(C,_,A){return this.ComprehensionExpression(C,_,A)},ComprehensionExpression:function(C,_,A){var I,B,oe,de,Ee=this;return I=C.type===t.GeneratorExpression?["("]:["["],x.moz.comprehensionExpressionStartsWithAssignment&&(de=this.generateExpression(C.body,e.Assignment,$),I.push(de)),C.blocks&&lt(function(){for(B=0,oe=C.blocks.length;B<oe;++B)de=Ee.generateExpression(C.blocks[B],e.Sequence,$),B>0||x.moz.comprehensionExpressionStartsWithAssignment?I=ke(I,de):I.push(de)}),C.filter&&(I=ke(I,"if"+h),de=this.generateExpression(C.filter,e.Sequence,$),I=ke(I,["(",de,")"])),x.moz.comprehensionExpressionStartsWithAssignment||(de=this.generateExpression(C.body,e.Assignment,$),I=ke(I,de)),I.push(C.type===t.GeneratorExpression?")":"]"),I},ComprehensionBlock:function(C,_,A){var I;return C.left.type===t.VariableDeclaration?I=[C.left.kind,ze(),this.generateStatement(C.left.declarations[0],ce)]:I=this.generateExpression(C.left,e.Call,$),I=ke(I,C.of?"of":"in"),I=ke(I,this.generateExpression(C.right,e.Sequence,$)),["for"+h+"(",I,")"]},SpreadElement:function(C,_,A){return["...",this.generateExpression(C.argument,e.Assignment,$)]},TaggedTemplateExpression:function(C,_,A){var I=L;A&J||(I=Z);var B=[this.generateExpression(C.tag,e.Call,I),this.generateExpression(C.quasi,e.Primary,ie)];return wt(B,e.TaggedTemplate,_)},TemplateElement:function(C,_,A){return C.value.raw},TemplateLiteral:function(C,_,A){var I,B,oe;for(I=["`"],B=0,oe=C.quasis.length;B<oe;++B)I.push(this.generateExpression(C.quasis[B],e.Primary,$)),B+1<oe&&(I.push("${"+h),I.push(this.generateExpression(C.expressions[B],e.Sequence,$)),I.push(h+"}"));return I.push("`"),I},ModuleSpecifier:function(C,_,A){return this.Literal(C,_,A)},ImportExpression:function(C,_,A){return wt(["import(",this.generateExpression(C.source,e.Assignment,$),")"],e.Call,_)}},pe(ct.prototype,ct.Expression),ct.prototype.generateExpression=function(C,_,A){var I,B;return B=C.type||t.Property,x.verbatim&&C.hasOwnProperty(x.verbatim)?Bl(C,_):(I=this[B](C,_,A),x.comment&&(I=Ta(C,I)),Ae(I,C))},ct.prototype.generateStatement=function(C,_){var A,I;return A=this[C.type](C,_),x.comment&&(A=Ta(C,A)),I=Ae(A).toString(),C.type===t.Program&&!v&&l===""&&I.charAt(I.length-1)===`
`&&(A=S?Ae(A).replaceRight(/\s+$/,""):I.replace(/\s+$/,"")),Ae(A,C)};function Y(C){var _;if(_=new ct,R(C))return _.generateStatement(C,ee);if(j(C))return _.generateExpression(C,e.Sequence,$);throw new Error("Unknown node type: "+C.type)}function be(C,_){var A=fe(),I,B;return _!=null?(typeof _.indent=="string"&&(A.format.indent.style=_.indent),typeof _.base=="number"&&(A.format.indent.base=_.base),_=ve(A,_),a=_.format.indent.style,typeof _.base=="string"?o=_.base:o=se(a,_.format.indent.base)):(_=A,a=_.format.indent.style,o=se(a,_.format.indent.base)),u=_.format.json,f=_.format.renumber,c=u?!1:_.format.hexadecimal,d=u?"double":_.format.quotes,p=_.format.escapeless,l=_.format.newline,h=_.format.space,_.format.compact&&(l=h=a=o=""),y=_.format.parentheses,g=_.format.semicolons,v=_.format.safeConcatenation,b=_.directive,E=u?null:_.parse,S=_.sourceMap,F=_.sourceCode,P=_.format.preserveBlankLines&&F!==null,x=_,S&&(ws.browser?n=global.sourceMap.SourceNode:n=G2().SourceNode),I=Y(C),S?(B=I.toStringWithSourceMap({file:_.file,sourceRoot:_.sourceMapRoot}),_.sourceContent&&B.map.setSourceContent(_.sourceMap,_.sourceContent),_.sourceMapWithCode?B:B.map.toString()):(B={code:I.toString(),map:null},_.sourceMapWithCode?B:B.code)}V={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},H=fe().format,ws.version=J2().version,ws.generate=be,ws.attachComments=i.attachComments,ws.Precedence=ve({},e),ws.browser=!1,ws.FORMAT_MINIFY=V,ws.FORMAT_DEFAULTS=H})()});var X2=M((vf,cw)=>{(function(e,r){typeof vf=="object"&&typeof cw=="object"?cw.exports=r():typeof define=="function"&&define.amd?define([],r):typeof vf=="object"?vf.esprima=r():e.esprima=r()})(vf,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=t,r.c=e,r.p="",r(0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),i=r(3),s=r(8),o=r(15);function a(p,l,h){var y=null,g=function(V,H){h&&h(V,H),y&&y.visit(V,H)},v=typeof h=="function"?g:null,b=!1;if(l){b=typeof l.comment=="boolean"&&l.comment;var x=typeof l.attachComment=="boolean"&&l.attachComment;(b||x)&&(y=new n.CommentHandler,y.attach=x,l.comment=!0,v=g)}var E=!1;l&&typeof l.sourceType=="string"&&(E=l.sourceType==="module");var S;l&&typeof l.jsx=="boolean"&&l.jsx?S=new i.JSXParser(p,l,v):S=new s.Parser(p,l,v);var F=E?S.parseModule():S.parseScript(),P=F;return b&&y&&(P.comments=y.comments),S.config.tokens&&(P.tokens=S.tokens),S.config.tolerant&&(P.errors=S.errorHandler.errors),P}e.parse=a;function u(p,l,h){var y=l||{};return y.sourceType="module",a(p,y,h)}e.parseModule=u;function f(p,l,h){var y=l||{};return y.sourceType="script",a(p,y,h)}e.parseScript=f;function c(p,l,h){var y=new o.Tokenizer(p,l),g;g=[];try{for(;;){var v=y.getNextToken();if(!v)break;h&&(v=h(v)),g.push(v)}}catch(b){y.errorHandler.tolerate(b)}return y.errorHandler.tolerant&&(g.errors=y.errors()),g}e.tokenize=c;var d=r(2);e.Syntax=d.Syntax,e.version="4.0.1"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i=function(){function s(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return s.prototype.insertInnerComments=function(o,a){if(o.type===n.Syntax.BlockStatement&&o.body.length===0){for(var u=[],f=this.leading.length-1;f>=0;--f){var c=this.leading[f];a.end.offset>=c.start&&(u.unshift(c.comment),this.leading.splice(f,1),this.trailing.splice(f,1))}u.length&&(o.innerComments=u)}},s.prototype.findTrailingComments=function(o){var a=[];if(this.trailing.length>0){for(var u=this.trailing.length-1;u>=0;--u){var f=this.trailing[u];f.start>=o.end.offset&&a.unshift(f.comment)}return this.trailing.length=0,a}var c=this.stack[this.stack.length-1];if(c&&c.node.trailingComments){var d=c.node.trailingComments[0];d&&d.range[0]>=o.end.offset&&(a=c.node.trailingComments,delete c.node.trailingComments)}return a},s.prototype.findLeadingComments=function(o){for(var a=[],u;this.stack.length>0;){var f=this.stack[this.stack.length-1];if(f&&f.start>=o.start.offset)u=f.node,this.stack.pop();else break}if(u){for(var c=u.leadingComments?u.leadingComments.length:0,d=c-1;d>=0;--d){var p=u.leadingComments[d];p.range[1]<=o.start.offset&&(a.unshift(p),u.leadingComments.splice(d,1))}return u.leadingComments&&u.leadingComments.length===0&&delete u.leadingComments,a}for(var d=this.leading.length-1;d>=0;--d){var f=this.leading[d];f.start<=o.start.offset&&(a.unshift(f.comment),this.leading.splice(d,1))}return a},s.prototype.visitNode=function(o,a){if(!(o.type===n.Syntax.Program&&o.body.length>0)){this.insertInnerComments(o,a);var u=this.findTrailingComments(a),f=this.findLeadingComments(a);f.length>0&&(o.leadingComments=f),u.length>0&&(o.trailingComments=u),this.stack.push({node:o,start:a.start.offset})}},s.prototype.visitComment=function(o,a){var u=o.type[0]==="L"?"Line":"Block",f={type:u,value:o.value};if(o.range&&(f.range=o.range),o.loc&&(f.loc=o.loc),this.comments.push(f),this.attach){var c={comment:{type:u,value:o.value,range:[a.start.offset,a.end.offset]},start:a.start.offset};o.loc&&(c.comment.loc=o.loc),o.type=u,this.leading.push(c),this.trailing.push(c)}},s.prototype.visit=function(o,a){o.type==="LineComment"?this.visitComment(o,a):o.type==="BlockComment"?this.visitComment(o,a):this.attach&&this.visitNode(o,a)},s}();e.CommentHandler=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var g in y)y.hasOwnProperty(g)&&(h[g]=y[g])};return function(h,y){l(h,y);function g(){this.constructor=h}h.prototype=y===null?Object.create(y):(g.prototype=y.prototype,new g)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(4),s=r(5),o=r(6),a=r(7),u=r(8),f=r(13),c=r(14);f.TokenName[100]="JSXIdentifier",f.TokenName[101]="JSXText";function d(l){var h;switch(l.type){case o.JSXSyntax.JSXIdentifier:var y=l;h=y.name;break;case o.JSXSyntax.JSXNamespacedName:var g=l;h=d(g.namespace)+":"+d(g.name);break;case o.JSXSyntax.JSXMemberExpression:var v=l;h=d(v.object)+"."+d(v.property);break;default:break}return h}var p=function(l){n(h,l);function h(y,g,v){return l.call(this,y,g,v)||this}return h.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():l.prototype.parsePrimaryExpression.call(this)},h.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},h.prototype.finishJSX=function(){this.nextToken()},h.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},h.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},h.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},h.prototype.scanXHTMLEntity=function(y){for(var g="&",v=!0,b=!1,x=!1,E=!1;!this.scanner.eof()&&v&&!b;){var S=this.scanner.source[this.scanner.index];if(S===y)break;if(b=S===";",g+=S,++this.scanner.index,!b)switch(g.length){case 2:x=S==="#";break;case 3:x&&(E=S==="x",v=E||i.Character.isDecimalDigit(S.charCodeAt(0)),x=x&&!E);break;default:v=v&&!(x&&!i.Character.isDecimalDigit(S.charCodeAt(0))),v=v&&!(E&&!i.Character.isHexDigit(S.charCodeAt(0)));break}}if(v&&b&&g.length>2){var F=g.substr(1,g.length-2);x&&F.length>1?g=String.fromCharCode(parseInt(F.substr(1),10)):E&&F.length>2?g=String.fromCharCode(parseInt("0"+F.substr(1),16)):!x&&!E&&c.XHTMLEntities[F]&&(g=c.XHTMLEntities[F])}return g},h.prototype.lexJSX=function(){var y=this.scanner.source.charCodeAt(this.scanner.index);if(y===60||y===62||y===47||y===58||y===61||y===123||y===125){var g=this.scanner.source[this.scanner.index++];return{type:7,value:g,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(y===34||y===39){for(var v=this.scanner.index,b=this.scanner.source[this.scanner.index++],x="";!this.scanner.eof();){var E=this.scanner.source[this.scanner.index++];if(E===b)break;E==="&"?x+=this.scanXHTMLEntity(b):x+=E}return{type:8,value:x,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:v,end:this.scanner.index}}if(y===46){var S=this.scanner.source.charCodeAt(this.scanner.index+1),F=this.scanner.source.charCodeAt(this.scanner.index+2),g=S===46&&F===46?"...":".",v=this.scanner.index;return this.scanner.index+=g.length,{type:7,value:g,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:v,end:this.scanner.index}}if(y===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(i.Character.isIdentifierStart(y)&&y!==92){var v=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var E=this.scanner.source.charCodeAt(this.scanner.index);if(i.Character.isIdentifierPart(E)&&E!==92)++this.scanner.index;else if(E===45)++this.scanner.index;else break}var P=this.scanner.source.slice(v,this.scanner.index);return{type:100,value:P,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:v,end:this.scanner.index}}return this.scanner.lex()},h.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var y=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(y)),y},h.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var y=this.scanner.index,g="";!this.scanner.eof();){var v=this.scanner.source[this.scanner.index];if(v==="{"||v==="<")break;++this.scanner.index,g+=v,i.Character.isLineTerminator(v.charCodeAt(0))&&(++this.scanner.lineNumber,v==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var b={type:101,value:g,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:y,end:this.scanner.index};return g.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(b)),b},h.prototype.peekJSXToken=function(){var y=this.scanner.saveState();this.scanner.scanComments();var g=this.lexJSX();return this.scanner.restoreState(y),g},h.prototype.expectJSX=function(y){var g=this.nextJSXToken();(g.type!==7||g.value!==y)&&this.throwUnexpectedToken(g)},h.prototype.matchJSX=function(y){var g=this.peekJSXToken();return g.type===7&&g.value===y},h.prototype.parseJSXIdentifier=function(){var y=this.createJSXNode(),g=this.nextJSXToken();return g.type!==100&&this.throwUnexpectedToken(g),this.finalize(y,new s.JSXIdentifier(g.value))},h.prototype.parseJSXElementName=function(){var y=this.createJSXNode(),g=this.parseJSXIdentifier();if(this.matchJSX(":")){var v=g;this.expectJSX(":");var b=this.parseJSXIdentifier();g=this.finalize(y,new s.JSXNamespacedName(v,b))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var x=g;this.expectJSX(".");var E=this.parseJSXIdentifier();g=this.finalize(y,new s.JSXMemberExpression(x,E))}return g},h.prototype.parseJSXAttributeName=function(){var y=this.createJSXNode(),g,v=this.parseJSXIdentifier();if(this.matchJSX(":")){var b=v;this.expectJSX(":");var x=this.parseJSXIdentifier();g=this.finalize(y,new s.JSXNamespacedName(b,x))}else g=v;return g},h.prototype.parseJSXStringLiteralAttribute=function(){var y=this.createJSXNode(),g=this.nextJSXToken();g.type!==8&&this.throwUnexpectedToken(g);var v=this.getTokenRaw(g);return this.finalize(y,new a.Literal(g.value,v))},h.prototype.parseJSXExpressionAttribute=function(){var y=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var g=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(y,new s.JSXExpressionContainer(g))},h.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},h.prototype.parseJSXNameValueAttribute=function(){var y=this.createJSXNode(),g=this.parseJSXAttributeName(),v=null;return this.matchJSX("=")&&(this.expectJSX("="),v=this.parseJSXAttributeValue()),this.finalize(y,new s.JSXAttribute(g,v))},h.prototype.parseJSXSpreadAttribute=function(){var y=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var g=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(y,new s.JSXSpreadAttribute(g))},h.prototype.parseJSXAttributes=function(){for(var y=[];!this.matchJSX("/")&&!this.matchJSX(">");){var g=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();y.push(g)}return y},h.prototype.parseJSXOpeningElement=function(){var y=this.createJSXNode();this.expectJSX("<");var g=this.parseJSXElementName(),v=this.parseJSXAttributes(),b=this.matchJSX("/");return b&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(y,new s.JSXOpeningElement(g,b,v))},h.prototype.parseJSXBoundaryElement=function(){var y=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var g=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(y,new s.JSXClosingElement(g))}var v=this.parseJSXElementName(),b=this.parseJSXAttributes(),x=this.matchJSX("/");return x&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(y,new s.JSXOpeningElement(v,x,b))},h.prototype.parseJSXEmptyExpression=function(){var y=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(y,new s.JSXEmptyExpression)},h.prototype.parseJSXExpressionContainer=function(){var y=this.createJSXNode();this.expectJSX("{");var g;return this.matchJSX("}")?(g=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),g=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(y,new s.JSXExpressionContainer(g))},h.prototype.parseJSXChildren=function(){for(var y=[];!this.scanner.eof();){var g=this.createJSXChildNode(),v=this.nextJSXText();if(v.start<v.end){var b=this.getTokenRaw(v),x=this.finalize(g,new s.JSXText(v.value,b));y.push(x)}if(this.scanner.source[this.scanner.index]==="{"){var E=this.parseJSXExpressionContainer();y.push(E)}else break}return y},h.prototype.parseComplexJSXElement=function(y){for(var g=[];!this.scanner.eof();){y.children=y.children.concat(this.parseJSXChildren());var v=this.createJSXChildNode(),b=this.parseJSXBoundaryElement();if(b.type===o.JSXSyntax.JSXOpeningElement){var x=b;if(x.selfClosing){var E=this.finalize(v,new s.JSXElement(x,[],null));y.children.push(E)}else g.push(y),y={node:v,opening:x,closing:null,children:[]}}if(b.type===o.JSXSyntax.JSXClosingElement){y.closing=b;var S=d(y.opening.name),F=d(y.closing.name);if(S!==F&&this.tolerateError("Expected corresponding JSX closing tag for %0",S),g.length>0){var E=this.finalize(y.node,new s.JSXElement(y.opening,y.children,y.closing));y=g[g.length-1],y.children.push(E),g.pop()}else break}}return y},h.prototype.parseJSXElement=function(){var y=this.createJSXNode(),g=this.parseJSXOpeningElement(),v=[],b=null;if(!g.selfClosing){var x=this.parseComplexJSXElement({node:y,opening:g,closing:b,children:v});v=x.children,b=x.closing}return this.finalize(y,new s.JSXElement(g,v,b))},h.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var y=this.parseJSXElement();return this.finishJSX(),y},h.prototype.isStartOfExpression=function(){return l.prototype.isStartOfExpression.call(this)||this.match("<")},h}(u.Parser);e.JSXParser=p},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};e.Character={fromCodePoint:function(n){return n<65536?String.fromCharCode(n):String.fromCharCode(55296+(n-65536>>10))+String.fromCharCode(56320+(n-65536&1023))},isWhiteSpace:function(n){return n===32||n===9||n===11||n===12||n===160||n>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(n)>=0},isLineTerminator:function(n){return n===10||n===13||n===8232||n===8233},isIdentifierStart:function(n){return n===36||n===95||n>=65&&n<=90||n>=97&&n<=122||n===92||n>=128&&r.NonAsciiIdentifierStart.test(e.Character.fromCodePoint(n))},isIdentifierPart:function(n){return n===36||n===95||n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57||n===92||n>=128&&r.NonAsciiIdentifierPart.test(e.Character.fromCodePoint(n))},isDecimalDigit:function(n){return n>=48&&n<=57},isHexDigit:function(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102},isOctalDigit:function(n){return n>=48&&n<=55}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),i=function(){function y(g){this.type=n.JSXSyntax.JSXClosingElement,this.name=g}return y}();e.JSXClosingElement=i;var s=function(){function y(g,v,b){this.type=n.JSXSyntax.JSXElement,this.openingElement=g,this.children=v,this.closingElement=b}return y}();e.JSXElement=s;var o=function(){function y(){this.type=n.JSXSyntax.JSXEmptyExpression}return y}();e.JSXEmptyExpression=o;var a=function(){function y(g){this.type=n.JSXSyntax.JSXExpressionContainer,this.expression=g}return y}();e.JSXExpressionContainer=a;var u=function(){function y(g){this.type=n.JSXSyntax.JSXIdentifier,this.name=g}return y}();e.JSXIdentifier=u;var f=function(){function y(g,v){this.type=n.JSXSyntax.JSXMemberExpression,this.object=g,this.property=v}return y}();e.JSXMemberExpression=f;var c=function(){function y(g,v){this.type=n.JSXSyntax.JSXAttribute,this.name=g,this.value=v}return y}();e.JSXAttribute=c;var d=function(){function y(g,v){this.type=n.JSXSyntax.JSXNamespacedName,this.namespace=g,this.name=v}return y}();e.JSXNamespacedName=d;var p=function(){function y(g,v,b){this.type=n.JSXSyntax.JSXOpeningElement,this.name=g,this.selfClosing=v,this.attributes=b}return y}();e.JSXOpeningElement=p;var l=function(){function y(g){this.type=n.JSXSyntax.JSXSpreadAttribute,this.argument=g}return y}();e.JSXSpreadAttribute=l;var h=function(){function y(g,v){this.type=n.JSXSyntax.JSXText,this.value=g,this.raw=v}return y}();e.JSXText=h},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i=function(){function ne(Y){this.type=n.Syntax.ArrayExpression,this.elements=Y}return ne}();e.ArrayExpression=i;var s=function(){function ne(Y){this.type=n.Syntax.ArrayPattern,this.elements=Y}return ne}();e.ArrayPattern=s;var o=function(){function ne(Y,be,C){this.type=n.Syntax.ArrowFunctionExpression,this.id=null,this.params=Y,this.body=be,this.generator=!1,this.expression=C,this.async=!1}return ne}();e.ArrowFunctionExpression=o;var a=function(){function ne(Y,be,C){this.type=n.Syntax.AssignmentExpression,this.operator=Y,this.left=be,this.right=C}return ne}();e.AssignmentExpression=a;var u=function(){function ne(Y,be){this.type=n.Syntax.AssignmentPattern,this.left=Y,this.right=be}return ne}();e.AssignmentPattern=u;var f=function(){function ne(Y,be,C){this.type=n.Syntax.ArrowFunctionExpression,this.id=null,this.params=Y,this.body=be,this.generator=!1,this.expression=C,this.async=!0}return ne}();e.AsyncArrowFunctionExpression=f;var c=function(){function ne(Y,be,C){this.type=n.Syntax.FunctionDeclaration,this.id=Y,this.params=be,this.body=C,this.generator=!1,this.expression=!1,this.async=!0}return ne}();e.AsyncFunctionDeclaration=c;var d=function(){function ne(Y,be,C){this.type=n.Syntax.FunctionExpression,this.id=Y,this.params=be,this.body=C,this.generator=!1,this.expression=!1,this.async=!0}return ne}();e.AsyncFunctionExpression=d;var p=function(){function ne(Y){this.type=n.Syntax.AwaitExpression,this.argument=Y}return ne}();e.AwaitExpression=p;var l=function(){function ne(Y,be,C){var _=Y==="||"||Y==="&&";this.type=_?n.Syntax.LogicalExpression:n.Syntax.BinaryExpression,this.operator=Y,this.left=be,this.right=C}return ne}();e.BinaryExpression=l;var h=function(){function ne(Y){this.type=n.Syntax.BlockStatement,this.body=Y}return ne}();e.BlockStatement=h;var y=function(){function ne(Y){this.type=n.Syntax.BreakStatement,this.label=Y}return ne}();e.BreakStatement=y;var g=function(){function ne(Y,be){this.type=n.Syntax.CallExpression,this.callee=Y,this.arguments=be}return ne}();e.CallExpression=g;var v=function(){function ne(Y,be){this.type=n.Syntax.CatchClause,this.param=Y,this.body=be}return ne}();e.CatchClause=v;var b=function(){function ne(Y){this.type=n.Syntax.ClassBody,this.body=Y}return ne}();e.ClassBody=b;var x=function(){function ne(Y,be,C){this.type=n.Syntax.ClassDeclaration,this.id=Y,this.superClass=be,this.body=C}return ne}();e.ClassDeclaration=x;var E=function(){function ne(Y,be,C){this.type=n.Syntax.ClassExpression,this.id=Y,this.superClass=be,this.body=C}return ne}();e.ClassExpression=E;var S=function(){function ne(Y,be){this.type=n.Syntax.MemberExpression,this.computed=!0,this.object=Y,this.property=be}return ne}();e.ComputedMemberExpression=S;var F=function(){function ne(Y,be,C){this.type=n.Syntax.ConditionalExpression,this.test=Y,this.consequent=be,this.alternate=C}return ne}();e.ConditionalExpression=F;var P=function(){function ne(Y){this.type=n.Syntax.ContinueStatement,this.label=Y}return ne}();e.ContinueStatement=P;var V=function(){function ne(){this.type=n.Syntax.DebuggerStatement}return ne}();e.DebuggerStatement=V;var H=function(){function ne(Y,be){this.type=n.Syntax.ExpressionStatement,this.expression=Y,this.directive=be}return ne}();e.Directive=H;var j=function(){function ne(Y,be){this.type=n.Syntax.DoWhileStatement,this.body=Y,this.test=be}return ne}();e.DoWhileStatement=j;var R=function(){function ne(){this.type=n.Syntax.EmptyStatement}return ne}();e.EmptyStatement=R;var N=function(){function ne(Y){this.type=n.Syntax.ExportAllDeclaration,this.source=Y}return ne}();e.ExportAllDeclaration=N;var J=function(){function ne(Y){this.type=n.Syntax.ExportDefaultDeclaration,this.declaration=Y}return ne}();e.ExportDefaultDeclaration=J;var K=function(){function ne(Y,be,C){this.type=n.Syntax.ExportNamedDeclaration,this.declaration=Y,this.specifiers=be,this.source=C}return ne}();e.ExportNamedDeclaration=K;var X=function(){function ne(Y,be){this.type=n.Syntax.ExportSpecifier,this.exported=be,this.local=Y}return ne}();e.ExportSpecifier=X;var z=function(){function ne(Y){this.type=n.Syntax.ExpressionStatement,this.expression=Y}return ne}();e.ExpressionStatement=z;var T=function(){function ne(Y,be,C){this.type=n.Syntax.ForInStatement,this.left=Y,this.right=be,this.body=C,this.each=!1}return ne}();e.ForInStatement=T;var W=function(){function ne(Y,be,C){this.type=n.Syntax.ForOfStatement,this.left=Y,this.right=be,this.body=C}return ne}();e.ForOfStatement=W;var L=function(){function ne(Y,be,C,_){this.type=n.Syntax.ForStatement,this.init=Y,this.test=be,this.update=C,this.body=_}return ne}();e.ForStatement=L;var $=function(){function ne(Y,be,C,_){this.type=n.Syntax.FunctionDeclaration,this.id=Y,this.params=be,this.body=C,this.generator=_,this.expression=!1,this.async=!1}return ne}();e.FunctionDeclaration=$;var Z=function(){function ne(Y,be,C,_){this.type=n.Syntax.FunctionExpression,this.id=Y,this.params=be,this.body=C,this.generator=_,this.expression=!1,this.async=!1}return ne}();e.FunctionExpression=Z;var ie=function(){function ne(Y){this.type=n.Syntax.Identifier,this.name=Y}return ne}();e.Identifier=ie;var he=function(){function ne(Y,be,C){this.type=n.Syntax.IfStatement,this.test=Y,this.consequent=be,this.alternate=C}return ne}();e.IfStatement=he;var ee=function(){function ne(Y,be){this.type=n.Syntax.ImportDeclaration,this.specifiers=Y,this.source=be}return ne}();e.ImportDeclaration=ee;var me=function(){function ne(Y){this.type=n.Syntax.ImportDefaultSpecifier,this.local=Y}return ne}();e.ImportDefaultSpecifier=me;var ce=function(){function ne(Y){this.type=n.Syntax.ImportNamespaceSpecifier,this.local=Y}return ne}();e.ImportNamespaceSpecifier=ce;var ye=function(){function ne(Y,be){this.type=n.Syntax.ImportSpecifier,this.local=Y,this.imported=be}return ne}();e.ImportSpecifier=ye;var Le=function(){function ne(Y,be){this.type=n.Syntax.LabeledStatement,this.label=Y,this.body=be}return ne}();e.LabeledStatement=Le;var fe=function(){function ne(Y,be){this.type=n.Syntax.Literal,this.value=Y,this.raw=be}return ne}();e.Literal=fe;var se=function(){function ne(Y,be){this.type=n.Syntax.MetaProperty,this.meta=Y,this.property=be}return ne}();e.MetaProperty=se;var te=function(){function ne(Y,be,C,_,A){this.type=n.Syntax.MethodDefinition,this.key=Y,this.computed=be,this.value=C,this.kind=_,this.static=A}return ne}();e.MethodDefinition=te;var ue=function(){function ne(Y){this.type=n.Syntax.Program,this.body=Y,this.sourceType="module"}return ne}();e.Module=ue;var pe=function(){function ne(Y,be){this.type=n.Syntax.NewExpression,this.callee=Y,this.arguments=be}return ne}();e.NewExpression=pe;var ve=function(){function ne(Y){this.type=n.Syntax.ObjectExpression,this.properties=Y}return ne}();e.ObjectExpression=ve;var U=function(){function ne(Y){this.type=n.Syntax.ObjectPattern,this.properties=Y}return ne}();e.ObjectPattern=U;var G=function(){function ne(Y,be,C,_,A,I){this.type=n.Syntax.Property,this.key=be,this.computed=C,this.value=_,this.kind=Y,this.method=A,this.shorthand=I}return ne}();e.Property=G;var ge=function(){function ne(Y,be,C,_){this.type=n.Syntax.Literal,this.value=Y,this.raw=be,this.regex={pattern:C,flags:_}}return ne}();e.RegexLiteral=ge;var ae=function(){function ne(Y){this.type=n.Syntax.RestElement,this.argument=Y}return ne}();e.RestElement=ae;var Q=function(){function ne(Y){this.type=n.Syntax.ReturnStatement,this.argument=Y}return ne}();e.ReturnStatement=Q;var _e=function(){function ne(Y){this.type=n.Syntax.Program,this.body=Y,this.sourceType="script"}return ne}();e.Script=_e;var Se=function(){function ne(Y){this.type=n.Syntax.SequenceExpression,this.expressions=Y}return ne}();e.SequenceExpression=Se;var Pe=function(){function ne(Y){this.type=n.Syntax.SpreadElement,this.argument=Y}return ne}();e.SpreadElement=Pe;var Ae=function(){function ne(Y,be){this.type=n.Syntax.MemberExpression,this.computed=!1,this.object=Y,this.property=be}return ne}();e.StaticMemberExpression=Ae;var ze=function(){function ne(){this.type=n.Syntax.Super}return ne}();e.Super=ze;var ke=function(){function ne(Y,be){this.type=n.Syntax.SwitchCase,this.test=Y,this.consequent=be}return ne}();e.SwitchCase=ke;var qt=function(){function ne(Y,be){this.type=n.Syntax.SwitchStatement,this.discriminant=Y,this.cases=be}return ne}();e.SwitchStatement=qt;var lt=function(){function ne(Y,be){this.type=n.Syntax.TaggedTemplateExpression,this.tag=Y,this.quasi=be}return ne}();e.TaggedTemplateExpression=lt;var $e=function(){function ne(Y,be){this.type=n.Syntax.TemplateElement,this.value=Y,this.tail=be}return ne}();e.TemplateElement=$e;var Eo=function(){function ne(Y,be){this.type=n.Syntax.TemplateLiteral,this.quasis=Y,this.expressions=be}return ne}();e.TemplateLiteral=Eo;var un=function(){function ne(){this.type=n.Syntax.ThisExpression}return ne}();e.ThisExpression=un;var Ta=function(){function ne(Y){this.type=n.Syntax.ThrowStatement,this.argument=Y}return ne}();e.ThrowStatement=Ta;var Hr=function(){function ne(Y,be,C){this.type=n.Syntax.TryStatement,this.block=Y,this.handler=be,this.finalizer=C}return ne}();e.TryStatement=Hr;var wt=function(){function ne(Y,be){this.type=n.Syntax.UnaryExpression,this.operator=Y,this.argument=be,this.prefix=!0}return ne}();e.UnaryExpression=wt;var bo=function(){function ne(Y,be,C){this.type=n.Syntax.UpdateExpression,this.operator=Y,this.argument=be,this.prefix=C}return ne}();e.UpdateExpression=bo;var Bl=function(){function ne(Y,be){this.type=n.Syntax.VariableDeclaration,this.declarations=Y,this.kind=be}return ne}();e.VariableDeclaration=Bl;var ct=function(){function ne(Y,be){this.type=n.Syntax.VariableDeclarator,this.id=Y,this.init=be}return ne}();e.VariableDeclarator=ct;var ft=function(){function ne(Y,be){this.type=n.Syntax.WhileStatement,this.test=Y,this.body=be}return ne}();e.WhileStatement=ft;var Vt=function(){function ne(Y,be){this.type=n.Syntax.WithStatement,this.object=Y,this.body=be}return ne}();e.WithStatement=Vt;var rt=function(){function ne(Y,be){this.type=n.Syntax.YieldExpression,this.argument=Y,this.delegate=be}return ne}();e.YieldExpression=rt},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9),i=r(10),s=r(11),o=r(7),a=r(12),u=r(2),f=r(13),c="ArrowParameterPlaceHolder",d=function(){function p(l,h,y){h===void 0&&(h={}),this.config={range:typeof h.range=="boolean"&&h.range,loc:typeof h.loc=="boolean"&&h.loc,source:null,tokens:typeof h.tokens=="boolean"&&h.tokens,comment:typeof h.comment=="boolean"&&h.comment,tolerant:typeof h.tolerant=="boolean"&&h.tolerant},this.config.loc&&h.source&&h.source!==null&&(this.config.source=String(h.source)),this.delegate=y,this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new a.Scanner(l,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return p.prototype.throwError=function(l){for(var h=[],y=1;y<arguments.length;y++)h[y-1]=arguments[y];var g=Array.prototype.slice.call(arguments,1),v=l.replace(/%(\d)/g,function(S,F){return n.assert(F<g.length,"Message reference must be in range"),g[F]}),b=this.lastMarker.index,x=this.lastMarker.line,E=this.lastMarker.column+1;throw this.errorHandler.createError(b,x,E,v)},p.prototype.tolerateError=function(l){for(var h=[],y=1;y<arguments.length;y++)h[y-1]=arguments[y];var g=Array.prototype.slice.call(arguments,1),v=l.replace(/%(\d)/g,function(S,F){return n.assert(F<g.length,"Message reference must be in range"),g[F]}),b=this.lastMarker.index,x=this.scanner.lineNumber,E=this.lastMarker.column+1;this.errorHandler.tolerateError(b,x,E,v)},p.prototype.unexpectedTokenError=function(l,h){var y=h||s.Messages.UnexpectedToken,g;if(l?(h||(y=l.type===2?s.Messages.UnexpectedEOS:l.type===3?s.Messages.UnexpectedIdentifier:l.type===6?s.Messages.UnexpectedNumber:l.type===8?s.Messages.UnexpectedString:l.type===10?s.Messages.UnexpectedTemplate:s.Messages.UnexpectedToken,l.type===4&&(this.scanner.isFutureReservedWord(l.value)?y=s.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(l.value)&&(y=s.Messages.StrictReservedWord))),g=l.value):g="ILLEGAL",y=y.replace("%0",g),l&&typeof l.lineNumber=="number"){var v=l.start,b=l.lineNumber,x=this.lastMarker.index-this.lastMarker.column,E=l.start-x+1;return this.errorHandler.createError(v,b,E,y)}else{var v=this.lastMarker.index,b=this.lastMarker.line,E=this.lastMarker.column+1;return this.errorHandler.createError(v,b,E,y)}},p.prototype.throwUnexpectedToken=function(l,h){throw this.unexpectedTokenError(l,h)},p.prototype.tolerateUnexpectedToken=function(l,h){this.errorHandler.tolerate(this.unexpectedTokenError(l,h))},p.prototype.collectComments=function(){if(!this.config.comment)this.scanner.scanComments();else{var l=this.scanner.scanComments();if(l.length>0&&this.delegate)for(var h=0;h<l.length;++h){var y=l[h],g=void 0;g={type:y.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(y.slice[0],y.slice[1])},this.config.range&&(g.range=y.range),this.config.loc&&(g.loc=y.loc);var v={start:{line:y.loc.start.line,column:y.loc.start.column,offset:y.range[0]},end:{line:y.loc.end.line,column:y.loc.end.column,offset:y.range[1]}};this.delegate(g,v)}}},p.prototype.getTokenRaw=function(l){return this.scanner.source.slice(l.start,l.end)},p.prototype.convertToken=function(l){var h={type:f.TokenName[l.type],value:this.getTokenRaw(l)};if(this.config.range&&(h.range=[l.start,l.end]),this.config.loc&&(h.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),l.type===9){var y=l.pattern,g=l.flags;h.regex={pattern:y,flags:g}}return h},p.prototype.nextToken=function(){var l=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var h=this.scanner.lex();return this.hasLineTerminator=l.lineNumber!==h.lineNumber,h&&this.context.strict&&h.type===3&&this.scanner.isStrictModeReservedWord(h.value)&&(h.type=4),this.lookahead=h,this.config.tokens&&h.type!==2&&this.tokens.push(this.convertToken(h)),l},p.prototype.nextRegexToken=function(){this.collectComments();var l=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(l))),this.lookahead=l,this.nextToken(),l},p.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},p.prototype.startNode=function(l,h){h===void 0&&(h=0);var y=l.start-l.lineStart,g=l.lineNumber;return y<0&&(y+=h,g--),{index:l.start,line:g,column:y}},p.prototype.finalize=function(l,h){if(this.config.range&&(h.range=[l.index,this.lastMarker.index]),this.config.loc&&(h.loc={start:{line:l.line,column:l.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(h.loc.source=this.config.source)),this.delegate){var y={start:{line:l.line,column:l.column,offset:l.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(h,y)}return h},p.prototype.expect=function(l){var h=this.nextToken();(h.type!==7||h.value!==l)&&this.throwUnexpectedToken(h)},p.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var l=this.lookahead;l.type===7&&l.value===","?this.nextToken():l.type===7&&l.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(l)):this.tolerateUnexpectedToken(l,s.Messages.UnexpectedToken)}else this.expect(",")},p.prototype.expectKeyword=function(l){var h=this.nextToken();(h.type!==4||h.value!==l)&&this.throwUnexpectedToken(h)},p.prototype.match=function(l){return this.lookahead.type===7&&this.lookahead.value===l},p.prototype.matchKeyword=function(l){return this.lookahead.type===4&&this.lookahead.value===l},p.prototype.matchContextualKeyword=function(l){return this.lookahead.type===3&&this.lookahead.value===l},p.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var l=this.lookahead.value;return l==="="||l==="*="||l==="**="||l==="/="||l==="%="||l==="+="||l==="-="||l==="<<="||l===">>="||l===">>>="||l==="&="||l==="^="||l==="|="},p.prototype.isolateCoverGrammar=function(l){var h=this.context.isBindingElement,y=this.context.isAssignmentTarget,g=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var v=l.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=h,this.context.isAssignmentTarget=y,this.context.firstCoverInitializedNameError=g,v},p.prototype.inheritCoverGrammar=function(l){var h=this.context.isBindingElement,y=this.context.isAssignmentTarget,g=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var v=l.call(this);return this.context.isBindingElement=this.context.isBindingElement&&h,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&y,this.context.firstCoverInitializedNameError=g||this.context.firstCoverInitializedNameError,v},p.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type!==2&&!this.match("}")&&this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},p.prototype.parsePrimaryExpression=function(){var l=this.createNode(),h,y,g;switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),h=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(l,new o.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,y=this.nextToken(),g=this.getTokenRaw(y),h=this.finalize(l,new o.Literal(y.value,g));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,y=this.nextToken(),g=this.getTokenRaw(y),h=this.finalize(l,new o.Literal(y.value==="true",g));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,y=this.nextToken(),g=this.getTokenRaw(y),h=this.finalize(l,new o.Literal(null,g));break;case 10:h=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,h=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":h=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":h=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,y=this.nextRegexToken(),g=this.getTokenRaw(y),h=this.finalize(l,new o.RegexLiteral(y.regex,g,y.pattern,y.flags));break;default:h=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?h=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?h=this.finalize(l,new o.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?h=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),h=this.finalize(l,new o.ThisExpression)):this.matchKeyword("class")?h=this.parseClassExpression():h=this.throwUnexpectedToken(this.nextToken()));break;default:h=this.throwUnexpectedToken(this.nextToken())}return h},p.prototype.parseSpreadElement=function(){var l=this.createNode();this.expect("...");var h=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(l,new o.SpreadElement(h))},p.prototype.parseArrayInitializer=function(){var l=this.createNode(),h=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),h.push(null);else if(this.match("...")){var y=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),h.push(y)}else h.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(l,new o.ArrayExpression(h))},p.prototype.parsePropertyMethod=function(l){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var h=this.context.strict,y=this.context.allowStrictDirective;this.context.allowStrictDirective=l.simple;var g=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&l.firstRestricted&&this.tolerateUnexpectedToken(l.firstRestricted,l.message),this.context.strict&&l.stricted&&this.tolerateUnexpectedToken(l.stricted,l.message),this.context.strict=h,this.context.allowStrictDirective=y,g},p.prototype.parsePropertyMethodFunction=function(){var l=!1,h=this.createNode(),y=this.context.allowYield;this.context.allowYield=!0;var g=this.parseFormalParameters(),v=this.parsePropertyMethod(g);return this.context.allowYield=y,this.finalize(h,new o.FunctionExpression(null,g.params,v,l))},p.prototype.parsePropertyMethodAsyncFunction=function(){var l=this.createNode(),h=this.context.allowYield,y=this.context.await;this.context.allowYield=!1,this.context.await=!0;var g=this.parseFormalParameters(),v=this.parsePropertyMethod(g);return this.context.allowYield=h,this.context.await=y,this.finalize(l,new o.AsyncFunctionExpression(null,g.params,v))},p.prototype.parseObjectPropertyKey=function(){var l=this.createNode(),h=this.nextToken(),y;switch(h.type){case 8:case 6:this.context.strict&&h.octal&&this.tolerateUnexpectedToken(h,s.Messages.StrictOctalLiteral);var g=this.getTokenRaw(h);y=this.finalize(l,new o.Literal(h.value,g));break;case 3:case 1:case 5:case 4:y=this.finalize(l,new o.Identifier(h.value));break;case 7:h.value==="["?(y=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):y=this.throwUnexpectedToken(h);break;default:y=this.throwUnexpectedToken(h)}return y},p.prototype.isPropertyKey=function(l,h){return l.type===u.Syntax.Identifier&&l.name===h||l.type===u.Syntax.Literal&&l.value===h},p.prototype.parseObjectProperty=function(l){var h=this.createNode(),y=this.lookahead,g,v=null,b=null,x=!1,E=!1,S=!1,F=!1;if(y.type===3){var P=y.value;this.nextToken(),x=this.match("["),F=!this.hasLineTerminator&&P==="async"&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","),v=F?this.parseObjectPropertyKey():this.finalize(h,new o.Identifier(P))}else this.match("*")?this.nextToken():(x=this.match("["),v=this.parseObjectPropertyKey());var V=this.qualifiedPropertyName(this.lookahead);if(y.type===3&&!F&&y.value==="get"&&V)g="get",x=this.match("["),v=this.parseObjectPropertyKey(),this.context.allowYield=!1,b=this.parseGetterMethod();else if(y.type===3&&!F&&y.value==="set"&&V)g="set",x=this.match("["),v=this.parseObjectPropertyKey(),b=this.parseSetterMethod();else if(y.type===7&&y.value==="*"&&V)g="init",x=this.match("["),v=this.parseObjectPropertyKey(),b=this.parseGeneratorMethod(),E=!0;else if(v||this.throwUnexpectedToken(this.lookahead),g="init",this.match(":")&&!F)!x&&this.isPropertyKey(v,"__proto__")&&(l.value&&this.tolerateError(s.Messages.DuplicateProtoProperty),l.value=!0),this.nextToken(),b=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))b=F?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),E=!0;else if(y.type===3){var P=this.finalize(h,new o.Identifier(y.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),S=!0;var H=this.isolateCoverGrammar(this.parseAssignmentExpression);b=this.finalize(h,new o.AssignmentPattern(P,H))}else S=!0,b=P}else this.throwUnexpectedToken(this.nextToken());return this.finalize(h,new o.Property(g,v,x,b,E,S))},p.prototype.parseObjectInitializer=function(){var l=this.createNode();this.expect("{");for(var h=[],y={value:!1};!this.match("}");)h.push(this.parseObjectProperty(y)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(l,new o.ObjectExpression(h))},p.prototype.parseTemplateHead=function(){n.assert(this.lookahead.head,"Template literal must start with a template head");var l=this.createNode(),h=this.nextToken(),y=h.value,g=h.cooked;return this.finalize(l,new o.TemplateElement({raw:y,cooked:g},h.tail))},p.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var l=this.createNode(),h=this.nextToken(),y=h.value,g=h.cooked;return this.finalize(l,new o.TemplateElement({raw:y,cooked:g},h.tail))},p.prototype.parseTemplateLiteral=function(){var l=this.createNode(),h=[],y=[],g=this.parseTemplateHead();for(y.push(g);!g.tail;)h.push(this.parseExpression()),g=this.parseTemplateElement(),y.push(g);return this.finalize(l,new o.TemplateLiteral(y,h))},p.prototype.reinterpretExpressionAsPattern=function(l){switch(l.type){case u.Syntax.Identifier:case u.Syntax.MemberExpression:case u.Syntax.RestElement:case u.Syntax.AssignmentPattern:break;case u.Syntax.SpreadElement:l.type=u.Syntax.RestElement,this.reinterpretExpressionAsPattern(l.argument);break;case u.Syntax.ArrayExpression:l.type=u.Syntax.ArrayPattern;for(var h=0;h<l.elements.length;h++)l.elements[h]!==null&&this.reinterpretExpressionAsPattern(l.elements[h]);break;case u.Syntax.ObjectExpression:l.type=u.Syntax.ObjectPattern;for(var h=0;h<l.properties.length;h++)this.reinterpretExpressionAsPattern(l.properties[h].value);break;case u.Syntax.AssignmentExpression:l.type=u.Syntax.AssignmentPattern,delete l.operator,this.reinterpretExpressionAsPattern(l.left);break;default:break}},p.prototype.parseGroupExpression=function(){var l;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),l={type:c,params:[],async:!1};else{var h=this.lookahead,y=[];if(this.match("..."))l=this.parseRestElement(y),this.expect(")"),this.match("=>")||this.expect("=>"),l={type:c,params:[l],async:!1};else{var g=!1;if(this.context.isBindingElement=!0,l=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var v=[];for(this.context.isAssignmentTarget=!1,v.push(l);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var b=0;b<v.length;b++)this.reinterpretExpressionAsPattern(v[b]);g=!0,l={type:c,params:v,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),v.push(this.parseRestElement(y)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(var b=0;b<v.length;b++)this.reinterpretExpressionAsPattern(v[b]);g=!0,l={type:c,params:v,async:!1}}else v.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(g)break}g||(l=this.finalize(this.startNode(h),new o.SequenceExpression(v)))}if(!g){if(this.expect(")"),this.match("=>")&&(l.type===u.Syntax.Identifier&&l.name==="yield"&&(g=!0,l={type:c,params:[l],async:!1}),!g)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),l.type===u.Syntax.SequenceExpression)for(var b=0;b<l.expressions.length;b++)this.reinterpretExpressionAsPattern(l.expressions[b]);else this.reinterpretExpressionAsPattern(l);var x=l.type===u.Syntax.SequenceExpression?l.expressions:[l];l={type:c,params:x,async:!1}}this.context.isBindingElement=!1}}}return l},p.prototype.parseArguments=function(){this.expect("(");var l=[];if(!this.match(")"))for(;;){var h=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(l.push(h),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),l},p.prototype.isIdentifierName=function(l){return l.type===3||l.type===4||l.type===1||l.type===5},p.prototype.parseIdentifierName=function(){var l=this.createNode(),h=this.nextToken();return this.isIdentifierName(h)||this.throwUnexpectedToken(h),this.finalize(l,new o.Identifier(h.value))},p.prototype.parseNewExpression=function(){var l=this.createNode(),h=this.parseIdentifierName();n.assert(h.name==="new","New expression must start with `new`");var y;if(this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var g=this.parseIdentifierName();y=new o.MetaProperty(h,g)}else this.throwUnexpectedToken(this.lookahead);else{var v=this.isolateCoverGrammar(this.parseLeftHandSideExpression),b=this.match("(")?this.parseArguments():[];y=new o.NewExpression(v,b),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(l,y)},p.prototype.parseAsyncArgument=function(){var l=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,l},p.prototype.parseAsyncArguments=function(){this.expect("(");var l=[];if(!this.match(")"))for(;;){var h=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(l.push(h),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),l},p.prototype.parseLeftHandSideExpressionAllowCall=function(){var l=this.lookahead,h=this.matchContextualKeyword("async"),y=this.context.allowIn;this.context.allowIn=!0;var g;for(this.matchKeyword("super")&&this.context.inFunctionBody?(g=this.createNode(),this.nextToken(),g=this.finalize(g,new o.Super),!this.match("(")&&!this.match(".")&&!this.match("[")&&this.throwUnexpectedToken(this.lookahead)):g=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var v=this.parseIdentifierName();g=this.finalize(this.startNode(l),new o.StaticMemberExpression(g,v))}else if(this.match("(")){var b=h&&l.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var x=b?this.parseAsyncArguments():this.parseArguments();if(g=this.finalize(this.startNode(l),new o.CallExpression(g,x)),b&&this.match("=>")){for(var E=0;E<x.length;++E)this.reinterpretExpressionAsPattern(x[E]);g={type:c,params:x,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var v=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),g=this.finalize(this.startNode(l),new o.ComputedMemberExpression(g,v))}else if(this.lookahead.type===10&&this.lookahead.head){var S=this.parseTemplateLiteral();g=this.finalize(this.startNode(l),new o.TaggedTemplateExpression(g,S))}else break;return this.context.allowIn=y,g},p.prototype.parseSuper=function(){var l=this.createNode();return this.expectKeyword("super"),!this.match("[")&&!this.match(".")&&this.throwUnexpectedToken(this.lookahead),this.finalize(l,new o.Super)},p.prototype.parseLeftHandSideExpression=function(){n.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var l=this.startNode(this.lookahead),h=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var y=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),h=this.finalize(l,new o.ComputedMemberExpression(h,y))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var y=this.parseIdentifierName();h=this.finalize(l,new o.StaticMemberExpression(h,y))}else if(this.lookahead.type===10&&this.lookahead.head){var g=this.parseTemplateLiteral();h=this.finalize(l,new o.TaggedTemplateExpression(h,g))}else break;return h},p.prototype.parseUpdateExpression=function(){var l,h=this.lookahead;if(this.match("++")||this.match("--")){var y=this.startNode(h),g=this.nextToken();l=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&l.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(l.name)&&this.tolerateError(s.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment);var v=!0;l=this.finalize(y,new o.UpdateExpression(g.value,l,v)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(l=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&l.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(l.name)&&this.tolerateError(s.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var b=this.nextToken().value,v=!1;l=this.finalize(this.startNode(h),new o.UpdateExpression(b,l,v))}return l},p.prototype.parseAwaitExpression=function(){var l=this.createNode();this.nextToken();var h=this.parseUnaryExpression();return this.finalize(l,new o.AwaitExpression(h))},p.prototype.parseUnaryExpression=function(){var l;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var h=this.startNode(this.lookahead),y=this.nextToken();l=this.inheritCoverGrammar(this.parseUnaryExpression),l=this.finalize(h,new o.UnaryExpression(y.value,l)),this.context.strict&&l.operator==="delete"&&l.argument.type===u.Syntax.Identifier&&this.tolerateError(s.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else this.context.await&&this.matchContextualKeyword("await")?l=this.parseAwaitExpression():l=this.parseUpdateExpression();return l},p.prototype.parseExponentiationExpression=function(){var l=this.lookahead,h=this.inheritCoverGrammar(this.parseUnaryExpression);if(h.type!==u.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var y=h,g=this.isolateCoverGrammar(this.parseExponentiationExpression);h=this.finalize(this.startNode(l),new o.BinaryExpression("**",y,g))}return h},p.prototype.binaryPrecedence=function(l){var h=l.value,y;return l.type===7?y=this.operatorPrecedence[h]||0:l.type===4?y=h==="instanceof"||this.context.allowIn&&h==="in"?7:0:y=0,y},p.prototype.parseBinaryExpression=function(){var l=this.lookahead,h=this.inheritCoverGrammar(this.parseExponentiationExpression),y=this.lookahead,g=this.binaryPrecedence(y);if(g>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var v=[l,this.lookahead],b=h,x=this.isolateCoverGrammar(this.parseExponentiationExpression),E=[b,y.value,x],S=[g];g=this.binaryPrecedence(this.lookahead),!(g<=0);){for(;E.length>2&&g<=S[S.length-1];){x=E.pop();var F=E.pop();S.pop(),b=E.pop(),v.pop();var P=this.startNode(v[v.length-1]);E.push(this.finalize(P,new o.BinaryExpression(F,b,x)))}E.push(this.nextToken().value),S.push(g),v.push(this.lookahead),E.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var V=E.length-1;h=E[V];for(var H=v.pop();V>1;){var j=v.pop(),R=H&&H.lineStart,P=this.startNode(j,R),F=E[V-1];h=this.finalize(P,new o.BinaryExpression(F,E[V-2],h)),V-=2,H=j}}return h},p.prototype.parseConditionalExpression=function(){var l=this.lookahead,h=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var y=this.context.allowIn;this.context.allowIn=!0;var g=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=y,this.expect(":");var v=this.isolateCoverGrammar(this.parseAssignmentExpression);h=this.finalize(this.startNode(l),new o.ConditionalExpression(h,g,v)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return h},p.prototype.checkPatternParam=function(l,h){switch(h.type){case u.Syntax.Identifier:this.validateParam(l,h,h.name);break;case u.Syntax.RestElement:this.checkPatternParam(l,h.argument);break;case u.Syntax.AssignmentPattern:this.checkPatternParam(l,h.left);break;case u.Syntax.ArrayPattern:for(var y=0;y<h.elements.length;y++)h.elements[y]!==null&&this.checkPatternParam(l,h.elements[y]);break;case u.Syntax.ObjectPattern:for(var y=0;y<h.properties.length;y++)this.checkPatternParam(l,h.properties[y].value);break;default:break}l.simple=l.simple&&h instanceof o.Identifier},p.prototype.reinterpretAsCoverFormalsList=function(l){var h=[l],y,g=!1;switch(l.type){case u.Syntax.Identifier:break;case c:h=l.params,g=l.async;break;default:return null}y={simple:!0,paramSet:{}};for(var v=0;v<h.length;++v){var b=h[v];b.type===u.Syntax.AssignmentPattern?b.right.type===u.Syntax.YieldExpression&&(b.right.argument&&this.throwUnexpectedToken(this.lookahead),b.right.type=u.Syntax.Identifier,b.right.name="yield",delete b.right.argument,delete b.right.delegate):g&&b.type===u.Syntax.Identifier&&b.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(y,b),h[v]=b}if(this.context.strict||!this.context.allowYield)for(var v=0;v<h.length;++v){var b=h[v];b.type===u.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(y.message===s.Messages.StrictParamDupe){var x=this.context.strict?y.stricted:y.firstRestricted;this.throwUnexpectedToken(x,y.message)}return{simple:y.simple,params:h,stricted:y.stricted,firstRestricted:y.firstRestricted,message:y.message}},p.prototype.parseAssignmentExpression=function(){var l;if(!this.context.allowYield&&this.matchKeyword("yield"))l=this.parseYieldExpression();else{var h=this.lookahead,y=h;if(l=this.parseConditionalExpression(),y.type===3&&y.lineNumber===this.lookahead.lineNumber&&y.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var g=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(g),l={type:c,params:[g],async:!0}}if(l.type===c||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var v=l.async,b=this.reinterpretAsCoverFormalsList(l);if(b){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var x=this.context.strict,E=this.context.allowStrictDirective;this.context.allowStrictDirective=b.simple;var S=this.context.allowYield,F=this.context.await;this.context.allowYield=!0,this.context.await=v;var P=this.startNode(h);this.expect("=>");var V=void 0;if(this.match("{")){var H=this.context.allowIn;this.context.allowIn=!0,V=this.parseFunctionSourceElements(),this.context.allowIn=H}else V=this.isolateCoverGrammar(this.parseAssignmentExpression);var j=V.type!==u.Syntax.BlockStatement;this.context.strict&&b.firstRestricted&&this.throwUnexpectedToken(b.firstRestricted,b.message),this.context.strict&&b.stricted&&this.tolerateUnexpectedToken(b.stricted,b.message),l=v?this.finalize(P,new o.AsyncArrowFunctionExpression(b.params,V,j)):this.finalize(P,new o.ArrowFunctionExpression(b.params,V,j)),this.context.strict=x,this.context.allowStrictDirective=E,this.context.allowYield=S,this.context.await=F}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.strict&&l.type===u.Syntax.Identifier){var R=l;this.scanner.isRestrictedWord(R.name)&&this.tolerateUnexpectedToken(y,s.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(R.name)&&this.tolerateUnexpectedToken(y,s.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(l):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),y=this.nextToken();var N=y.value,J=this.isolateCoverGrammar(this.parseAssignmentExpression);l=this.finalize(this.startNode(h),new o.AssignmentExpression(N,l,J)),this.context.firstCoverInitializedNameError=null}}return l},p.prototype.parseExpression=function(){var l=this.lookahead,h=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var y=[];for(y.push(h);this.lookahead.type!==2&&this.match(",");)this.nextToken(),y.push(this.isolateCoverGrammar(this.parseAssignmentExpression));h=this.finalize(this.startNode(l),new o.SequenceExpression(y))}return h},p.prototype.parseStatementListItem=function(){var l;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalExportDeclaration),l=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalImportDeclaration),l=this.parseImportDeclaration();break;case"const":l=this.parseLexicalDeclaration({inFor:!1});break;case"function":l=this.parseFunctionDeclaration();break;case"class":l=this.parseClassDeclaration();break;case"let":l=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:l=this.parseStatement();break}else l=this.parseStatement();return l},p.prototype.parseBlock=function(){var l=this.createNode();this.expect("{");for(var h=[];!this.match("}");)h.push(this.parseStatementListItem());return this.expect("}"),this.finalize(l,new o.BlockStatement(h))},p.prototype.parseLexicalBinding=function(l,h){var y=this.createNode(),g=[],v=this.parsePattern(g,l);this.context.strict&&v.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(v.name)&&this.tolerateError(s.Messages.StrictVarName);var b=null;return l==="const"?!this.matchKeyword("in")&&!this.matchContextualKeyword("of")&&(this.match("=")?(this.nextToken(),b=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(s.Messages.DeclarationMissingInitializer,"const")):(!h.inFor&&v.type!==u.Syntax.Identifier||this.match("="))&&(this.expect("="),b=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(y,new o.VariableDeclarator(v,b))},p.prototype.parseBindingList=function(l,h){for(var y=[this.parseLexicalBinding(l,h)];this.match(",");)this.nextToken(),y.push(this.parseLexicalBinding(l,h));return y},p.prototype.isLexicalDeclaration=function(){var l=this.scanner.saveState();this.scanner.scanComments();var h=this.scanner.lex();return this.scanner.restoreState(l),h.type===3||h.type===7&&h.value==="["||h.type===7&&h.value==="{"||h.type===4&&h.value==="let"||h.type===4&&h.value==="yield"},p.prototype.parseLexicalDeclaration=function(l){var h=this.createNode(),y=this.nextToken().value;n.assert(y==="let"||y==="const","Lexical declaration must be either let or const");var g=this.parseBindingList(y,l);return this.consumeSemicolon(),this.finalize(h,new o.VariableDeclaration(g,y))},p.prototype.parseBindingRestElement=function(l,h){var y=this.createNode();this.expect("...");var g=this.parsePattern(l,h);return this.finalize(y,new o.RestElement(g))},p.prototype.parseArrayPattern=function(l,h){var y=this.createNode();this.expect("[");for(var g=[];!this.match("]");)if(this.match(","))this.nextToken(),g.push(null);else{if(this.match("...")){g.push(this.parseBindingRestElement(l,h));break}else g.push(this.parsePatternWithDefault(l,h));this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(y,new o.ArrayPattern(g))},p.prototype.parsePropertyPattern=function(l,h){var y=this.createNode(),g=!1,v=!1,b=!1,x,E;if(this.lookahead.type===3){var S=this.lookahead;x=this.parseVariableIdentifier();var F=this.finalize(y,new o.Identifier(S.value));if(this.match("=")){l.push(S),v=!0,this.nextToken();var P=this.parseAssignmentExpression();E=this.finalize(this.startNode(S),new o.AssignmentPattern(F,P))}else this.match(":")?(this.expect(":"),E=this.parsePatternWithDefault(l,h)):(l.push(S),v=!0,E=F)}else g=this.match("["),x=this.parseObjectPropertyKey(),this.expect(":"),E=this.parsePatternWithDefault(l,h);return this.finalize(y,new o.Property("init",x,g,E,b,v))},p.prototype.parseObjectPattern=function(l,h){var y=this.createNode(),g=[];for(this.expect("{");!this.match("}");)g.push(this.parsePropertyPattern(l,h)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(y,new o.ObjectPattern(g))},p.prototype.parsePattern=function(l,h){var y;return this.match("[")?y=this.parseArrayPattern(l,h):this.match("{")?y=this.parseObjectPattern(l,h):(this.matchKeyword("let")&&(h==="const"||h==="let")&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.LetInLexicalBinding),l.push(this.lookahead),y=this.parseVariableIdentifier(h)),y},p.prototype.parsePatternWithDefault=function(l,h){var y=this.lookahead,g=this.parsePattern(l,h);if(this.match("=")){this.nextToken();var v=this.context.allowYield;this.context.allowYield=!0;var b=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=v,g=this.finalize(this.startNode(y),new o.AssignmentPattern(g,b))}return g},p.prototype.parseVariableIdentifier=function(l){var h=this.createNode(),y=this.nextToken();return y.type===4&&y.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(y,s.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(y):y.type!==3?this.context.strict&&y.type===4&&this.scanner.isStrictModeReservedWord(y.value)?this.tolerateUnexpectedToken(y,s.Messages.StrictReservedWord):(this.context.strict||y.value!=="let"||l!=="var")&&this.throwUnexpectedToken(y):(this.context.isModule||this.context.await)&&y.type===3&&y.value==="await"&&this.tolerateUnexpectedToken(y),this.finalize(h,new o.Identifier(y.value))},p.prototype.parseVariableDeclaration=function(l){var h=this.createNode(),y=[],g=this.parsePattern(y,"var");this.context.strict&&g.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(g.name)&&this.tolerateError(s.Messages.StrictVarName);var v=null;return this.match("=")?(this.nextToken(),v=this.isolateCoverGrammar(this.parseAssignmentExpression)):g.type!==u.Syntax.Identifier&&!l.inFor&&this.expect("="),this.finalize(h,new o.VariableDeclarator(g,v))},p.prototype.parseVariableDeclarationList=function(l){var h={inFor:l.inFor},y=[];for(y.push(this.parseVariableDeclaration(h));this.match(",");)this.nextToken(),y.push(this.parseVariableDeclaration(h));return y},p.prototype.parseVariableStatement=function(){var l=this.createNode();this.expectKeyword("var");var h=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(l,new o.VariableDeclaration(h,"var"))},p.prototype.parseEmptyStatement=function(){var l=this.createNode();return this.expect(";"),this.finalize(l,new o.EmptyStatement)},p.prototype.parseExpressionStatement=function(){var l=this.createNode(),h=this.parseExpression();return this.consumeSemicolon(),this.finalize(l,new o.ExpressionStatement(h))},p.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(s.Messages.StrictFunction),this.parseStatement()},p.prototype.parseIfStatement=function(){var l=this.createNode(),h,y=null;this.expectKeyword("if"),this.expect("(");var g=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),h=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),h=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),y=this.parseIfClause())),this.finalize(l,new o.IfStatement(g,h,y))},p.prototype.parseDoWhileStatement=function(){var l=this.createNode();this.expectKeyword("do");var h=this.context.inIteration;this.context.inIteration=!0;var y=this.parseStatement();this.context.inIteration=h,this.expectKeyword("while"),this.expect("(");var g=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(l,new o.DoWhileStatement(y,g))},p.prototype.parseWhileStatement=function(){var l=this.createNode(),h;this.expectKeyword("while"),this.expect("(");var y=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),h=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var g=this.context.inIteration;this.context.inIteration=!0,h=this.parseStatement(),this.context.inIteration=g}return this.finalize(l,new o.WhileStatement(y,h))},p.prototype.parseForStatement=function(){var l=null,h=null,y=null,g=!0,v,b,x=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){l=this.createNode(),this.nextToken();var E=this.context.allowIn;this.context.allowIn=!1;var S=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=E,S.length===1&&this.matchKeyword("in")){var F=S[0];F.init&&(F.id.type===u.Syntax.ArrayPattern||F.id.type===u.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(s.Messages.ForInOfLoopInitializer,"for-in"),l=this.finalize(l,new o.VariableDeclaration(S,"var")),this.nextToken(),v=l,b=this.parseExpression(),l=null}else S.length===1&&S[0].init===null&&this.matchContextualKeyword("of")?(l=this.finalize(l,new o.VariableDeclaration(S,"var")),this.nextToken(),v=l,b=this.parseAssignmentExpression(),l=null,g=!1):(l=this.finalize(l,new o.VariableDeclaration(S,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){l=this.createNode();var P=this.nextToken().value;if(!this.context.strict&&this.lookahead.value==="in")l=this.finalize(l,new o.Identifier(P)),this.nextToken(),v=l,b=this.parseExpression(),l=null;else{var E=this.context.allowIn;this.context.allowIn=!1;var S=this.parseBindingList(P,{inFor:!0});this.context.allowIn=E,S.length===1&&S[0].init===null&&this.matchKeyword("in")?(l=this.finalize(l,new o.VariableDeclaration(S,P)),this.nextToken(),v=l,b=this.parseExpression(),l=null):S.length===1&&S[0].init===null&&this.matchContextualKeyword("of")?(l=this.finalize(l,new o.VariableDeclaration(S,P)),this.nextToken(),v=l,b=this.parseAssignmentExpression(),l=null,g=!1):(this.consumeSemicolon(),l=this.finalize(l,new o.VariableDeclaration(S,P)))}}else{var V=this.lookahead,E=this.context.allowIn;if(this.context.allowIn=!1,l=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=E,this.matchKeyword("in"))(!this.context.isAssignmentTarget||l.type===u.Syntax.AssignmentExpression)&&this.tolerateError(s.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(l),v=l,b=this.parseExpression(),l=null;else if(this.matchContextualKeyword("of"))(!this.context.isAssignmentTarget||l.type===u.Syntax.AssignmentExpression)&&this.tolerateError(s.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(l),v=l,b=this.parseAssignmentExpression(),l=null,g=!1;else{if(this.match(",")){for(var H=[l];this.match(",");)this.nextToken(),H.push(this.isolateCoverGrammar(this.parseAssignmentExpression));l=this.finalize(this.startNode(V),new o.SequenceExpression(H))}this.expect(";")}}typeof v>"u"&&(this.match(";")||(h=this.parseExpression()),this.expect(";"),this.match(")")||(y=this.parseExpression()));var j;if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),j=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var R=this.context.inIteration;this.context.inIteration=!0,j=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=R}return typeof v>"u"?this.finalize(x,new o.ForStatement(l,h,y,j)):g?this.finalize(x,new o.ForInStatement(v,b,j)):this.finalize(x,new o.ForOfStatement(v,b,j))},p.prototype.parseContinueStatement=function(){var l=this.createNode();this.expectKeyword("continue");var h=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var y=this.parseVariableIdentifier();h=y;var g="$"+y.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,g)||this.throwError(s.Messages.UnknownLabel,y.name)}return this.consumeSemicolon(),h===null&&!this.context.inIteration&&this.throwError(s.Messages.IllegalContinue),this.finalize(l,new o.ContinueStatement(h))},p.prototype.parseBreakStatement=function(){var l=this.createNode();this.expectKeyword("break");var h=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var y=this.parseVariableIdentifier(),g="$"+y.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,g)||this.throwError(s.Messages.UnknownLabel,y.name),h=y}return this.consumeSemicolon(),h===null&&!this.context.inIteration&&!this.context.inSwitch&&this.throwError(s.Messages.IllegalBreak),this.finalize(l,new o.BreakStatement(h))},p.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(s.Messages.IllegalReturn);var l=this.createNode();this.expectKeyword("return");var h=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&this.lookahead.type!==2||this.lookahead.type===8||this.lookahead.type===10,y=h?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(l,new o.ReturnStatement(y))},p.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(s.Messages.StrictModeWith);var l=this.createNode(),h;this.expectKeyword("with"),this.expect("(");var y=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),h=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),h=this.parseStatement()),this.finalize(l,new o.WithStatement(y,h))},p.prototype.parseSwitchCase=function(){var l=this.createNode(),h;this.matchKeyword("default")?(this.nextToken(),h=null):(this.expectKeyword("case"),h=this.parseExpression()),this.expect(":");for(var y=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)y.push(this.parseStatementListItem());return this.finalize(l,new o.SwitchCase(h,y))},p.prototype.parseSwitchStatement=function(){var l=this.createNode();this.expectKeyword("switch"),this.expect("(");var h=this.parseExpression();this.expect(")");var y=this.context.inSwitch;this.context.inSwitch=!0;var g=[],v=!1;for(this.expect("{");!this.match("}");){var b=this.parseSwitchCase();b.test===null&&(v&&this.throwError(s.Messages.MultipleDefaultsInSwitch),v=!0),g.push(b)}return this.expect("}"),this.context.inSwitch=y,this.finalize(l,new o.SwitchStatement(h,g))},p.prototype.parseLabelledStatement=function(){var l=this.createNode(),h=this.parseExpression(),y;if(h.type===u.Syntax.Identifier&&this.match(":")){this.nextToken();var g=h,v="$"+g.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,v)&&this.throwError(s.Messages.Redeclaration,"Label",g.name),this.context.labelSet[v]=!0;var b=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),b=this.parseClassDeclaration();else if(this.matchKeyword("function")){var x=this.lookahead,E=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(x,s.Messages.StrictFunction):E.generator&&this.tolerateUnexpectedToken(x,s.Messages.GeneratorInLegacyContext),b=E}else b=this.parseStatement();delete this.context.labelSet[v],y=new o.LabeledStatement(g,b)}else this.consumeSemicolon(),y=new o.ExpressionStatement(h);return this.finalize(l,y)},p.prototype.parseThrowStatement=function(){var l=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(s.Messages.NewlineAfterThrow);var h=this.parseExpression();return this.consumeSemicolon(),this.finalize(l,new o.ThrowStatement(h))},p.prototype.parseCatchClause=function(){var l=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var h=[],y=this.parsePattern(h),g={},v=0;v<h.length;v++){var b="$"+h[v].value;Object.prototype.hasOwnProperty.call(g,b)&&this.tolerateError(s.Messages.DuplicateBinding,h[v].value),g[b]=!0}this.context.strict&&y.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(y.name)&&this.tolerateError(s.Messages.StrictCatchVariable),this.expect(")");var x=this.parseBlock();return this.finalize(l,new o.CatchClause(y,x))},p.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},p.prototype.parseTryStatement=function(){var l=this.createNode();this.expectKeyword("try");var h=this.parseBlock(),y=this.matchKeyword("catch")?this.parseCatchClause():null,g=this.matchKeyword("finally")?this.parseFinallyClause():null;return!y&&!g&&this.throwError(s.Messages.NoCatchOrFinally),this.finalize(l,new o.TryStatement(h,y,g))},p.prototype.parseDebuggerStatement=function(){var l=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(l,new o.DebuggerStatement)},p.prototype.parseStatement=function(){var l;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:l=this.parseExpressionStatement();break;case 7:var h=this.lookahead.value;h==="{"?l=this.parseBlock():h==="("?l=this.parseExpressionStatement():h===";"?l=this.parseEmptyStatement():l=this.parseExpressionStatement();break;case 3:l=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":l=this.parseBreakStatement();break;case"continue":l=this.parseContinueStatement();break;case"debugger":l=this.parseDebuggerStatement();break;case"do":l=this.parseDoWhileStatement();break;case"for":l=this.parseForStatement();break;case"function":l=this.parseFunctionDeclaration();break;case"if":l=this.parseIfStatement();break;case"return":l=this.parseReturnStatement();break;case"switch":l=this.parseSwitchStatement();break;case"throw":l=this.parseThrowStatement();break;case"try":l=this.parseTryStatement();break;case"var":l=this.parseVariableStatement();break;case"while":l=this.parseWhileStatement();break;case"with":l=this.parseWithStatement();break;default:l=this.parseExpressionStatement();break}break;default:l=this.throwUnexpectedToken(this.lookahead)}return l},p.prototype.parseFunctionSourceElements=function(){var l=this.createNode();this.expect("{");var h=this.parseDirectivePrologues(),y=this.context.labelSet,g=this.context.inIteration,v=this.context.inSwitch,b=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)h.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=y,this.context.inIteration=g,this.context.inSwitch=v,this.context.inFunctionBody=b,this.finalize(l,new o.BlockStatement(h))},p.prototype.validateParam=function(l,h,y){var g="$"+y;this.context.strict?(this.scanner.isRestrictedWord(y)&&(l.stricted=h,l.message=s.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(l.paramSet,g)&&(l.stricted=h,l.message=s.Messages.StrictParamDupe)):l.firstRestricted||(this.scanner.isRestrictedWord(y)?(l.firstRestricted=h,l.message=s.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(y)?(l.firstRestricted=h,l.message=s.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(l.paramSet,g)&&(l.stricted=h,l.message=s.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(l.paramSet,g,{value:!0,enumerable:!0,writable:!0,configurable:!0}):l.paramSet[g]=!0},p.prototype.parseRestElement=function(l){var h=this.createNode();this.expect("...");var y=this.parsePattern(l);return this.match("=")&&this.throwError(s.Messages.DefaultRestParameter),this.match(")")||this.throwError(s.Messages.ParameterAfterRestParameter),this.finalize(h,new o.RestElement(y))},p.prototype.parseFormalParameter=function(l){for(var h=[],y=this.match("...")?this.parseRestElement(h):this.parsePatternWithDefault(h),g=0;g<h.length;g++)this.validateParam(l,h[g],h[g].value);l.simple=l.simple&&y instanceof o.Identifier,l.params.push(y)},p.prototype.parseFormalParameters=function(l){var h;if(h={simple:!0,params:[],firstRestricted:l},this.expect("("),!this.match(")"))for(h.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(h),!(this.match(")")||(this.expect(","),this.match(")")))););return this.expect(")"),{simple:h.simple,params:h.params,stricted:h.stricted,firstRestricted:h.firstRestricted,message:h.message}},p.prototype.matchAsyncFunction=function(){var l=this.matchContextualKeyword("async");if(l){var h=this.scanner.saveState();this.scanner.scanComments();var y=this.scanner.lex();this.scanner.restoreState(h),l=h.lineNumber===y.lineNumber&&y.type===4&&y.value==="function"}return l},p.prototype.parseFunctionDeclaration=function(l){var h=this.createNode(),y=this.matchContextualKeyword("async");y&&this.nextToken(),this.expectKeyword("function");var g=y?!1:this.match("*");g&&this.nextToken();var v,b=null,x=null;if(!l||!this.match("(")){var E=this.lookahead;b=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(E.value)&&this.tolerateUnexpectedToken(E,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(E.value)?(x=E,v=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(E.value)&&(x=E,v=s.Messages.StrictReservedWord)}var S=this.context.await,F=this.context.allowYield;this.context.await=y,this.context.allowYield=!g;var P=this.parseFormalParameters(x),V=P.params,H=P.stricted;x=P.firstRestricted,P.message&&(v=P.message);var j=this.context.strict,R=this.context.allowStrictDirective;this.context.allowStrictDirective=P.simple;var N=this.parseFunctionSourceElements();return this.context.strict&&x&&this.throwUnexpectedToken(x,v),this.context.strict&&H&&this.tolerateUnexpectedToken(H,v),this.context.strict=j,this.context.allowStrictDirective=R,this.context.await=S,this.context.allowYield=F,y?this.finalize(h,new o.AsyncFunctionDeclaration(b,V,N)):this.finalize(h,new o.FunctionDeclaration(b,V,N,g))},p.prototype.parseFunctionExpression=function(){var l=this.createNode(),h=this.matchContextualKeyword("async");h&&this.nextToken(),this.expectKeyword("function");var y=h?!1:this.match("*");y&&this.nextToken();var g,v=null,b,x=this.context.await,E=this.context.allowYield;if(this.context.await=h,this.context.allowYield=!y,!this.match("(")){var S=this.lookahead;v=!this.context.strict&&!y&&this.matchKeyword("yield")?this.parseIdentifierName():this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(S.value)&&this.tolerateUnexpectedToken(S,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(S.value)?(b=S,g=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(S.value)&&(b=S,g=s.Messages.StrictReservedWord)}var F=this.parseFormalParameters(b),P=F.params,V=F.stricted;b=F.firstRestricted,F.message&&(g=F.message);var H=this.context.strict,j=this.context.allowStrictDirective;this.context.allowStrictDirective=F.simple;var R=this.parseFunctionSourceElements();return this.context.strict&&b&&this.throwUnexpectedToken(b,g),this.context.strict&&V&&this.tolerateUnexpectedToken(V,g),this.context.strict=H,this.context.allowStrictDirective=j,this.context.await=x,this.context.allowYield=E,h?this.finalize(l,new o.AsyncFunctionExpression(v,P,R)):this.finalize(l,new o.FunctionExpression(v,P,R,y))},p.prototype.parseDirective=function(){var l=this.lookahead,h=this.createNode(),y=this.parseExpression(),g=y.type===u.Syntax.Literal?this.getTokenRaw(l).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(h,g?new o.Directive(y,g):new o.ExpressionStatement(y))},p.prototype.parseDirectivePrologues=function(){for(var l=null,h=[];;){var y=this.lookahead;if(y.type!==8)break;var g=this.parseDirective();h.push(g);var v=g.directive;if(typeof v!="string")break;v==="use strict"?(this.context.strict=!0,l&&this.tolerateUnexpectedToken(l,s.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(y,s.Messages.IllegalLanguageModeDirective)):!l&&y.octal&&(l=y)}return h},p.prototype.qualifiedPropertyName=function(l){switch(l.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return l.value==="[";default:break}return!1},p.prototype.parseGetterMethod=function(){var l=this.createNode(),h=!1,y=this.context.allowYield;this.context.allowYield=!h;var g=this.parseFormalParameters();g.params.length>0&&this.tolerateError(s.Messages.BadGetterArity);var v=this.parsePropertyMethod(g);return this.context.allowYield=y,this.finalize(l,new o.FunctionExpression(null,g.params,v,h))},p.prototype.parseSetterMethod=function(){var l=this.createNode(),h=!1,y=this.context.allowYield;this.context.allowYield=!h;var g=this.parseFormalParameters();g.params.length!==1?this.tolerateError(s.Messages.BadSetterArity):g.params[0]instanceof o.RestElement&&this.tolerateError(s.Messages.BadSetterRestParameter);var v=this.parsePropertyMethod(g);return this.context.allowYield=y,this.finalize(l,new o.FunctionExpression(null,g.params,v,h))},p.prototype.parseGeneratorMethod=function(){var l=this.createNode(),h=!0,y=this.context.allowYield;this.context.allowYield=!0;var g=this.parseFormalParameters();this.context.allowYield=!1;var v=this.parsePropertyMethod(g);return this.context.allowYield=y,this.finalize(l,new o.FunctionExpression(null,g.params,v,h))},p.prototype.isStartOfExpression=function(){var l=!0,h=this.lookahead.value;switch(this.lookahead.type){case 7:l=h==="["||h==="("||h==="{"||h==="+"||h==="-"||h==="!"||h==="~"||h==="++"||h==="--"||h==="/"||h==="/=";break;case 4:l=h==="class"||h==="delete"||h==="function"||h==="let"||h==="new"||h==="super"||h==="this"||h==="typeof"||h==="void"||h==="yield";break;default:break}return l},p.prototype.parseYieldExpression=function(){var l=this.createNode();this.expectKeyword("yield");var h=null,y=!1;if(!this.hasLineTerminator){var g=this.context.allowYield;this.context.allowYield=!1,y=this.match("*"),y?(this.nextToken(),h=this.parseAssignmentExpression()):this.isStartOfExpression()&&(h=this.parseAssignmentExpression()),this.context.allowYield=g}return this.finalize(l,new o.YieldExpression(h,y))},p.prototype.parseClassElement=function(l){var h=this.lookahead,y=this.createNode(),g="",v=null,b=null,x=!1,E=!1,S=!1,F=!1;if(this.match("*"))this.nextToken();else{x=this.match("["),v=this.parseObjectPropertyKey();var P=v;if(P.name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(h=this.lookahead,S=!0,x=this.match("["),this.match("*")?this.nextToken():v=this.parseObjectPropertyKey()),h.type===3&&!this.hasLineTerminator&&h.value==="async"){var V=this.lookahead.value;V!==":"&&V!=="("&&V!=="*"&&(F=!0,h=this.lookahead,v=this.parseObjectPropertyKey(),h.type===3&&h.value==="constructor"&&this.tolerateUnexpectedToken(h,s.Messages.ConstructorIsAsync))}}var H=this.qualifiedPropertyName(this.lookahead);return h.type===3?h.value==="get"&&H?(g="get",x=this.match("["),v=this.parseObjectPropertyKey(),this.context.allowYield=!1,b=this.parseGetterMethod()):h.value==="set"&&H&&(g="set",x=this.match("["),v=this.parseObjectPropertyKey(),b=this.parseSetterMethod()):h.type===7&&h.value==="*"&&H&&(g="init",x=this.match("["),v=this.parseObjectPropertyKey(),b=this.parseGeneratorMethod(),E=!0),!g&&v&&this.match("(")&&(g="init",b=F?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),E=!0),g||this.throwUnexpectedToken(this.lookahead),g==="init"&&(g="method"),x||(S&&this.isPropertyKey(v,"prototype")&&this.throwUnexpectedToken(h,s.Messages.StaticPrototype),!S&&this.isPropertyKey(v,"constructor")&&((g!=="method"||!E||b&&b.generator)&&this.throwUnexpectedToken(h,s.Messages.ConstructorSpecialMethod),l.value?this.throwUnexpectedToken(h,s.Messages.DuplicateConstructor):l.value=!0,g="constructor")),this.finalize(y,new o.MethodDefinition(v,x,b,g,S))},p.prototype.parseClassElementList=function(){var l=[],h={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():l.push(this.parseClassElement(h));return this.expect("}"),l},p.prototype.parseClassBody=function(){var l=this.createNode(),h=this.parseClassElementList();return this.finalize(l,new o.ClassBody(h))},p.prototype.parseClassDeclaration=function(l){var h=this.createNode(),y=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var g=l&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),v=null;this.matchKeyword("extends")&&(this.nextToken(),v=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var b=this.parseClassBody();return this.context.strict=y,this.finalize(h,new o.ClassDeclaration(g,v,b))},p.prototype.parseClassExpression=function(){var l=this.createNode(),h=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var y=this.lookahead.type===3?this.parseVariableIdentifier():null,g=null;this.matchKeyword("extends")&&(this.nextToken(),g=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var v=this.parseClassBody();return this.context.strict=h,this.finalize(l,new o.ClassExpression(y,g,v))},p.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var l=this.createNode(),h=this.parseDirectivePrologues();this.lookahead.type!==2;)h.push(this.parseStatementListItem());return this.finalize(l,new o.Module(h))},p.prototype.parseScript=function(){for(var l=this.createNode(),h=this.parseDirectivePrologues();this.lookahead.type!==2;)h.push(this.parseStatementListItem());return this.finalize(l,new o.Script(h))},p.prototype.parseModuleSpecifier=function(){var l=this.createNode();this.lookahead.type!==8&&this.throwError(s.Messages.InvalidModuleSpecifier);var h=this.nextToken(),y=this.getTokenRaw(h);return this.finalize(l,new o.Literal(h.value,y))},p.prototype.parseImportSpecifier=function(){var l=this.createNode(),h,y;return this.lookahead.type===3?(h=this.parseVariableIdentifier(),y=h,this.matchContextualKeyword("as")&&(this.nextToken(),y=this.parseVariableIdentifier())):(h=this.parseIdentifierName(),y=h,this.matchContextualKeyword("as")?(this.nextToken(),y=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(l,new o.ImportSpecifier(y,h))},p.prototype.parseNamedImports=function(){this.expect("{");for(var l=[];!this.match("}");)l.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),l},p.prototype.parseImportDefaultSpecifier=function(){var l=this.createNode(),h=this.parseIdentifierName();return this.finalize(l,new o.ImportDefaultSpecifier(h))},p.prototype.parseImportNamespaceSpecifier=function(){var l=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(s.Messages.NoAsAfterImportNamespace),this.nextToken();var h=this.parseIdentifierName();return this.finalize(l,new o.ImportNamespaceSpecifier(h))},p.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalImportDeclaration);var l=this.createNode();this.expectKeyword("import");var h,y=[];if(this.lookahead.type===8)h=this.parseModuleSpecifier();else{if(this.match("{")?y=y.concat(this.parseNamedImports()):this.match("*")?y.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(y.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?y.push(this.parseImportNamespaceSpecifier()):this.match("{")?y=y.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var g=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(g,this.lookahead.value)}this.nextToken(),h=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(l,new o.ImportDeclaration(y,h))},p.prototype.parseExportSpecifier=function(){var l=this.createNode(),h=this.parseIdentifierName(),y=h;return this.matchContextualKeyword("as")&&(this.nextToken(),y=this.parseIdentifierName()),this.finalize(l,new o.ExportSpecifier(h,y))},p.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalExportDeclaration);var l=this.createNode();this.expectKeyword("export");var h;if(this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var y=this.parseFunctionDeclaration(!0);h=this.finalize(l,new o.ExportDefaultDeclaration(y))}else if(this.matchKeyword("class")){var y=this.parseClassDeclaration(!0);h=this.finalize(l,new o.ExportDefaultDeclaration(y))}else if(this.matchContextualKeyword("async")){var y=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();h=this.finalize(l,new o.ExportDefaultDeclaration(y))}else{this.matchContextualKeyword("from")&&this.throwError(s.Messages.UnexpectedToken,this.lookahead.value);var y=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),h=this.finalize(l,new o.ExportDefaultDeclaration(y))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var g=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(g,this.lookahead.value)}this.nextToken();var v=this.parseModuleSpecifier();this.consumeSemicolon(),h=this.finalize(l,new o.ExportAllDeclaration(v))}else if(this.lookahead.type===4){var y=void 0;switch(this.lookahead.value){case"let":case"const":y=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":y=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}h=this.finalize(l,new o.ExportNamedDeclaration(y,[],null))}else if(this.matchAsyncFunction()){var y=this.parseFunctionDeclaration();h=this.finalize(l,new o.ExportNamedDeclaration(y,[],null))}else{var b=[],x=null,E=!1;for(this.expect("{");!this.match("}");)E=E||this.matchKeyword("default"),b.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),x=this.parseModuleSpecifier(),this.consumeSemicolon();else if(E){var g=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(g,this.lookahead.value)}else this.consumeSemicolon();h=this.finalize(l,new o.ExportNamedDeclaration(null,b,x))}return h},p}();e.Parser=d},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(n,i){if(!n)throw new Error("ASSERT: "+i)}e.assert=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function n(){this.errors=[],this.tolerant=!1}return n.prototype.recordError=function(i){this.errors.push(i)},n.prototype.tolerate=function(i){if(this.tolerant)this.recordError(i);else throw i},n.prototype.constructError=function(i,s){var o=new Error(i);try{throw o}catch(a){Object.create&&Object.defineProperty&&(o=Object.create(a),Object.defineProperty(o,"column",{value:s}))}return o},n.prototype.createError=function(i,s,o,a){var u="Line "+s+": "+a,f=this.constructError(u,o);return f.index=i,f.lineNumber=s,f.description=a,f},n.prototype.throwError=function(i,s,o,a){throw this.createError(i,s,o,a)},n.prototype.tolerateError=function(i,s,o,a){var u=this.createError(i,s,o,a);if(this.tolerant)this.recordError(u);else throw u},n}();e.ErrorHandler=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9),i=r(4),s=r(11);function o(f){return"0123456789abcdef".indexOf(f.toLowerCase())}function a(f){return"01234567".indexOf(f)}var u=function(){function f(c,d){this.source=c,this.errorHandler=d,this.trackComment=!1,this.isModule=!1,this.length=c.length,this.index=0,this.lineNumber=c.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return f.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},f.prototype.restoreState=function(c){this.index=c.index,this.lineNumber=c.lineNumber,this.lineStart=c.lineStart},f.prototype.eof=function(){return this.index>=this.length},f.prototype.throwUnexpectedToken=function(c){return c===void 0&&(c=s.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,c)},f.prototype.tolerateUnexpectedToken=function(c){c===void 0&&(c=s.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,c)},f.prototype.skipSingleLineComment=function(c){var d=[],p,l;for(this.trackComment&&(d=[],p=this.index-c,l={start:{line:this.lineNumber,column:this.index-this.lineStart-c},end:{}});!this.eof();){var h=this.source.charCodeAt(this.index);if(++this.index,i.Character.isLineTerminator(h)){if(this.trackComment){l.end={line:this.lineNumber,column:this.index-this.lineStart-1};var y={multiLine:!1,slice:[p+c,this.index-1],range:[p,this.index-1],loc:l};d.push(y)}return h===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,d}}if(this.trackComment){l.end={line:this.lineNumber,column:this.index-this.lineStart};var y={multiLine:!1,slice:[p+c,this.index],range:[p,this.index],loc:l};d.push(y)}return d},f.prototype.skipMultiLineComment=function(){var c=[],d,p;for(this.trackComment&&(c=[],d=this.index-2,p={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var l=this.source.charCodeAt(this.index);if(i.Character.isLineTerminator(l))l===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(l===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){p.end={line:this.lineNumber,column:this.index-this.lineStart};var h={multiLine:!0,slice:[d+2,this.index-2],range:[d,this.index],loc:p};c.push(h)}return c}++this.index}else++this.index}if(this.trackComment){p.end={line:this.lineNumber,column:this.index-this.lineStart};var h={multiLine:!0,slice:[d+2,this.index],range:[d,this.index],loc:p};c.push(h)}return this.tolerateUnexpectedToken(),c},f.prototype.scanComments=function(){var c;this.trackComment&&(c=[]);for(var d=this.index===0;!this.eof();){var p=this.source.charCodeAt(this.index);if(i.Character.isWhiteSpace(p))++this.index;else if(i.Character.isLineTerminator(p))++this.index,p===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,d=!0;else if(p===47)if(p=this.source.charCodeAt(this.index+1),p===47){this.index+=2;var l=this.skipSingleLineComment(2);this.trackComment&&(c=c.concat(l)),d=!0}else if(p===42){this.index+=2;var l=this.skipMultiLineComment();this.trackComment&&(c=c.concat(l))}else break;else if(d&&p===45)if(this.source.charCodeAt(this.index+1)===45&&this.source.charCodeAt(this.index+2)===62){this.index+=3;var l=this.skipSingleLineComment(3);this.trackComment&&(c=c.concat(l))}else break;else if(p===60&&!this.isModule)if(this.source.slice(this.index+1,this.index+4)==="!--"){this.index+=4;var l=this.skipSingleLineComment(4);this.trackComment&&(c=c.concat(l))}else break;else break}return c},f.prototype.isFutureReservedWord=function(c){switch(c){case"enum":case"export":case"import":case"super":return!0;default:return!1}},f.prototype.isStrictModeReservedWord=function(c){switch(c){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},f.prototype.isRestrictedWord=function(c){return c==="eval"||c==="arguments"},f.prototype.isKeyword=function(c){switch(c.length){case 2:return c==="if"||c==="in"||c==="do";case 3:return c==="var"||c==="for"||c==="new"||c==="try"||c==="let";case 4:return c==="this"||c==="else"||c==="case"||c==="void"||c==="with"||c==="enum";case 5:return c==="while"||c==="break"||c==="catch"||c==="throw"||c==="const"||c==="yield"||c==="class"||c==="super";case 6:return c==="return"||c==="typeof"||c==="delete"||c==="switch"||c==="export"||c==="import";case 7:return c==="default"||c==="finally"||c==="extends";case 8:return c==="function"||c==="continue"||c==="debugger";case 10:return c==="instanceof";default:return!1}},f.prototype.codePointAt=function(c){var d=this.source.charCodeAt(c);if(d>=55296&&d<=56319){var p=this.source.charCodeAt(c+1);if(p>=56320&&p<=57343){var l=d;d=(l-55296)*1024+p-56320+65536}}return d},f.prototype.scanHexEscape=function(c){for(var d=c==="u"?4:2,p=0,l=0;l<d;++l)if(!this.eof()&&i.Character.isHexDigit(this.source.charCodeAt(this.index)))p=p*16+o(this.source[this.index++]);else return null;return String.fromCharCode(p)},f.prototype.scanUnicodeCodePointEscape=function(){var c=this.source[this.index],d=0;for(c==="}"&&this.throwUnexpectedToken();!this.eof()&&(c=this.source[this.index++],!!i.Character.isHexDigit(c.charCodeAt(0)));)d=d*16+o(c);return(d>1114111||c!=="}")&&this.throwUnexpectedToken(),i.Character.fromCodePoint(d)},f.prototype.getIdentifier=function(){for(var c=this.index++;!this.eof();){var d=this.source.charCodeAt(this.index);if(d===92)return this.index=c,this.getComplexIdentifier();if(d>=55296&&d<57343)return this.index=c,this.getComplexIdentifier();if(i.Character.isIdentifierPart(d))++this.index;else break}return this.source.slice(c,this.index)},f.prototype.getComplexIdentifier=function(){var c=this.codePointAt(this.index),d=i.Character.fromCodePoint(c);this.index+=d.length;var p;for(c===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,p=this.scanUnicodeCodePointEscape()):(p=this.scanHexEscape("u"),(p===null||p==="\\"||!i.Character.isIdentifierStart(p.charCodeAt(0)))&&this.throwUnexpectedToken()),d=p);!this.eof()&&(c=this.codePointAt(this.index),!!i.Character.isIdentifierPart(c));)p=i.Character.fromCodePoint(c),d+=p,this.index+=p.length,c===92&&(d=d.substr(0,d.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,p=this.scanUnicodeCodePointEscape()):(p=this.scanHexEscape("u"),(p===null||p==="\\"||!i.Character.isIdentifierPart(p.charCodeAt(0)))&&this.throwUnexpectedToken()),d+=p);return d},f.prototype.octalToDecimal=function(c){var d=c!=="0",p=a(c);return!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(d=!0,p=p*8+a(this.source[this.index++]),"0123".indexOf(c)>=0&&!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(p=p*8+a(this.source[this.index++]))),{code:p,octal:d}},f.prototype.scanIdentifier=function(){var c,d=this.index,p=this.source.charCodeAt(d)===92?this.getComplexIdentifier():this.getIdentifier();if(p.length===1?c=3:this.isKeyword(p)?c=4:p==="null"?c=5:p==="true"||p==="false"?c=1:c=3,c!==3&&d+p.length!==this.index){var l=this.index;this.index=d,this.tolerateUnexpectedToken(s.Messages.InvalidEscapedReservedWord),this.index=l}return{type:c,value:p,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},f.prototype.scanPunctuator=function(){var c=this.index,d=this.source[this.index];switch(d){case"(":case"{":d==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,d="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:d=this.source.substr(this.index,4),d===">>>="?this.index+=4:(d=d.substr(0,3),d==="==="||d==="!=="||d===">>>"||d==="<<="||d===">>="||d==="**="?this.index+=3:(d=d.substr(0,2),d==="&&"||d==="||"||d==="=="||d==="!="||d==="+="||d==="-="||d==="*="||d==="/="||d==="++"||d==="--"||d==="<<"||d===">>"||d==="&="||d==="|="||d==="^="||d==="%="||d==="<="||d===">="||d==="=>"||d==="**"?this.index+=2:(d=this.source[this.index],"<>=!+-*%&|^/".indexOf(d)>=0&&++this.index)))}return this.index===c&&this.throwUnexpectedToken(),{type:7,value:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:c,end:this.index}},f.prototype.scanHexLiteral=function(c){for(var d="";!this.eof()&&i.Character.isHexDigit(this.source.charCodeAt(this.index));)d+=this.source[this.index++];return d.length===0&&this.throwUnexpectedToken(),i.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+d,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:c,end:this.index}},f.prototype.scanBinaryLiteral=function(c){for(var d="",p;!this.eof()&&(p=this.source[this.index],!(p!=="0"&&p!=="1"));)d+=this.source[this.index++];return d.length===0&&this.throwUnexpectedToken(),this.eof()||(p=this.source.charCodeAt(this.index),(i.Character.isIdentifierStart(p)||i.Character.isDecimalDigit(p))&&this.throwUnexpectedToken()),{type:6,value:parseInt(d,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:c,end:this.index}},f.prototype.scanOctalLiteral=function(c,d){var p="",l=!1;for(i.Character.isOctalDigit(c.charCodeAt(0))?(l=!0,p="0"+this.source[this.index++]):++this.index;!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];return!l&&p.length===0&&this.throwUnexpectedToken(),(i.Character.isIdentifierStart(this.source.charCodeAt(this.index))||i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(p,8),octal:l,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},f.prototype.isImplicitOctalLiteral=function(){for(var c=this.index+1;c<this.length;++c){var d=this.source[c];if(d==="8"||d==="9")return!1;if(!i.Character.isOctalDigit(d.charCodeAt(0)))return!0}return!0},f.prototype.scanNumericLiteral=function(){var c=this.index,d=this.source[c];n.assert(i.Character.isDecimalDigit(d.charCodeAt(0))||d===".","Numeric literal must start with a decimal digit or a decimal point");var p="";if(d!=="."){if(p=this.source[this.index++],d=this.source[this.index],p==="0"){if(d==="x"||d==="X")return++this.index,this.scanHexLiteral(c);if(d==="b"||d==="B")return++this.index,this.scanBinaryLiteral(c);if(d==="o"||d==="O")return this.scanOctalLiteral(d,c);if(d&&i.Character.isOctalDigit(d.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(d,c)}for(;i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];d=this.source[this.index]}if(d==="."){for(p+=this.source[this.index++];i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];d=this.source[this.index]}if(d==="e"||d==="E")if(p+=this.source[this.index++],d=this.source[this.index],(d==="+"||d==="-")&&(p+=this.source[this.index++]),i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];else this.throwUnexpectedToken();return i.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(p),lineNumber:this.lineNumber,lineStart:this.lineStart,start:c,end:this.index}},f.prototype.scanStringLiteral=function(){var c=this.index,d=this.source[c];n.assert(d==="'"||d==='"',"String literal must starts with a quote"),++this.index;for(var p=!1,l="";!this.eof();){var h=this.source[this.index++];if(h===d){d="";break}else if(h==="\\")if(h=this.source[this.index++],!h||!i.Character.isLineTerminator(h.charCodeAt(0)))switch(h){case"u":if(this.source[this.index]==="{")++this.index,l+=this.scanUnicodeCodePointEscape();else{var y=this.scanHexEscape(h);y===null&&this.throwUnexpectedToken(),l+=y}break;case"x":var g=this.scanHexEscape(h);g===null&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),l+=g;break;case"n":l+=`
`;break;case"r":l+="\r";break;case"t":l+="	";break;case"b":l+="\b";break;case"f":l+="\f";break;case"v":l+="\v";break;case"8":case"9":l+=h,this.tolerateUnexpectedToken();break;default:if(h&&i.Character.isOctalDigit(h.charCodeAt(0))){var v=this.octalToDecimal(h);p=v.octal||p,l+=String.fromCharCode(v.code)}else l+=h;break}else++this.lineNumber,h==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else{if(i.Character.isLineTerminator(h.charCodeAt(0)))break;l+=h}}return d!==""&&(this.index=c,this.throwUnexpectedToken()),{type:8,value:l,octal:p,lineNumber:this.lineNumber,lineStart:this.lineStart,start:c,end:this.index}},f.prototype.scanTemplate=function(){var c="",d=!1,p=this.index,l=this.source[p]==="`",h=!1,y=2;for(++this.index;!this.eof();){var g=this.source[this.index++];if(g==="`"){y=1,h=!0,d=!0;break}else if(g==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,d=!0;break}c+=g}else if(g==="\\")if(g=this.source[this.index++],i.Character.isLineTerminator(g.charCodeAt(0)))++this.lineNumber,g==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(g){case"n":c+=`
`;break;case"r":c+="\r";break;case"t":c+="	";break;case"u":if(this.source[this.index]==="{")++this.index,c+=this.scanUnicodeCodePointEscape();else{var v=this.index,b=this.scanHexEscape(g);b!==null?c+=b:(this.index=v,c+=g)}break;case"x":var x=this.scanHexEscape(g);x===null&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),c+=x;break;case"b":c+="\b";break;case"f":c+="\f";break;case"v":c+="\v";break;default:g==="0"?(i.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral),c+="\0"):i.Character.isOctalDigit(g.charCodeAt(0))?this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral):c+=g;break}else i.Character.isLineTerminator(g.charCodeAt(0))?(++this.lineNumber,g==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,c+=`
`):c+=g}return d||this.throwUnexpectedToken(),l||this.curlyStack.pop(),{type:10,value:this.source.slice(p+1,this.index-y),cooked:c,head:l,tail:h,lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}},f.prototype.testRegExp=function(c,d){var p="\uFFFF",l=c,h=this;d.indexOf("u")>=0&&(l=l.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(y,g,v){var b=parseInt(g||v,16);return b>1114111&&h.throwUnexpectedToken(s.Messages.InvalidRegExp),b<=65535?String.fromCharCode(b):p}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p));try{RegExp(l)}catch{this.throwUnexpectedToken(s.Messages.InvalidRegExp)}try{return new RegExp(c,d)}catch{return null}},f.prototype.scanRegExpBody=function(){var c=this.source[this.index];n.assert(c==="/","Regular expression literal must start with a slash");for(var d=this.source[this.index++],p=!1,l=!1;!this.eof();)if(c=this.source[this.index++],d+=c,c==="\\")c=this.source[this.index++],i.Character.isLineTerminator(c.charCodeAt(0))&&this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),d+=c;else if(i.Character.isLineTerminator(c.charCodeAt(0)))this.throwUnexpectedToken(s.Messages.UnterminatedRegExp);else if(p)c==="]"&&(p=!1);else if(c==="/"){l=!0;break}else c==="["&&(p=!0);return l||this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),d.substr(1,d.length-2)},f.prototype.scanRegExpFlags=function(){for(var c="",d="";!this.eof();){var p=this.source[this.index];if(!i.Character.isIdentifierPart(p.charCodeAt(0)))break;if(++this.index,p==="\\"&&!this.eof())if(p=this.source[this.index],p==="u"){++this.index;var l=this.index,h=this.scanHexEscape("u");if(h!==null)for(d+=h,c+="\\u";l<this.index;++l)c+=this.source[l];else this.index=l,d+="u",c+="\\u";this.tolerateUnexpectedToken()}else c+="\\",this.tolerateUnexpectedToken();else d+=p,c+=p}return d},f.prototype.scanRegExp=function(){var c=this.index,d=this.scanRegExpBody(),p=this.scanRegExpFlags(),l=this.testRegExp(d,p);return{type:9,value:"",pattern:d,flags:p,regex:l,lineNumber:this.lineNumber,lineStart:this.lineStart,start:c,end:this.index}},f.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var c=this.source.charCodeAt(this.index);return i.Character.isIdentifierStart(c)?this.scanIdentifier():c===40||c===41||c===59?this.scanPunctuator():c===39||c===34?this.scanStringLiteral():c===46?i.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():i.Character.isDecimalDigit(c)?this.scanNumericLiteral():c===96||c===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():c>=55296&&c<57343&&i.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},f}();e.Scanner=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenName={},e.TokenName[1]="Boolean",e.TokenName[2]="<end>",e.TokenName[3]="Identifier",e.TokenName[4]="Keyword",e.TokenName[5]="Null",e.TokenName[6]="Numeric",e.TokenName[7]="Punctuator",e.TokenName[8]="String",e.TokenName[9]="RegularExpression",e.TokenName[10]="Template"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27E8",rang:"\u27E9"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(10),i=r(12),s=r(13),o=function(){function u(){this.values=[],this.curly=this.paren=-1}return u.prototype.beforeFunctionExpression=function(f){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(f)>=0},u.prototype.isRegexStart=function(){var f=this.values[this.values.length-1],c=f!==null;switch(f){case"this":case"]":c=!1;break;case")":var d=this.values[this.paren-1];c=d==="if"||d==="while"||d==="for"||d==="with";break;case"}":if(c=!1,this.values[this.curly-3]==="function"){var p=this.values[this.curly-4];c=p?!this.beforeFunctionExpression(p):!1}else if(this.values[this.curly-4]==="function"){var p=this.values[this.curly-5];c=p?!this.beforeFunctionExpression(p):!0}break;default:break}return c},u.prototype.push=function(f){f.type===7||f.type===4?(f.value==="{"?this.curly=this.values.length:f.value==="("&&(this.paren=this.values.length),this.values.push(f.value)):this.values.push(null)},u}(),a=function(){function u(f,c){this.errorHandler=new n.ErrorHandler,this.errorHandler.tolerant=c?typeof c.tolerant=="boolean"&&c.tolerant:!1,this.scanner=new i.Scanner(f,this.errorHandler),this.scanner.trackComment=c?typeof c.comment=="boolean"&&c.comment:!1,this.trackRange=c?typeof c.range=="boolean"&&c.range:!1,this.trackLoc=c?typeof c.loc=="boolean"&&c.loc:!1,this.buffer=[],this.reader=new o}return u.prototype.errors=function(){return this.errorHandler.errors},u.prototype.getNextToken=function(){if(this.buffer.length===0){var f=this.scanner.scanComments();if(this.scanner.trackComment)for(var c=0;c<f.length;++c){var d=f[c],p=this.scanner.source.slice(d.slice[0],d.slice[1]),l={type:d.multiLine?"BlockComment":"LineComment",value:p};this.trackRange&&(l.range=d.range),this.trackLoc&&(l.loc=d.loc),this.buffer.push(l)}if(!this.scanner.eof()){var h=void 0;this.trackLoc&&(h={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var y=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart(),g=y?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(g);var v={type:s.TokenName[g.type],value:this.scanner.source.slice(g.start,g.end)};if(this.trackRange&&(v.range=[g.start,g.end]),this.trackLoc&&(h.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},v.loc=h),g.type===9){var b=g.pattern,x=g.flags;v.regex={pattern:b,flags:x}}this.buffer.push(v)}}return this.buffer.shift()},u}();e.Tokenizer=a}])})});var Rt={};ZC(Rt,{__assign:()=>hw,__asyncDelegator:()=>bK,__asyncGenerator:()=>EK,__asyncValues:()=>wK,__await:()=>Ef,__awaiter:()=>dK,__classPrivateFieldGet:()=>AK,__classPrivateFieldIn:()=>_K,__classPrivateFieldSet:()=>FK,__createBinding:()=>pw,__decorate:()=>cK,__exportStar:()=>mK,__extends:()=>uK,__generator:()=>pK,__importDefault:()=>DK,__importStar:()=>SK,__makeTemplateObject:()=>xK,__metadata:()=>hK,__param:()=>fK,__read:()=>Y2,__rest:()=>lK,__spread:()=>gK,__spreadArray:()=>vK,__spreadArrays:()=>yK,__values:()=>dw});function uK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");fw(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function lK(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function cK(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function fK(t,e){return function(r,n){e(r,n,t)}}function hK(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function dK(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{f(n.next(c))}catch(d){o(d)}}function u(c){try{f(n.throw(c))}catch(d){o(d)}}function f(c){c.done?s(c.value):i(c.value).then(a,u)}f((n=n.apply(t,e||[])).next())})}function pK(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(f){return function(c){return u([f,c])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(c){f=[6,c],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function mK(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&pw(e,t,r)}function dw(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y2(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function gK(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Y2(arguments[e]));return t}function yK(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function vK(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Ef(t){return this instanceof Ef?(this.v=t,this):new Ef(t)}function EK(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(l){return new Promise(function(h,y){s.push([p,l,h,y])>1||a(p,l)})})}function a(p,l){try{u(n[p](l))}catch(h){d(s[0][3],h)}}function u(p){p.value instanceof Ef?Promise.resolve(p.value.v).then(f,c):d(s[0][2],p)}function f(p){a("next",p)}function c(p){a("throw",p)}function d(p,l){p(l),s.shift(),s.length&&a(s[0][0],s[0][1])}}function bK(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Ef(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function wK(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof dw=="function"?dw(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(f){s({value:f,done:a})},o)}}function xK(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function SK(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pw(e,t,r);return CK(e,t),e}function DK(t){return t&&t.__esModule?t:{default:t}}function AK(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function FK(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function _K(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}var fw,hw,pw,CK,Bt=f6(()=>{fw=function(t,e){return fw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},fw(t,e)};hw=function(){return hw=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},hw.apply(this,arguments)};pw=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};CK=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}});var Zt=M(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.Def=void 0;var al=(Bt(),Pt(Rt)),rB=Object.prototype,mm=rB.toString,ri=rB.hasOwnProperty,bf=function(){function t(){}return t.prototype.assert=function(e,r){if(!this.check(e,r)){var n=gw(e);throw new Error(n+" does not match type "+this)}return!0},t.prototype.arrayOf=function(){var e=this;return new mw(e)},t}(),mw=function(t){al.__extends(e,t);function e(r){var n=t.call(this)||this;return n.elemType=r,n.kind="ArrayType",n}return e.prototype.toString=function(){return"["+this.elemType+"]"},e.prototype.check=function(r,n){var i=this;return Array.isArray(r)&&r.every(function(s){return i.elemType.check(s,n)})},e}(bf),Z2=function(t){al.__extends(e,t);function e(r){var n=t.call(this)||this;return n.value=r,n.kind="IdentityType",n}return e.prototype.toString=function(){return String(this.value)},e.prototype.check=function(r,n){var i=r===this.value;return!i&&typeof n=="function"&&n(this,r),i},e}(bf),Q2=function(t){al.__extends(e,t);function e(r){var n=t.call(this)||this;return n.fields=r,n.kind="ObjectType",n}return e.prototype.toString=function(){return"{ "+this.fields.join(", ")+" }"},e.prototype.check=function(r,n){return mm.call(r)===mm.call({})&&this.fields.every(function(i){return i.type.check(r[i.name],n)})},e}(bf),eB=function(t){al.__extends(e,t);function e(r){var n=t.call(this)||this;return n.types=r,n.kind="OrType",n}return e.prototype.toString=function(){return this.types.join(" | ")},e.prototype.check=function(r,n){return this.types.some(function(i){return i.check(r,n)})},e}(bf),dm=function(t){al.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.name=r,i.predicate=n,i.kind="PredicateType",i}return e.prototype.toString=function(){return this.name},e.prototype.check=function(r,n){var i=this.predicate(r,n);return!i&&typeof n=="function"&&n(this,r),i},e}(bf),pm=function(){function t(e,r){this.type=e,this.typeName=r,this.baseNames=[],this.ownFields=Object.create(null),this.allSupertypes=Object.create(null),this.supertypeList=[],this.allFields=Object.create(null),this.fieldNames=[],this.finalized=!1,this.buildable=!1,this.buildParams=[]}return t.prototype.isSupertypeOf=function(e){if(e instanceof t){if(this.finalized!==!0||e.finalized!==!0)throw new Error("");return ri.call(e.allSupertypes,this.typeName)}else throw new Error(e+" is not a Def")},t.prototype.checkAllFields=function(e,r){var n=this.allFields;if(this.finalized!==!0)throw new Error(""+this.typeName);function i(s){var o=n[s],a=o.type,u=o.getValue(e);return a.check(u,r)}return e!==null&&typeof e=="object"&&Object.keys(n).every(i)},t.prototype.bases=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this.baseNames;if(this.finalized){if(e.length!==n.length)throw new Error("");for(var i=0;i<e.length;i++)if(e[i]!==n[i])throw new Error("");return this}return e.forEach(function(s){n.indexOf(s)<0&&n.push(s)}),this},t}();wf.Def=pm;var tB=function(){function t(e,r,n,i){this.name=e,this.type=r,this.defaultFn=n,this.hidden=!!i}return t.prototype.toString=function(){return JSON.stringify(this.name)+": "+this.type},t.prototype.getValue=function(e){var r=e[this.name];return typeof r<"u"||typeof this.defaultFn=="function"&&(r=this.defaultFn.call(e)),r},t}();function gw(t){return Array.isArray(t)?"["+t.map(gw).join(", ")+"]":t&&typeof t=="object"?"{ "+Object.keys(t).map(function(e){return e+": "+t[e]}).join(", ")+" }":JSON.stringify(t)}function kK(t){var e={or:function(){for(var L=[],$=0;$<arguments.length;$++)L[$]=arguments[$];return new eB(L.map(function(Z){return e.from(Z)}))},from:function(L,$){if(L instanceof mw||L instanceof Z2||L instanceof Q2||L instanceof eB||L instanceof dm)return L;if(L instanceof pm)return L.type;if(a.check(L)){if(L.length!==1)throw new Error("only one element type is permitted for typed arrays");return new mw(e.from(L[0]))}if(u.check(L))return new Q2(Object.keys(L).map(function(ie){return new tB(ie,e.from(L[ie],ie))}));if(typeof L=="function"){var Z=r.indexOf(L);if(Z>=0)return n[Z];if(typeof $!="string")throw new Error("missing name");return new dm($,L)}return new Z2(L)},def:function(L){return ri.call(g,L)?g[L]:g[L]=new b(L)},hasDef:function(L){return ri.call(g,L)}},r=[],n=[];function i(L,$){var Z=mm.call($),ie=new dm(L,function(he){return mm.call(he)===Z});return $&&typeof $.constructor=="function"&&(r.push($.constructor),n.push(ie)),ie}var s=i("string","truthy"),o=i("function",function(){}),a=i("array",[]),u=i("object",{}),f=i("RegExp",/./),c=i("Date",new Date),d=i("number",3),p=i("boolean",!0),l=i("null",null),h=i("undefined",void 0),y={string:s,function:o,array:a,object:u,RegExp:f,Date:c,number:d,boolean:p,null:l,undefined:h},g=Object.create(null);function v(L){if(L&&typeof L=="object"){var $=L.type;if(typeof $=="string"&&ri.call(g,$)){var Z=g[$];if(Z.finalized)return Z}}return null}var b=function(L){al.__extends($,L);function $(Z){var ie=L.call(this,new dm(Z,function(he,ee){return ie.check(he,ee)}),Z)||this;return ie}return $.prototype.check=function(Z,ie){if(this.finalized!==!0)throw new Error("prematurely checking unfinalized type "+this.typeName);if(Z===null||typeof Z!="object")return!1;var he=v(Z);return he?ie&&he===this?this.checkAllFields(Z,ie):this.isSupertypeOf(he)?ie?he.checkAllFields(Z,ie)&&this.checkAllFields(Z,!1):!0:!1:this.typeName==="SourceLocation"||this.typeName==="Position"?this.checkAllFields(Z,ie):!1},$.prototype.build=function(){for(var Z=this,ie=[],he=0;he<arguments.length;he++)ie[he]=arguments[he];if(this.buildParams=ie,this.buildable)return this;this.field("type",String,function(){return Z.typeName}),this.buildable=!0;var ee=function(ce,ye,Le,fe){if(!ri.call(ce,ye)){var se=Z.allFields;if(!ri.call(se,ye))throw new Error(""+ye);var te=se[ye],ue=te.type,pe;if(fe)pe=Le;else if(te.defaultFn)pe=te.defaultFn.call(ce);else{var ve="no value or default function given for field "+JSON.stringify(ye)+" of "+Z.typeName+"("+Z.buildParams.map(function(U){return se[U]}).join(", ")+")";throw new Error(ve)}if(!ue.check(pe))throw new Error(gw(pe)+" does not match field "+te+" of type "+Z.typeName);ce[ye]=pe}},me=function(){for(var ce=[],ye=0;ye<arguments.length;ye++)ce[ye]=arguments[ye];var Le=ce.length;if(!Z.finalized)throw new Error("attempting to instantiate unfinalized type "+Z.typeName);var fe=Object.create(F);if(Z.buildParams.forEach(function(se,te){te<Le?ee(fe,se,ce[te],!0):ee(fe,se,null,!1)}),Object.keys(Z.allFields).forEach(function(se){ee(fe,se,null,!1)}),fe.type!==Z.typeName)throw new Error("");return fe};return me.from=function(ce){if(!Z.finalized)throw new Error("attempting to instantiate unfinalized type "+Z.typeName);var ye=Object.create(F);if(Object.keys(Z.allFields).forEach(function(Le){ri.call(ce,Le)?ee(ye,Le,ce[Le],!0):ee(ye,Le,null,!1)}),ye.type!==Z.typeName)throw new Error("");return ye},Object.defineProperty(S,V(this.typeName),{enumerable:!0,value:me}),this},$.prototype.field=function(Z,ie,he,ee){return this.finalized?(console.error("Ignoring attempt to redefine field "+JSON.stringify(Z)+" of finalized type "+JSON.stringify(this.typeName)),this):(this.ownFields[Z]=new tB(Z,e.from(ie),he,ee),this)},$.prototype.finalize=function(){var Z=this;if(!this.finalized){var ie=this.allFields,he=this.allSupertypes;this.baseNames.forEach(function(me){var ce=g[me];if(ce instanceof pm)ce.finalize(),T(ie,ce.allFields),T(he,ce.allSupertypes);else{var ye="unknown supertype name "+JSON.stringify(me)+" for subtype "+JSON.stringify(Z.typeName);throw new Error(ye)}}),T(ie,this.ownFields),he[this.typeName]=this,this.fieldNames.length=0;for(var ee in ie)ri.call(ie,ee)&&!ie[ee].hidden&&this.fieldNames.push(ee);Object.defineProperty(j,this.typeName,{enumerable:!0,value:this.type}),this.finalized=!0,z(this.typeName,this.supertypeList),this.buildable&&this.supertypeList.lastIndexOf("Expression")>=0&&X(this.typeName)}},$}(pm);function x(L){if(!ri.call(g,L))throw new Error("");var $=g[L];if($.finalized!==!0)throw new Error("");return $.supertypeList.slice(1)}function E(L){for(var $={},Z=Object.keys(g),ie=Z.length,he=0;he<ie;++he){var ee=Z[he],me=g[ee];if(me.finalized!==!0)throw new Error(""+ee);for(var ce=0;ce<me.supertypeList.length;++ce){var ye=me.supertypeList[ce];if(ri.call(L,ye)){$[ee]=ye;break}}}return $}var S=Object.create(null),F={};function P(L,$){var Z=F[L];return h.check($)?delete F[L]:(o.assert($),Object.defineProperty(F,L,{enumerable:!0,configurable:!0,value:$})),Z}function V(L){return L.replace(/^[A-Z]+/,function($){var Z=$.length;switch(Z){case 0:return"";case 1:return $.toLowerCase();default:return $.slice(0,Z-1).toLowerCase()+$.charAt(Z-1)}})}function H(L){return L=V(L),L.replace(/(Expression)?$/,"Statement")}var j={};function R(L){var $=v(L);if($)return $.fieldNames.slice(0);if("type"in L)throw new Error("did not recognize object of type "+JSON.stringify(L.type));return Object.keys(L)}function N(L,$){var Z=v(L);if(Z){var ie=Z.allFields[$];if(ie)return ie.getValue(L)}return L&&L[$]}function J(L,$,Z){R(L).forEach(function(ie){$.call(this,ie,N(L,ie))},Z)}function K(L,$,Z){return R(L).some(function(ie){return $.call(this,ie,N(L,ie))},Z)}function X(L){var $=H(L);if(!S[$]){var Z=S[V(L)];if(Z){var ie=function(){for(var he=[],ee=0;ee<arguments.length;ee++)he[ee]=arguments[ee];return S.expressionStatement(Z.apply(S,he))};ie.from=function(){for(var he=[],ee=0;ee<arguments.length;ee++)he[ee]=arguments[ee];return S.expressionStatement(Z.from.apply(S,he))},S[$]=ie}}}function z(L,$){$.length=0,$.push(L);for(var Z=Object.create(null),ie=0;ie<$.length;++ie){L=$[ie];var he=g[L];if(he.finalized!==!0)throw new Error("");ri.call(Z,L)&&delete $[Z[L]],Z[L]=ie,$.push.apply($,he.baseNames)}for(var ee=0,me=ee,ce=$.length;me<ce;++me)ri.call($,me)&&($[ee++]=$[me]);$.length=ee}function T(L,$){return Object.keys($).forEach(function(Z){L[Z]=$[Z]}),L}function W(){Object.keys(g).forEach(function(L){g[L].finalize()})}return{Type:e,builtInTypes:y,getSupertypeNames:x,computeSupertypeLookupTable:E,builders:S,defineMethod:P,getBuilderName:V,getStatementBuilderName:H,namedTypes:j,getFieldNames:R,getFieldValue:N,eachField:J,someField:K,finalize:W}}wf.default=kK});var yw=M((ym,nB)=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});var IK=(Bt(),Pt(Rt)),PK=IK.__importDefault(Zt()),TK=Object.prototype,gm=TK.hasOwnProperty;function OK(t){var e=t.use(PK.default),r=e.builtInTypes.array,n=e.builtInTypes.number,i=function d(p,l,h){if(!(this instanceof d))throw new Error("Path constructor cannot be invoked without 'new'");if(l){if(!(l instanceof d))throw new Error("")}else l=null,h=null;this.value=p,this.parentPath=l,this.name=h,this.__childCache=null},s=i.prototype;function o(d){return d.__childCache||(d.__childCache=Object.create(null))}function a(d,p){var l=o(d),h=d.getValueProperty(p),y=l[p];return(!gm.call(l,p)||y.value!==h)&&(y=l[p]=new d.constructor(h,d,p)),y}s.getValueProperty=function(p){return this.value[p]},s.get=function(){for(var p=[],l=0;l<arguments.length;l++)p[l]=arguments[l];for(var h=this,y=p.length,g=0;g<y;++g)h=a(h,p[g]);return h},s.each=function(p,l){for(var h=[],y=this.value.length,g=0,g=0;g<y;++g)gm.call(this.value,g)&&(h[g]=this.get(g));for(l=l||this,g=0;g<y;++g)gm.call(h,g)&&p.call(l,h[g])},s.map=function(p,l){var h=[];return this.each(function(y){h.push(p.call(this,y))},l),h},s.filter=function(p,l){var h=[];return this.each(function(y){p.call(this,y)&&h.push(y)},l),h};function u(){}function f(d,p,l,h){if(r.assert(d.value),p===0)return u;var y=d.value.length;if(y<1)return u;var g=arguments.length;g===2?(l=0,h=y):g===3?(l=Math.max(l,0),h=y):(l=Math.max(l,0),h=Math.min(h,y)),n.assert(l),n.assert(h);for(var v=Object.create(null),b=o(d),x=l;x<h;++x)if(gm.call(d.value,x)){var E=d.get(x);if(E.name!==x)throw new Error("");var S=x+p;E.name=S,v[S]=E,delete b[x]}return delete b.length,function(){for(var F in v){var P=v[F];if(P.name!==+F)throw new Error("");b[F]=P,d.value[F]=P.value}}}s.shift=function(){var p=f(this,-1),l=this.value.shift();return p(),l},s.unshift=function(){for(var p=[],l=0;l<arguments.length;l++)p[l]=arguments[l];var h=f(this,p.length),y=this.value.unshift.apply(this.value,p);return h(),y},s.push=function(){for(var p=[],l=0;l<arguments.length;l++)p[l]=arguments[l];return r.assert(this.value),delete o(this).length,this.value.push.apply(this.value,p)},s.pop=function(){r.assert(this.value);var p=o(this);return delete p[this.value.length-1],delete p.length,this.value.pop()},s.insertAt=function(p){var l=arguments.length,h=f(this,l-1,p);if(h===u&&l<=1)return this;p=Math.max(p,0);for(var y=1;y<l;++y)this.value[p+y-1]=arguments[y];return h(),this},s.insertBefore=function(){for(var p=[],l=0;l<arguments.length;l++)p[l]=arguments[l];for(var h=this.parentPath,y=p.length,g=[this.name],v=0;v<y;++v)g.push(p[v]);return h.insertAt.apply(h,g)},s.insertAfter=function(){for(var p=[],l=0;l<arguments.length;l++)p[l]=arguments[l];for(var h=this.parentPath,y=p.length,g=[this.name+1],v=0;v<y;++v)g.push(p[v]);return h.insertAt.apply(h,g)};function c(d){if(!(d instanceof i))throw new Error("");var p=d.parentPath;if(!p)return d;var l=p.value,h=o(p);if(l[d.name]===d.value)h[d.name]=d;else if(r.check(l)){var y=l.indexOf(d.value);y>=0&&(h[d.name=y]=d)}else l[d.name]=d.value,h[d.name]=d;if(l[d.name]!==d.value)throw new Error("");if(d.parentPath.get(d.name)!==d)throw new Error("");return d}return s.replace=function(p){var l=[],h=this.parentPath.value,y=o(this.parentPath),g=arguments.length;if(c(this),r.check(h)){for(var v=h.length,b=f(this.parentPath,g-1,this.name+1),x=[this.name,1],E=0;E<g;++E)x.push(arguments[E]);var S=h.splice.apply(h,x);if(S[0]!==this.value)throw new Error("");if(h.length!==v-1+g)throw new Error("");if(b(),g===0)delete this.value,delete y[this.name],this.__childCache=null;else{if(h[this.name]!==p)throw new Error("");for(this.value!==p&&(this.value=p,this.__childCache=null),E=0;E<g;++E)l.push(this.parentPath.get(this.name+E));if(l[0]!==this)throw new Error("")}}else if(g===1)this.value!==p&&(this.__childCache=null),this.value=h[this.name]=p,l.push(this);else if(g===0)delete h[this.name],delete this.value,this.__childCache=null;else throw new Error("Could not replace path");return l},i}ym.default=OK;nB.exports=ym.default});var sB=M((vm,iB)=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});var RK=(Bt(),Pt(Rt)),BK=RK.__importDefault(Zt()),xf=Object.prototype.hasOwnProperty;function LK(t){var e=t.use(BK.default),r=e.Type,n=e.namedTypes,i=n.Node,s=n.Expression,o=e.builtInTypes.array,a=e.builders,u=function b(x,E){if(!(this instanceof b))throw new Error("Scope constructor cannot be invoked without 'new'");c.assert(x.value);var S;if(E){if(!(E instanceof b))throw new Error("");S=E.depth+1}else E=null,S=0;Object.defineProperties(this,{path:{value:x},node:{value:x.value},isGlobal:{value:!E,enumerable:!0},depth:{value:S},parent:{value:E},bindings:{value:{}},types:{value:{}}})},f=[n.Program,n.Function,n.CatchClause],c=r.or.apply(r,f);u.isEstablishedBy=function(b){return c.check(b)};var d=u.prototype;d.didScan=!1,d.declares=function(b){return this.scan(),xf.call(this.bindings,b)},d.declaresType=function(b){return this.scan(),xf.call(this.types,b)},d.declareTemporary=function(b){if(b){if(!/^[a-z$_]/i.test(b))throw new Error("")}else b="t$";b+=this.depth.toString(36)+"$",this.scan();for(var x=0;this.declares(b+x);)++x;var E=b+x;return this.bindings[E]=e.builders.identifier(E)},d.injectTemporary=function(b,x){b||(b=this.declareTemporary());var E=this.path.get("body");return n.BlockStatement.check(E.value)&&(E=E.get("body")),E.unshift(a.variableDeclaration("var",[a.variableDeclarator(b,x||null)])),b},d.scan=function(b){if(b||!this.didScan){for(var x in this.bindings)delete this.bindings[x];p(this.path,this.bindings,this.types),this.didScan=!0}},d.getBindings=function(){return this.scan(),this.bindings},d.getTypes=function(){return this.scan(),this.types};function p(b,x,E){var S=b.value;if(c.assert(S),n.CatchClause.check(S)){var F=b.get("param");F.value&&g(F,x)}else l(b,x,E)}function l(b,x,E){var S=b.value;b.parent&&n.FunctionExpression.check(b.parent.node)&&b.parent.node.id&&g(b.parent.get("id"),x),S&&(o.check(S)?b.each(function(F){y(F,x,E)}):n.Function.check(S)?(b.get("params").each(function(F){g(F,x)}),y(b.get("body"),x,E)):n.TypeAlias&&n.TypeAlias.check(S)||n.InterfaceDeclaration&&n.InterfaceDeclaration.check(S)||n.TSTypeAliasDeclaration&&n.TSTypeAliasDeclaration.check(S)||n.TSInterfaceDeclaration&&n.TSInterfaceDeclaration.check(S)?v(b.get("id"),E):n.VariableDeclarator.check(S)?(g(b.get("id"),x),y(b.get("init"),x,E)):S.type==="ImportSpecifier"||S.type==="ImportNamespaceSpecifier"||S.type==="ImportDefaultSpecifier"?g(b.get(S.local?"local":S.name?"name":"id"),x):i.check(S)&&!s.check(S)&&e.eachField(S,function(F,P){var V=b.get(F);if(!h(V,P))throw new Error("");y(V,x,E)}))}function h(b,x){return!!(b.value===x||Array.isArray(b.value)&&b.value.length===0&&Array.isArray(x)&&x.length===0)}function y(b,x,E){var S=b.value;if(!(!S||s.check(S)))if(n.FunctionDeclaration.check(S)&&S.id!==null)g(b.get("id"),x);else if(n.ClassDeclaration&&n.ClassDeclaration.check(S))g(b.get("id"),x);else if(c.check(S)){if(n.CatchClause.check(S)&&n.Identifier.check(S.param)){var F=S.param.name,P=xf.call(x,F);l(b.get("body"),x,E),P||delete x[F]}}else l(b,x,E)}function g(b,x){var E=b.value;n.Pattern.assert(E),n.Identifier.check(E)?xf.call(x,E.name)?x[E.name].push(b):x[E.name]=[b]:n.AssignmentPattern&&n.AssignmentPattern.check(E)?g(b.get("left"),x):n.ObjectPattern&&n.ObjectPattern.check(E)?b.get("properties").each(function(S){var F=S.value;n.Pattern.check(F)?g(S,x):n.Property.check(F)?g(S.get("value"),x):n.SpreadProperty&&n.SpreadProperty.check(F)&&g(S.get("argument"),x)}):n.ArrayPattern&&n.ArrayPattern.check(E)?b.get("elements").each(function(S){var F=S.value;n.Pattern.check(F)?g(S,x):n.SpreadElement&&n.SpreadElement.check(F)&&g(S.get("argument"),x)}):n.PropertyPattern&&n.PropertyPattern.check(E)?g(b.get("pattern"),x):(n.SpreadElementPattern&&n.SpreadElementPattern.check(E)||n.SpreadPropertyPattern&&n.SpreadPropertyPattern.check(E))&&g(b.get("argument"),x)}function v(b,x){var E=b.value;n.Pattern.assert(E),n.Identifier.check(E)&&(xf.call(x,E.name)?x[E.name].push(b):x[E.name]=[b])}return d.lookup=function(b){for(var x=this;x&&!x.declares(b);x=x.parent);return x},d.lookupType=function(b){for(var x=this;x&&!x.declaresType(b);x=x.parent);return x},d.getGlobalScope=function(){for(var b=this;!b.isGlobal;)b=b.parent;return b},u}vm.default=LK;iB.exports=vm.default});var Ew=M((Em,oB)=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});var vw=(Bt(),Pt(Rt)),NK=vw.__importDefault(Zt()),MK=vw.__importDefault(yw()),jK=vw.__importDefault(sB());function $K(t){var e=t.use(NK.default),r=e.namedTypes,n=e.builders,i=e.builtInTypes.number,s=e.builtInTypes.array,o=t.use(MK.default),a=t.use(jK.default),u=function v(b,x,E){if(!(this instanceof v))throw new Error("NodePath constructor cannot be invoked without 'new'");o.call(this,b,x,E)},f=u.prototype=Object.create(o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}});Object.defineProperties(f,{node:{get:function(){return Object.defineProperty(this,"node",{configurable:!0,value:this._computeNode()}),this.node}},parent:{get:function(){return Object.defineProperty(this,"parent",{configurable:!0,value:this._computeParent()}),this.parent}},scope:{get:function(){return Object.defineProperty(this,"scope",{configurable:!0,value:this._computeScope()}),this.scope}}}),f.replace=function(){return delete this.node,delete this.parent,delete this.scope,o.prototype.replace.apply(this,arguments)},f.prune=function(){var v=this.parent;return this.replace(),y(v)},f._computeNode=function(){var v=this.value;if(r.Node.check(v))return v;var b=this.parentPath;return b&&b.node||null},f._computeParent=function(){var v=this.value,b=this.parentPath;if(!r.Node.check(v)){for(;b&&!r.Node.check(b.value);)b=b.parentPath;b&&(b=b.parentPath)}for(;b&&!r.Node.check(b.value);)b=b.parentPath;return b||null},f._computeScope=function(){var v=this.value,b=this.parentPath,x=b&&b.scope;return r.Node.check(v)&&a.isEstablishedBy(v)&&(x=new a(this,x)),x||null},f.getValueProperty=function(v){return e.getFieldValue(this.value,v)},f.needsParens=function(v){var b=this.parentPath;if(!b)return!1;var x=this.value;if(!r.Expression.check(x)||x.type==="Identifier")return!1;for(;!r.Node.check(b.value);)if(b=b.parentPath,!b)return!1;var E=b.value;switch(x.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return E.type==="MemberExpression"&&this.name==="object"&&E.object===x;case"BinaryExpression":case"LogicalExpression":switch(E.type){case"CallExpression":return this.name==="callee"&&E.callee===x;case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return!0;case"MemberExpression":return this.name==="object"&&E.object===x;case"BinaryExpression":case"LogicalExpression":{var S=x,F=E.operator,P=p[F],V=S.operator,H=p[V];if(P>H)return!0;if(P===H&&this.name==="right"){if(E.right!==S)throw new Error("Nodes must be equal");return!0}}default:return!1}case"SequenceExpression":switch(E.type){case"ForStatement":return!1;case"ExpressionStatement":return this.name!=="expression";default:return!0}case"YieldExpression":switch(E.type){case"BinaryExpression":case"LogicalExpression":case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"CallExpression":case"MemberExpression":case"NewExpression":case"ConditionalExpression":case"YieldExpression":return!0;default:return!1}case"Literal":return E.type==="MemberExpression"&&i.check(x.value)&&this.name==="object"&&E.object===x;case"AssignmentExpression":case"ConditionalExpression":switch(E.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"BinaryExpression":case"LogicalExpression":return!0;case"CallExpression":return this.name==="callee"&&E.callee===x;case"ConditionalExpression":return this.name==="test"&&E.test===x;case"MemberExpression":return this.name==="object"&&E.object===x;default:return!1}default:if(E.type==="NewExpression"&&this.name==="callee"&&E.callee===x)return l(x)}return!!(v!==!0&&!this.canBeFirstInStatement()&&this.firstInStatement())};function c(v){return r.BinaryExpression.check(v)||r.LogicalExpression.check(v)}function d(v){return r.UnaryExpression.check(v)||r.SpreadElement&&r.SpreadElement.check(v)||r.SpreadProperty&&r.SpreadProperty.check(v)}var p={};[["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]].forEach(function(v,b){v.forEach(function(x){p[x]=b})});function l(v){return r.CallExpression.check(v)?!0:s.check(v)?v.some(l):r.Node.check(v)?e.someField(v,function(b,x){return l(x)}):!1}f.canBeFirstInStatement=function(){var v=this.node;return!r.FunctionExpression.check(v)&&!r.ObjectExpression.check(v)},f.firstInStatement=function(){return h(this)};function h(v){for(var b,x;v.parent;v=v.parent){if(b=v.node,x=v.parent.node,r.BlockStatement.check(x)&&v.parent.name==="body"&&v.name===0){if(x.body[0]!==b)throw new Error("Nodes must be equal");return!0}if(r.ExpressionStatement.check(x)&&v.name==="expression"){if(x.expression!==b)throw new Error("Nodes must be equal");return!0}if(r.SequenceExpression.check(x)&&v.parent.name==="expressions"&&v.name===0){if(x.expressions[0]!==b)throw new Error("Nodes must be equal");continue}if(r.CallExpression.check(x)&&v.name==="callee"){if(x.callee!==b)throw new Error("Nodes must be equal");continue}if(r.MemberExpression.check(x)&&v.name==="object"){if(x.object!==b)throw new Error("Nodes must be equal");continue}if(r.ConditionalExpression.check(x)&&v.name==="test"){if(x.test!==b)throw new Error("Nodes must be equal");continue}if(c(x)&&v.name==="left"){if(x.left!==b)throw new Error("Nodes must be equal");continue}if(r.UnaryExpression.check(x)&&!x.prefix&&v.name==="argument"){if(x.argument!==b)throw new Error("Nodes must be equal");continue}return!1}return!0}function y(v){if(r.VariableDeclaration.check(v.node)){var b=v.get("declarations").value;if(!b||b.length===0)return v.prune()}else if(r.ExpressionStatement.check(v.node)){if(!v.get("expression").value)return v.prune()}else r.IfStatement.check(v.node)&&g(v);return v}function g(v){var b=v.get("test").value,x=v.get("alternate").value,E=v.get("consequent").value;if(!E&&!x){var S=n.expressionStatement(b);v.replace(S)}else if(!E&&x){var F=n.unaryExpression("!",b,!0);r.UnaryExpression.check(b)&&b.operator==="!"&&(F=b.argument),v.get("test").replace(F),v.get("consequent").replace(x),v.get("alternate").replace()}}return u}Em.default=$K;oB.exports=Em.default});var lB=M((wm,uB)=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0});var aB=(Bt(),Pt(Rt)),UK=aB.__importDefault(Zt()),qK=aB.__importDefault(Ew()),bm=Object.prototype.hasOwnProperty;function VK(t){var e=t.use(UK.default),r=t.use(qK.default),n=e.builtInTypes.array,i=e.builtInTypes.object,s=e.builtInTypes.function,o,a=function h(){if(!(this instanceof h))throw new Error("PathVisitor constructor cannot be invoked without 'new'");this._reusableContextStack=[],this._methodNameTable=u(this),this._shouldVisitComments=bm.call(this._methodNameTable,"Block")||bm.call(this._methodNameTable,"Line"),this.Context=p(this),this._visiting=!1,this._changeReported=!1};function u(h){var y=Object.create(null);for(var g in h)/^visit[A-Z]/.test(g)&&(y[g.slice(5)]=!0);for(var v=e.computeSupertypeLookupTable(y),b=Object.create(null),x=Object.keys(v),E=x.length,S=0;S<E;++S){var F=x[S];g="visit"+v[F],s.check(h[g])&&(b[F]=g)}return b}a.fromMethodsObject=function(y){if(y instanceof a)return y;if(!i.check(y))return new a;var g=function b(){if(!(this instanceof b))throw new Error("Visitor constructor cannot be invoked without 'new'");a.call(this)},v=g.prototype=Object.create(c);return v.constructor=g,f(v,y),f(g,a),s.assert(g.fromMethodsObject),s.assert(g.visit),new g};function f(h,y){for(var g in y)bm.call(y,g)&&(h[g]=y[g]);return h}a.visit=function(y,g){return a.fromMethodsObject(g).visit(y)};var c=a.prototype;c.visit=function(){if(this._visiting)throw new Error("Recursively calling visitor.visit(path) resets visitor state. Try this.visit(path) or this.traverse(path) instead.");this._visiting=!0,this._changeReported=!1,this._abortRequested=!1;for(var h=arguments.length,y=new Array(h),g=0;g<h;++g)y[g]=arguments[g];y[0]instanceof r||(y[0]=new r({root:y[0]}).get("root")),this.reset.apply(this,y);var v;try{var b=this.visitWithoutReset(y[0]);v=!0}finally{if(this._visiting=!1,!v&&this._abortRequested)return y[0].value}return b},c.AbortRequest=function(){},c.abort=function(){var h=this;h._abortRequested=!0;var y=new h.AbortRequest;throw y.cancel=function(){h._abortRequested=!1},y},c.reset=function(h){},c.visitWithoutReset=function(h){if(this instanceof this.Context)return this.visitor.visitWithoutReset(h);if(!(h instanceof r))throw new Error("");var y=h.value,g=y&&typeof y=="object"&&typeof y.type=="string"&&this._methodNameTable[y.type];if(g){var v=this.acquireContext(h);try{return v.invokeVisitorMethod(g)}finally{this.releaseContext(v)}}else return d(h,this)};function d(h,y){if(!(h instanceof r))throw new Error("");if(!(y instanceof a))throw new Error("");var g=h.value;if(n.check(g))h.each(y.visitWithoutReset,y);else if(i.check(g)){var v=e.getFieldNames(g);y._shouldVisitComments&&g.comments&&v.indexOf("comments")<0&&v.push("comments");for(var b=v.length,x=[],E=0;E<b;++E){var S=v[E];bm.call(g,S)||(g[S]=e.getFieldValue(g,S)),x.push(h.get(S))}for(var E=0;E<b;++E)y.visitWithoutReset(x[E])}return h.value}c.acquireContext=function(h){return this._reusableContextStack.length===0?new this.Context(h):this._reusableContextStack.pop().reset(h)},c.releaseContext=function(h){if(!(h instanceof this.Context))throw new Error("");this._reusableContextStack.push(h),h.currentPath=null},c.reportChanged=function(){this._changeReported=!0},c.wasChangeReported=function(){return this._changeReported};function p(h){function y(v){if(!(this instanceof y))throw new Error("");if(!(this instanceof a))throw new Error("");if(!(v instanceof r))throw new Error("");Object.defineProperty(this,"visitor",{value:h,writable:!1,enumerable:!0,configurable:!1}),this.currentPath=v,this.needToCallTraverse=!0,Object.seal(this)}if(!(h instanceof a))throw new Error("");var g=y.prototype=Object.create(h);return g.constructor=y,f(g,l),y}var l=Object.create(null);return l.reset=function(y){if(!(this instanceof this.Context))throw new Error("");if(!(y instanceof r))throw new Error("");return this.currentPath=y,this.needToCallTraverse=!0,this},l.invokeVisitorMethod=function(y){if(!(this instanceof this.Context))throw new Error("");if(!(this.currentPath instanceof r))throw new Error("");var g=this.visitor[y].call(this,this.currentPath);if(g===!1?this.needToCallTraverse=!1:g!==o&&(this.currentPath=this.currentPath.replace(g)[0],this.needToCallTraverse&&this.traverse(this.currentPath)),this.needToCallTraverse!==!1)throw new Error("Must either call this.traverse or return false in "+y);var v=this.currentPath;return v&&v.value},l.traverse=function(y,g){if(!(this instanceof this.Context))throw new Error("");if(!(y instanceof r))throw new Error("");if(!(this.currentPath instanceof r))throw new Error("");return this.needToCallTraverse=!1,d(y,a.fromMethodsObject(g||this.visitor))},l.visit=function(y,g){if(!(this instanceof this.Context))throw new Error("");if(!(y instanceof r))throw new Error("");if(!(this.currentPath instanceof r))throw new Error("");return this.needToCallTraverse=!1,a.fromMethodsObject(g||this.visitor).visitWithoutReset(y)},l.reportChanged=function(){this.visitor.reportChanged()},l.abort=function(){this.needToCallTraverse=!1,this.visitor.abort()},a}wm.default=VK;uB.exports=wm.default});var fB=M((xm,cB)=>{"use strict";Object.defineProperty(xm,"__esModule",{value:!0});var HK=(Bt(),Pt(Rt)),zK=HK.__importDefault(Zt());function WK(t){var e=t.use(zK.default),r=e.getFieldNames,n=e.getFieldValue,i=e.builtInTypes.array,s=e.builtInTypes.object,o=e.builtInTypes.Date,a=e.builtInTypes.RegExp,u=Object.prototype.hasOwnProperty;function f(h,y,g){return i.check(g)?g.length=0:g=null,d(h,y,g)}f.assert=function(h,y){var g=[];if(!f(h,y,g))if(g.length===0){if(h!==y)throw new Error("Nodes must be equal")}else throw new Error("Nodes differ in the following path: "+g.map(c).join(""))};function c(h){return/[_$a-z][_$a-z0-9]*/i.test(h)?"."+h:"["+JSON.stringify(h)+"]"}function d(h,y,g){return h===y?!0:i.check(h)?p(h,y,g):s.check(h)?l(h,y,g):o.check(h)?o.check(y)&&+h==+y:a.check(h)?a.check(y)&&h.source===y.source&&h.global===y.global&&h.multiline===y.multiline&&h.ignoreCase===y.ignoreCase:h==y}function p(h,y,g){i.assert(h);var v=h.length;if(!i.check(y)||y.length!==v)return g&&g.push("length"),!1;for(var b=0;b<v;++b){if(g&&g.push(b),b in h!=b in y||!d(h[b],y[b],g))return!1;if(g){var x=g.pop();if(x!==b)throw new Error(""+x)}}return!0}function l(h,y,g){if(s.assert(h),!s.check(y))return!1;if(h.type!==y.type)return g&&g.push("type"),!1;var v=r(h),b=v.length,x=r(y),E=x.length;if(b===E){for(var S=0;S<b;++S){var F=v[S],P=n(h,F),V=n(y,F);if(g&&g.push(F),!d(P,V,g))return!1;if(g){var H=g.pop();if(H!==F)throw new Error(""+H)}}return!0}if(!g)return!1;var j=Object.create(null);for(S=0;S<b;++S)j[v[S]]=!0;for(S=0;S<E;++S){if(F=x[S],!u.call(j,F))return g.push(F),!1;delete j[F]}for(F in j){g.push(F);break}return!1}return f}xm.default=WK;cB.exports=xm.default});var dB=M((Cm,hB)=>{"use strict";Object.defineProperty(Cm,"__esModule",{value:!0});var Cf=(Bt(),Pt(Rt)),GK=Cf.__importDefault(Zt()),JK=Cf.__importDefault(lB()),KK=Cf.__importDefault(fB()),XK=Cf.__importDefault(yw()),YK=Cf.__importDefault(Ew());function ZK(t){var e=QK(),r=e.use(GK.default);t.forEach(e.use),r.finalize();var n=e.use(JK.default);return{Type:r.Type,builtInTypes:r.builtInTypes,namedTypes:r.namedTypes,builders:r.builders,defineMethod:r.defineMethod,getFieldNames:r.getFieldNames,getFieldValue:r.getFieldValue,eachField:r.eachField,someField:r.someField,getSupertypeNames:r.getSupertypeNames,getBuilderName:r.getBuilderName,astNodesAreEquivalent:e.use(KK.default),finalize:r.finalize,Path:e.use(XK.default),NodePath:e.use(YK.default),PathVisitor:n,use:e.use,visit:n.visit}}Cm.default=ZK;function QK(){var t=[],e=[];function r(i){var s=t.indexOf(i);return s===-1&&(s=t.length,t.push(i),e[s]=i(n)),e[s]}var n={use:r};return n}hB.exports=Cm.default});var yi=M((Sm,pB)=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0});var eX=(Bt(),Pt(Rt)),tX=eX.__importDefault(Zt());function rX(t){var e=t.use(tX.default),r=e.Type,n=e.builtInTypes,i=n.number;function s(f){return r.from(function(c){return i.check(c)&&c>=f},i+" >= "+f)}var o={null:function(){return null},emptyArray:function(){return[]},false:function(){return!1},true:function(){return!0},undefined:function(){},"use strict":function(){return"use strict"}},a=r.or(n.string,n.number,n.boolean,n.null,n.undefined),u=r.from(function(f){if(f===null)return!0;var c=typeof f;return!(c==="object"||c==="function")},a.toString());return{geq:s,defaults:o,isPrimitive:u}}Sm.default=rX;pB.exports=Sm.default});var Am=M((Dm,gB)=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});var mB=(Bt(),Pt(Rt)),nX=mB.__importDefault(Zt()),iX=mB.__importDefault(yi());function sX(t){var e=t.use(nX.default),r=e.Type,n=r.def,i=r.or,s=t.use(iX.default),o=s.defaults,a=s.geq;n("Printable").field("loc",i(n("SourceLocation"),null),o.null,!0),n("Node").bases("Printable").field("type",String).field("comments",i([n("Comment")],null),o.null,!0),n("SourceLocation").field("start",n("Position")).field("end",n("Position")).field("source",i(String,null),o.null),n("Position").field("line",a(1)).field("column",a(0)),n("File").bases("Node").build("program","name").field("program",n("Program")).field("name",i(String,null),o.null),n("Program").bases("Node").build("body").field("body",[n("Statement")]),n("Function").bases("Node").field("id",i(n("Identifier"),null),o.null).field("params",[n("Pattern")]).field("body",n("BlockStatement")).field("generator",Boolean,o.false).field("async",Boolean,o.false),n("Statement").bases("Node"),n("EmptyStatement").bases("Statement").build(),n("BlockStatement").bases("Statement").build("body").field("body",[n("Statement")]),n("ExpressionStatement").bases("Statement").build("expression").field("expression",n("Expression")),n("IfStatement").bases("Statement").build("test","consequent","alternate").field("test",n("Expression")).field("consequent",n("Statement")).field("alternate",i(n("Statement"),null),o.null),n("LabeledStatement").bases("Statement").build("label","body").field("label",n("Identifier")).field("body",n("Statement")),n("BreakStatement").bases("Statement").build("label").field("label",i(n("Identifier"),null),o.null),n("ContinueStatement").bases("Statement").build("label").field("label",i(n("Identifier"),null),o.null),n("WithStatement").bases("Statement").build("object","body").field("object",n("Expression")).field("body",n("Statement")),n("SwitchStatement").bases("Statement").build("discriminant","cases","lexical").field("discriminant",n("Expression")).field("cases",[n("SwitchCase")]).field("lexical",Boolean,o.false),n("ReturnStatement").bases("Statement").build("argument").field("argument",i(n("Expression"),null)),n("ThrowStatement").bases("Statement").build("argument").field("argument",n("Expression")),n("TryStatement").bases("Statement").build("block","handler","finalizer").field("block",n("BlockStatement")).field("handler",i(n("CatchClause"),null),function(){return this.handlers&&this.handlers[0]||null}).field("handlers",[n("CatchClause")],function(){return this.handler?[this.handler]:[]},!0).field("guardedHandlers",[n("CatchClause")],o.emptyArray).field("finalizer",i(n("BlockStatement"),null),o.null),n("CatchClause").bases("Node").build("param","guard","body").field("param",i(n("Pattern"),null),o.null).field("guard",i(n("Expression"),null),o.null).field("body",n("BlockStatement")),n("WhileStatement").bases("Statement").build("test","body").field("test",n("Expression")).field("body",n("Statement")),n("DoWhileStatement").bases("Statement").build("body","test").field("body",n("Statement")).field("test",n("Expression")),n("ForStatement").bases("Statement").build("init","test","update","body").field("init",i(n("VariableDeclaration"),n("Expression"),null)).field("test",i(n("Expression"),null)).field("update",i(n("Expression"),null)).field("body",n("Statement")),n("ForInStatement").bases("Statement").build("left","right","body").field("left",i(n("VariableDeclaration"),n("Expression"))).field("right",n("Expression")).field("body",n("Statement")),n("DebuggerStatement").bases("Statement").build(),n("Declaration").bases("Statement"),n("FunctionDeclaration").bases("Function","Declaration").build("id","params","body").field("id",n("Identifier")),n("FunctionExpression").bases("Function","Expression").build("id","params","body"),n("VariableDeclaration").bases("Declaration").build("kind","declarations").field("kind",i("var","let","const")).field("declarations",[n("VariableDeclarator")]),n("VariableDeclarator").bases("Node").build("id","init").field("id",n("Pattern")).field("init",i(n("Expression"),null),o.null),n("Expression").bases("Node"),n("ThisExpression").bases("Expression").build(),n("ArrayExpression").bases("Expression").build("elements").field("elements",[i(n("Expression"),null)]),n("ObjectExpression").bases("Expression").build("properties").field("properties",[n("Property")]),n("Property").bases("Node").build("kind","key","value").field("kind",i("init","get","set")).field("key",i(n("Literal"),n("Identifier"))).field("value",n("Expression")),n("SequenceExpression").bases("Expression").build("expressions").field("expressions",[n("Expression")]);var u=i("-","+","!","~","typeof","void","delete");n("UnaryExpression").bases("Expression").build("operator","argument","prefix").field("operator",u).field("argument",n("Expression")).field("prefix",Boolean,o.true);var f=i("==","!=","===","!==","<","<=",">",">=","<<",">>",">>>","+","-","*","/","%","**","&","|","^","in","instanceof");n("BinaryExpression").bases("Expression").build("operator","left","right").field("operator",f).field("left",n("Expression")).field("right",n("Expression"));var c=i("=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","|=","^=","&=");n("AssignmentExpression").bases("Expression").build("operator","left","right").field("operator",c).field("left",i(n("Pattern"),n("MemberExpression"))).field("right",n("Expression"));var d=i("++","--");n("UpdateExpression").bases("Expression").build("operator","argument","prefix").field("operator",d).field("argument",n("Expression")).field("prefix",Boolean);var p=i("||","&&");n("LogicalExpression").bases("Expression").build("operator","left","right").field("operator",p).field("left",n("Expression")).field("right",n("Expression")),n("ConditionalExpression").bases("Expression").build("test","consequent","alternate").field("test",n("Expression")).field("consequent",n("Expression")).field("alternate",n("Expression")),n("NewExpression").bases("Expression").build("callee","arguments").field("callee",n("Expression")).field("arguments",[n("Expression")]),n("CallExpression").bases("Expression").build("callee","arguments").field("callee",n("Expression")).field("arguments",[n("Expression")]),n("MemberExpression").bases("Expression").build("object","property","computed").field("object",n("Expression")).field("property",i(n("Identifier"),n("Expression"))).field("computed",Boolean,function(){var l=this.property.type;return l==="Literal"||l==="MemberExpression"||l==="BinaryExpression"}),n("Pattern").bases("Node"),n("SwitchCase").bases("Node").build("test","consequent").field("test",i(n("Expression"),null)).field("consequent",[n("Statement")]),n("Identifier").bases("Expression","Pattern").build("name").field("name",String).field("optional",Boolean,o.false),n("Literal").bases("Expression").build("value").field("value",i(String,Boolean,null,Number,RegExp)).field("regex",i({pattern:String,flags:String},null),function(){if(this.value instanceof RegExp){var l="";return this.value.ignoreCase&&(l+="i"),this.value.multiline&&(l+="m"),this.value.global&&(l+="g"),{pattern:this.value.source,flags:l}}return null}),n("Comment").bases("Printable").field("value",String).field("leading",Boolean,o.true).field("trailing",Boolean,o.false)}Dm.default=sX;gB.exports=Dm.default});var ww=M((Fm,yB)=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});var bw=(Bt(),Pt(Rt)),oX=bw.__importDefault(Am()),aX=bw.__importDefault(Zt()),uX=bw.__importDefault(yi());function lX(t){t.use(oX.default);var e=t.use(aX.default),r=e.Type.def,n=e.Type.or,i=t.use(uX.default).defaults;r("Function").field("generator",Boolean,i.false).field("expression",Boolean,i.false).field("defaults",[n(r("Expression"),null)],i.emptyArray).field("rest",n(r("Identifier"),null),i.null),r("RestElement").bases("Pattern").build("argument").field("argument",r("Pattern")).field("typeAnnotation",n(r("TypeAnnotation"),r("TSTypeAnnotation"),null),i.null),r("SpreadElementPattern").bases("Pattern").build("argument").field("argument",r("Pattern")),r("FunctionDeclaration").build("id","params","body","generator","expression"),r("FunctionExpression").build("id","params","body","generator","expression"),r("ArrowFunctionExpression").bases("Function","Expression").build("params","body","expression").field("id",null,i.null).field("body",n(r("BlockStatement"),r("Expression"))).field("generator",!1,i.false),r("ForOfStatement").bases("Statement").build("left","right","body").field("left",n(r("VariableDeclaration"),r("Pattern"))).field("right",r("Expression")).field("body",r("Statement")),r("YieldExpression").bases("Expression").build("argument","delegate").field("argument",n(r("Expression"),null)).field("delegate",Boolean,i.false),r("GeneratorExpression").bases("Expression").build("body","blocks","filter").field("body",r("Expression")).field("blocks",[r("ComprehensionBlock")]).field("filter",n(r("Expression"),null)),r("ComprehensionExpression").bases("Expression").build("body","blocks","filter").field("body",r("Expression")).field("blocks",[r("ComprehensionBlock")]).field("filter",n(r("Expression"),null)),r("ComprehensionBlock").bases("Node").build("left","right","each").field("left",r("Pattern")).field("right",r("Expression")).field("each",Boolean),r("Property").field("key",n(r("Literal"),r("Identifier"),r("Expression"))).field("value",n(r("Expression"),r("Pattern"))).field("method",Boolean,i.false).field("shorthand",Boolean,i.false).field("computed",Boolean,i.false),r("ObjectProperty").field("shorthand",Boolean,i.false),r("PropertyPattern").bases("Pattern").build("key","pattern").field("key",n(r("Literal"),r("Identifier"),r("Expression"))).field("pattern",r("Pattern")).field("computed",Boolean,i.false),r("ObjectPattern").bases("Pattern").build("properties").field("properties",[n(r("PropertyPattern"),r("Property"))]),r("ArrayPattern").bases("Pattern").build("elements").field("elements",[n(r("Pattern"),null)]),r("MethodDefinition").bases("Declaration").build("kind","key","value","static").field("kind",n("constructor","method","get","set")).field("key",r("Expression")).field("value",r("Function")).field("computed",Boolean,i.false).field("static",Boolean,i.false),r("SpreadElement").bases("Node").build("argument").field("argument",r("Expression")),r("ArrayExpression").field("elements",[n(r("Expression"),r("SpreadElement"),r("RestElement"),null)]),r("NewExpression").field("arguments",[n(r("Expression"),r("SpreadElement"))]),r("CallExpression").field("arguments",[n(r("Expression"),r("SpreadElement"))]),r("AssignmentPattern").bases("Pattern").build("left","right").field("left",r("Pattern")).field("right",r("Expression"));var s=n(r("MethodDefinition"),r("VariableDeclarator"),r("ClassPropertyDefinition"),r("ClassProperty"));r("ClassProperty").bases("Declaration").build("key").field("key",n(r("Literal"),r("Identifier"),r("Expression"))).field("computed",Boolean,i.false),r("ClassPropertyDefinition").bases("Declaration").build("definition").field("definition",s),r("ClassBody").bases("Declaration").build("body").field("body",[s]),r("ClassDeclaration").bases("Declaration").build("id","body","superClass").field("id",n(r("Identifier"),null)).field("body",r("ClassBody")).field("superClass",n(r("Expression"),null),i.null),r("ClassExpression").bases("Expression").build("id","body","superClass").field("id",n(r("Identifier"),null),i.null).field("body",r("ClassBody")).field("superClass",n(r("Expression"),null),i.null),r("Specifier").bases("Node"),r("ModuleSpecifier").bases("Specifier").field("local",n(r("Identifier"),null),i.null).field("id",n(r("Identifier"),null),i.null).field("name",n(r("Identifier"),null),i.null),r("ImportSpecifier").bases("ModuleSpecifier").build("id","name"),r("ImportNamespaceSpecifier").bases("ModuleSpecifier").build("id"),r("ImportDefaultSpecifier").bases("ModuleSpecifier").build("id"),r("ImportDeclaration").bases("Declaration").build("specifiers","source","importKind").field("specifiers",[n(r("ImportSpecifier"),r("ImportNamespaceSpecifier"),r("ImportDefaultSpecifier"))],i.emptyArray).field("source",r("Literal")).field("importKind",n("value","type"),function(){return"value"}),r("TaggedTemplateExpression").bases("Expression").build("tag","quasi").field("tag",r("Expression")).field("quasi",r("TemplateLiteral")),r("TemplateLiteral").bases("Expression").build("quasis","expressions").field("quasis",[r("TemplateElement")]).field("expressions",[r("Expression")]),r("TemplateElement").bases("Node").build("value","tail").field("value",{cooked:String,raw:String}).field("tail",Boolean)}Fm.default=lX;yB.exports=Fm.default});var xa=M((_m,vB)=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});var xw=(Bt(),Pt(Rt)),cX=xw.__importDefault(ww()),fX=xw.__importDefault(Zt()),hX=xw.__importDefault(yi());function dX(t){t.use(cX.default);var e=t.use(fX.default),r=e.Type.def,n=e.Type.or,i=t.use(hX.default).defaults;r("Function").field("async",Boolean,i.false),r("SpreadProperty").bases("Node").build("argument").field("argument",r("Expression")),r("ObjectExpression").field("properties",[n(r("Property"),r("SpreadProperty"),r("SpreadElement"))]),r("SpreadPropertyPattern").bases("Pattern").build("argument").field("argument",r("Pattern")),r("ObjectPattern").field("properties",[n(r("Property"),r("PropertyPattern"),r("SpreadPropertyPattern"))]),r("AwaitExpression").bases("Expression").build("argument","all").field("argument",n(r("Expression"),null)).field("all",Boolean,i.false)}_m.default=dX;vB.exports=_m.default});var wB=M((km,bB)=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});var EB=(Bt(),Pt(Rt)),pX=EB.__importDefault(xa()),mX=EB.__importDefault(Zt());function gX(t){t.use(pX.default);var e=t.use(mX.default),r=e.Type.def;r("ImportExpression").bases("Expression").build("source").field("source",r("Expression"))}km.default=gX;bB.exports=km.default});var CB=M((Im,xB)=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});var Cw=(Bt(),Pt(Rt)),yX=Cw.__importDefault(xa()),vX=Cw.__importDefault(Zt()),EX=Cw.__importDefault(yi());function bX(t){t.use(yX.default);var e=t.use(vX.default),r=e.Type.def,n=e.Type.or,i=t.use(EX.default).defaults;r("JSXAttribute").bases("Node").build("name","value").field("name",n(r("JSXIdentifier"),r("JSXNamespacedName"))).field("value",n(r("Literal"),r("JSXExpressionContainer"),null),i.null),r("JSXIdentifier").bases("Identifier").build("name").field("name",String),r("JSXNamespacedName").bases("Node").build("namespace","name").field("namespace",r("JSXIdentifier")).field("name",r("JSXIdentifier")),r("JSXMemberExpression").bases("MemberExpression").build("object","property").field("object",n(r("JSXIdentifier"),r("JSXMemberExpression"))).field("property",r("JSXIdentifier")).field("computed",Boolean,i.false);var s=n(r("JSXIdentifier"),r("JSXNamespacedName"),r("JSXMemberExpression"));r("JSXSpreadAttribute").bases("Node").build("argument").field("argument",r("Expression"));var o=[n(r("JSXAttribute"),r("JSXSpreadAttribute"))];r("JSXExpressionContainer").bases("Expression").build("expression").field("expression",r("Expression")),r("JSXElement").bases("Expression").build("openingElement","closingElement","children").field("openingElement",r("JSXOpeningElement")).field("closingElement",n(r("JSXClosingElement"),null),i.null).field("children",[n(r("JSXElement"),r("JSXExpressionContainer"),r("JSXFragment"),r("JSXText"),r("Literal"))],i.emptyArray).field("name",s,function(){return this.openingElement.name},!0).field("selfClosing",Boolean,function(){return this.openingElement.selfClosing},!0).field("attributes",o,function(){return this.openingElement.attributes},!0),r("JSXOpeningElement").bases("Node").build("name","attributes","selfClosing").field("name",s).field("attributes",o,i.emptyArray).field("selfClosing",Boolean,i.false),r("JSXClosingElement").bases("Node").build("name").field("name",s),r("JSXFragment").bases("Expression").build("openingElement","closingElement","children").field("openingElement",r("JSXOpeningFragment")).field("closingElement",r("JSXClosingFragment")).field("children",[n(r("JSXElement"),r("JSXExpressionContainer"),r("JSXFragment"),r("JSXText"),r("Literal"))],i.emptyArray),r("JSXOpeningFragment").bases("Node").build(),r("JSXClosingFragment").bases("Node").build(),r("JSXText").bases("Literal").build("value").field("value",String),r("JSXEmptyExpression").bases("Expression").build(),r("JSXSpreadChild").bases("Expression").build("expression").field("expression",r("Expression"))}Im.default=bX;xB.exports=Im.default});var Sw=M((Pm,DB)=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});var SB=(Bt(),Pt(Rt)),wX=SB.__importDefault(Zt()),xX=SB.__importDefault(yi());function CX(t){var e=t.use(wX.default),r=e.Type.def,n=e.Type.or,i=t.use(xX.default).defaults,s=n(r("TypeAnnotation"),r("TSTypeAnnotation"),null),o=n(r("TypeParameterDeclaration"),r("TSTypeParameterDeclaration"),null);r("Identifier").field("typeAnnotation",s,i.null),r("ObjectPattern").field("typeAnnotation",s,i.null),r("Function").field("returnType",s,i.null).field("typeParameters",o,i.null),r("ClassProperty").build("key","value","typeAnnotation","static").field("value",n(r("Expression"),null)).field("static",Boolean,i.false).field("typeAnnotation",s,i.null),["ClassDeclaration","ClassExpression"].forEach(function(a){r(a).field("typeParameters",o,i.null).field("superTypeParameters",n(r("TypeParameterInstantiation"),r("TSTypeParameterInstantiation"),null),i.null).field("implements",n([r("ClassImplements")],[r("TSExpressionWithTypeArguments")]),i.emptyArray)})}Pm.default=CX;DB.exports=Pm.default});var Dw=M((Om,AB)=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});var Tm=(Bt(),Pt(Rt)),SX=Tm.__importDefault(xa()),DX=Tm.__importDefault(Sw()),AX=Tm.__importDefault(Zt()),FX=Tm.__importDefault(yi());function _X(t){t.use(SX.default),t.use(DX.default);var e=t.use(AX.default),r=e.Type.def,n=e.Type.or,i=t.use(FX.default).defaults;r("Flow").bases("Node"),r("FlowType").bases("Flow"),r("AnyTypeAnnotation").bases("FlowType").build(),r("EmptyTypeAnnotation").bases("FlowType").build(),r("MixedTypeAnnotation").bases("FlowType").build(),r("VoidTypeAnnotation").bases("FlowType").build(),r("NumberTypeAnnotation").bases("FlowType").build(),r("NumberLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Number).field("raw",String),r("NumericLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Number).field("raw",String),r("StringTypeAnnotation").bases("FlowType").build(),r("StringLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",String).field("raw",String),r("BooleanTypeAnnotation").bases("FlowType").build(),r("BooleanLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Boolean).field("raw",String),r("TypeAnnotation").bases("Node").build("typeAnnotation").field("typeAnnotation",r("FlowType")),r("NullableTypeAnnotation").bases("FlowType").build("typeAnnotation").field("typeAnnotation",r("FlowType")),r("NullLiteralTypeAnnotation").bases("FlowType").build(),r("NullTypeAnnotation").bases("FlowType").build(),r("ThisTypeAnnotation").bases("FlowType").build(),r("ExistsTypeAnnotation").bases("FlowType").build(),r("ExistentialTypeParam").bases("FlowType").build(),r("FunctionTypeAnnotation").bases("FlowType").build("params","returnType","rest","typeParameters").field("params",[r("FunctionTypeParam")]).field("returnType",r("FlowType")).field("rest",n(r("FunctionTypeParam"),null)).field("typeParameters",n(r("TypeParameterDeclaration"),null)),r("FunctionTypeParam").bases("Node").build("name","typeAnnotation","optional").field("name",r("Identifier")).field("typeAnnotation",r("FlowType")).field("optional",Boolean),r("ArrayTypeAnnotation").bases("FlowType").build("elementType").field("elementType",r("FlowType")),r("ObjectTypeAnnotation").bases("FlowType").build("properties","indexers","callProperties").field("properties",[n(r("ObjectTypeProperty"),r("ObjectTypeSpreadProperty"))]).field("indexers",[r("ObjectTypeIndexer")],i.emptyArray).field("callProperties",[r("ObjectTypeCallProperty")],i.emptyArray).field("inexact",n(Boolean,void 0),i.undefined).field("exact",Boolean,i.false).field("internalSlots",[r("ObjectTypeInternalSlot")],i.emptyArray),r("Variance").bases("Node").build("kind").field("kind",n("plus","minus"));var s=n(r("Variance"),"plus","minus",null);r("ObjectTypeProperty").bases("Node").build("key","value","optional").field("key",n(r("Literal"),r("Identifier"))).field("value",r("FlowType")).field("optional",Boolean).field("variance",s,i.null),r("ObjectTypeIndexer").bases("Node").build("id","key","value").field("id",r("Identifier")).field("key",r("FlowType")).field("value",r("FlowType")).field("variance",s,i.null),r("ObjectTypeCallProperty").bases("Node").build("value").field("value",r("FunctionTypeAnnotation")).field("static",Boolean,i.false),r("QualifiedTypeIdentifier").bases("Node").build("qualification","id").field("qualification",n(r("Identifier"),r("QualifiedTypeIdentifier"))).field("id",r("Identifier")),r("GenericTypeAnnotation").bases("FlowType").build("id","typeParameters").field("id",n(r("Identifier"),r("QualifiedTypeIdentifier"))).field("typeParameters",n(r("TypeParameterInstantiation"),null)),r("MemberTypeAnnotation").bases("FlowType").build("object","property").field("object",r("Identifier")).field("property",n(r("MemberTypeAnnotation"),r("GenericTypeAnnotation"))),r("UnionTypeAnnotation").bases("FlowType").build("types").field("types",[r("FlowType")]),r("IntersectionTypeAnnotation").bases("FlowType").build("types").field("types",[r("FlowType")]),r("TypeofTypeAnnotation").bases("FlowType").build("argument").field("argument",r("FlowType")),r("ObjectTypeSpreadProperty").bases("Node").build("argument").field("argument",r("FlowType")),r("ObjectTypeInternalSlot").bases("Node").build("id","value","optional","static","method").field("id",r("Identifier")).field("value",r("FlowType")).field("optional",Boolean).field("static",Boolean).field("method",Boolean),r("TypeParameterDeclaration").bases("Node").build("params").field("params",[r("TypeParameter")]),r("TypeParameterInstantiation").bases("Node").build("params").field("params",[r("FlowType")]),r("TypeParameter").bases("FlowType").build("name","variance","bound").field("name",String).field("variance",s,i.null).field("bound",n(r("TypeAnnotation"),null),i.null),r("ClassProperty").field("variance",s,i.null),r("ClassImplements").bases("Node").build("id").field("id",r("Identifier")).field("superClass",n(r("Expression"),null),i.null).field("typeParameters",n(r("TypeParameterInstantiation"),null),i.null),r("InterfaceTypeAnnotation").bases("FlowType").build("body","extends").field("body",r("ObjectTypeAnnotation")).field("extends",n([r("InterfaceExtends")],null),i.null),r("InterfaceDeclaration").bases("Declaration").build("id","body","extends").field("id",r("Identifier")).field("typeParameters",n(r("TypeParameterDeclaration"),null),i.null).field("body",r("ObjectTypeAnnotation")).field("extends",[r("InterfaceExtends")]),r("DeclareInterface").bases("InterfaceDeclaration").build("id","body","extends"),r("InterfaceExtends").bases("Node").build("id").field("id",r("Identifier")).field("typeParameters",n(r("TypeParameterInstantiation"),null),i.null),r("TypeAlias").bases("Declaration").build("id","typeParameters","right").field("id",r("Identifier")).field("typeParameters",n(r("TypeParameterDeclaration"),null)).field("right",r("FlowType")),r("OpaqueType").bases("Declaration").build("id","typeParameters","impltype","supertype").field("id",r("Identifier")).field("typeParameters",n(r("TypeParameterDeclaration"),null)).field("impltype",r("FlowType")).field("supertype",r("FlowType")),r("DeclareTypeAlias").bases("TypeAlias").build("id","typeParameters","right"),r("DeclareOpaqueType").bases("TypeAlias").build("id","typeParameters","supertype"),r("TypeCastExpression").bases("Expression").build("expression","typeAnnotation").field("expression",r("Expression")).field("typeAnnotation",r("TypeAnnotation")),r("TupleTypeAnnotation").bases("FlowType").build("types").field("types",[r("FlowType")]),r("DeclareVariable").bases("Statement").build("id").field("id",r("Identifier")),r("DeclareFunction").bases("Statement").build("id").field("id",r("Identifier")),r("DeclareClass").bases("InterfaceDeclaration").build("id"),r("DeclareModule").bases("Statement").build("id","body").field("id",n(r("Identifier"),r("Literal"))).field("body",r("BlockStatement")),r("DeclareModuleExports").bases("Statement").build("typeAnnotation").field("typeAnnotation",r("TypeAnnotation")),r("DeclareExportDeclaration").bases("Declaration").build("default","declaration","specifiers","source").field("default",Boolean).field("declaration",n(r("DeclareVariable"),r("DeclareFunction"),r("DeclareClass"),r("FlowType"),null)).field("specifiers",[n(r("ExportSpecifier"),r("ExportBatchSpecifier"))],i.emptyArray).field("source",n(r("Literal"),null),i.null),r("DeclareExportAllDeclaration").bases("Declaration").build("source").field("source",n(r("Literal"),null),i.null),r("FlowPredicate").bases("Flow"),r("InferredPredicate").bases("FlowPredicate").build(),r("DeclaredPredicate").bases("FlowPredicate").build("value").field("value",r("Expression")),r("CallExpression").field("typeArguments",n(null,r("TypeParameterInstantiation")),i.null),r("NewExpression").field("typeArguments",n(null,r("TypeParameterInstantiation")),i.null)}Om.default=_X;AB.exports=Om.default});var _B=M((Rm,FB)=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});var Aw=(Bt(),Pt(Rt)),kX=Aw.__importDefault(xa()),IX=Aw.__importDefault(Zt()),PX=Aw.__importDefault(yi());function TX(t){t.use(kX.default);var e=t.use(IX.default),r=t.use(PX.default).defaults,n=e.Type.def,i=e.Type.or;n("VariableDeclaration").field("declarations",[i(n("VariableDeclarator"),n("Identifier"))]),n("Property").field("value",i(n("Expression"),n("Pattern"))),n("ArrayPattern").field("elements",[i(n("Pattern"),n("SpreadElement"),null)]),n("ObjectPattern").field("properties",[i(n("Property"),n("PropertyPattern"),n("SpreadPropertyPattern"),n("SpreadProperty"))]),n("ExportSpecifier").bases("ModuleSpecifier").build("id","name"),n("ExportBatchSpecifier").bases("Specifier").build(),n("ExportDeclaration").bases("Declaration").build("default","declaration","specifiers","source").field("default",Boolean).field("declaration",i(n("Declaration"),n("Expression"),null)).field("specifiers",[i(n("ExportSpecifier"),n("ExportBatchSpecifier"))],r.emptyArray).field("source",i(n("Literal"),null),r.null),n("Block").bases("Comment").build("value","leading","trailing"),n("Line").bases("Comment").build("value","leading","trailing")}Rm.default=TX;FB.exports=Rm.default});var _w=M((Bm,kB)=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});var Fw=(Bt(),Pt(Rt)),OX=Fw.__importDefault(Zt()),RX=Fw.__importDefault(yi()),BX=Fw.__importDefault(xa());function LX(t){t.use(BX.default);var e=t.use(OX.default),r=t.use(RX.default).defaults,n=e.Type.def,i=e.Type.or;n("Noop").bases("Statement").build(),n("DoExpression").bases("Expression").build("body").field("body",[n("Statement")]),n("Super").bases("Expression").build(),n("BindExpression").bases("Expression").build("object","callee").field("object",i(n("Expression"),null)).field("callee",n("Expression")),n("Decorator").bases("Node").build("expression").field("expression",n("Expression")),n("Property").field("decorators",i([n("Decorator")],null),r.null),n("MethodDefinition").field("decorators",i([n("Decorator")],null),r.null),n("MetaProperty").bases("Expression").build("meta","property").field("meta",n("Identifier")).field("property",n("Identifier")),n("ParenthesizedExpression").bases("Expression").build("expression").field("expression",n("Expression")),n("ImportSpecifier").bases("ModuleSpecifier").build("imported","local").field("imported",n("Identifier")),n("ImportDefaultSpecifier").bases("ModuleSpecifier").build("local"),n("ImportNamespaceSpecifier").bases("ModuleSpecifier").build("local"),n("ExportDefaultDeclaration").bases("Declaration").build("declaration").field("declaration",i(n("Declaration"),n("Expression"))),n("ExportNamedDeclaration").bases("Declaration").build("declaration","specifiers","source").field("declaration",i(n("Declaration"),null)).field("specifiers",[n("ExportSpecifier")],r.emptyArray).field("source",i(n("Literal"),null),r.null),n("ExportSpecifier").bases("ModuleSpecifier").build("local","exported").field("exported",n("Identifier")),n("ExportNamespaceSpecifier").bases("Specifier").build("exported").field("exported",n("Identifier")),n("ExportDefaultSpecifier").bases("Specifier").build("exported").field("exported",n("Identifier")),n("ExportAllDeclaration").bases("Declaration").build("exported","source").field("exported",i(n("Identifier"),null)).field("source",n("Literal")),n("CommentBlock").bases("Comment").build("value","leading","trailing"),n("CommentLine").bases("Comment").build("value","leading","trailing"),n("Directive").bases("Node").build("value").field("value",n("DirectiveLiteral")),n("DirectiveLiteral").bases("Node","Expression").build("value").field("value",String,r["use strict"]),n("InterpreterDirective").bases("Node").build("value").field("value",String),n("BlockStatement").bases("Statement").build("body").field("body",[n("Statement")]).field("directives",[n("Directive")],r.emptyArray),n("Program").bases("Node").build("body").field("body",[n("Statement")]).field("directives",[n("Directive")],r.emptyArray).field("interpreter",i(n("InterpreterDirective"),null),r.null),n("StringLiteral").bases("Literal").build("value").field("value",String),n("NumericLiteral").bases("Literal").build("value").field("value",Number).field("raw",i(String,null),r.null).field("extra",{rawValue:Number,raw:String},function(){return{rawValue:this.value,raw:this.value+""}}),n("BigIntLiteral").bases("Literal").build("value").field("value",i(String,Number)).field("extra",{rawValue:String,raw:String},function(){return{rawValue:String(this.value),raw:this.value+"n"}}),n("NullLiteral").bases("Literal").build().field("value",null,r.null),n("BooleanLiteral").bases("Literal").build("value").field("value",Boolean),n("RegExpLiteral").bases("Literal").build("pattern","flags").field("pattern",String).field("flags",String).field("value",RegExp,function(){return new RegExp(this.pattern,this.flags)});var s=i(n("Property"),n("ObjectMethod"),n("ObjectProperty"),n("SpreadProperty"),n("SpreadElement"));n("ObjectExpression").bases("Expression").build("properties").field("properties",[s]),n("ObjectMethod").bases("Node","Function").build("kind","key","params","body","computed").field("kind",i("method","get","set")).field("key",i(n("Literal"),n("Identifier"),n("Expression"))).field("params",[n("Pattern")]).field("body",n("BlockStatement")).field("computed",Boolean,r.false).field("generator",Boolean,r.false).field("async",Boolean,r.false).field("accessibility",i(n("Literal"),null),r.null).field("decorators",i([n("Decorator")],null),r.null),n("ObjectProperty").bases("Node").build("key","value").field("key",i(n("Literal"),n("Identifier"),n("Expression"))).field("value",i(n("Expression"),n("Pattern"))).field("accessibility",i(n("Literal"),null),r.null).field("computed",Boolean,r.false);var o=i(n("MethodDefinition"),n("VariableDeclarator"),n("ClassPropertyDefinition"),n("ClassProperty"),n("ClassPrivateProperty"),n("ClassMethod"),n("ClassPrivateMethod"));n("ClassBody").bases("Declaration").build("body").field("body",[o]),n("ClassMethod").bases("Declaration","Function").build("kind","key","params","body","computed","static").field("key",i(n("Literal"),n("Identifier"),n("Expression"))),n("ClassPrivateMethod").bases("Declaration","Function").build("key","params","body","kind","computed","static").field("key",n("PrivateName")),["ClassMethod","ClassPrivateMethod"].forEach(function(u){n(u).field("kind",i("get","set","method","constructor"),function(){return"method"}).field("body",n("BlockStatement")).field("computed",Boolean,r.false).field("static",i(Boolean,null),r.null).field("abstract",i(Boolean,null),r.null).field("access",i("public","private","protected",null),r.null).field("accessibility",i("public","private","protected",null),r.null).field("decorators",i([n("Decorator")],null),r.null).field("optional",i(Boolean,null),r.null)}),n("ClassPrivateProperty").bases("ClassProperty").build("key","value").field("key",n("PrivateName")).field("value",i(n("Expression"),null),r.null),n("PrivateName").bases("Expression","Pattern").build("id").field("id",n("Identifier"));var a=i(n("Property"),n("PropertyPattern"),n("SpreadPropertyPattern"),n("SpreadProperty"),n("ObjectProperty"),n("RestProperty"));n("ObjectPattern").bases("Pattern").build("properties").field("properties",[a]).field("decorators",i([n("Decorator")],null),r.null),n("SpreadProperty").bases("Node").build("argument").field("argument",n("Expression")),n("RestProperty").bases("Node").build("argument").field("argument",n("Expression")),n("ForAwaitStatement").bases("Statement").build("left","right","body").field("left",i(n("VariableDeclaration"),n("Expression"))).field("right",n("Expression")).field("body",n("Statement")),n("Import").bases("Expression").build()}Bm.default=LX;kB.exports=Bm.default});var TB=M((Lm,PB)=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});var IB=(Bt(),Pt(Rt)),NX=IB.__importDefault(_w()),MX=IB.__importDefault(Dw());function jX(t){t.use(NX.default),t.use(MX.default)}Lm.default=jX;PB.exports=Lm.default});var RB=M((Mm,OB)=>{"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});var Nm=(Bt(),Pt(Rt)),$X=Nm.__importDefault(_w()),UX=Nm.__importDefault(Sw()),qX=Nm.__importDefault(Zt()),VX=Nm.__importDefault(yi());function HX(t){t.use($X.default),t.use(UX.default);var e=t.use(qX.default),r=e.namedTypes,n=e.Type.def,i=e.Type.or,s=t.use(VX.default).defaults,o=e.Type.from(function(c,d){return!!(r.StringLiteral&&r.StringLiteral.check(c,d)||r.Literal&&r.Literal.check(c,d)&&typeof c.value=="string")},"StringLiteral");n("TSType").bases("Node");var a=i(n("Identifier"),n("TSQualifiedName"));n("TSTypeReference").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("typeName","typeParameters").field("typeName",a),n("TSHasOptionalTypeParameterInstantiation").field("typeParameters",i(n("TSTypeParameterInstantiation"),null),s.null),n("TSHasOptionalTypeParameters").field("typeParameters",i(n("TSTypeParameterDeclaration"),null,void 0),s.null),n("TSHasOptionalTypeAnnotation").field("typeAnnotation",i(n("TSTypeAnnotation"),null),s.null),n("TSQualifiedName").bases("Node").build("left","right").field("left",a).field("right",a),n("TSAsExpression").bases("Expression","Pattern").build("expression","typeAnnotation").field("expression",n("Expression")).field("typeAnnotation",n("TSType")).field("extra",i({parenthesized:Boolean},null),s.null),n("TSNonNullExpression").bases("Expression","Pattern").build("expression").field("expression",n("Expression")),["TSAnyKeyword","TSBigIntKeyword","TSBooleanKeyword","TSNeverKeyword","TSNullKeyword","TSNumberKeyword","TSObjectKeyword","TSStringKeyword","TSSymbolKeyword","TSUndefinedKeyword","TSUnknownKeyword","TSVoidKeyword","TSThisType"].forEach(function(c){n(c).bases("TSType").build()}),n("TSArrayType").bases("TSType").build("elementType").field("elementType",n("TSType")),n("TSLiteralType").bases("TSType").build("literal").field("literal",i(n("NumericLiteral"),n("StringLiteral"),n("BooleanLiteral"),n("TemplateLiteral"),n("UnaryExpression"))),["TSUnionType","TSIntersectionType"].forEach(function(c){n(c).bases("TSType").build("types").field("types",[n("TSType")])}),n("TSConditionalType").bases("TSType").build("checkType","extendsType","trueType","falseType").field("checkType",n("TSType")).field("extendsType",n("TSType")).field("trueType",n("TSType")).field("falseType",n("TSType")),n("TSInferType").bases("TSType").build("typeParameter").field("typeParameter",n("TSTypeParameter")),n("TSParenthesizedType").bases("TSType").build("typeAnnotation").field("typeAnnotation",n("TSType"));var u=[i(n("Identifier"),n("RestElement"),n("ArrayPattern"),n("ObjectPattern"))];["TSFunctionType","TSConstructorType"].forEach(function(c){n(c).bases("TSType","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("parameters").field("parameters",u)}),n("TSDeclareFunction").bases("Declaration","TSHasOptionalTypeParameters").build("id","params","returnType").field("declare",Boolean,s.false).field("async",Boolean,s.false).field("generator",Boolean,s.false).field("id",i(n("Identifier"),null),s.null).field("params",[n("Pattern")]).field("returnType",i(n("TSTypeAnnotation"),n("Noop"),null),s.null),n("TSDeclareMethod").bases("Declaration","TSHasOptionalTypeParameters").build("key","params","returnType").field("async",Boolean,s.false).field("generator",Boolean,s.false).field("params",[n("Pattern")]).field("abstract",Boolean,s.false).field("accessibility",i("public","private","protected",void 0),s.undefined).field("static",Boolean,s.false).field("computed",Boolean,s.false).field("optional",Boolean,s.false).field("key",i(n("Identifier"),n("StringLiteral"),n("NumericLiteral"),n("Expression"))).field("kind",i("get","set","method","constructor"),function(){return"method"}).field("access",i("public","private","protected",void 0),s.undefined).field("decorators",i([n("Decorator")],null),s.null).field("returnType",i(n("TSTypeAnnotation"),n("Noop"),null),s.null),n("TSMappedType").bases("TSType").build("typeParameter","typeAnnotation").field("readonly",i(Boolean,"+","-"),s.false).field("typeParameter",n("TSTypeParameter")).field("optional",i(Boolean,"+","-"),s.false).field("typeAnnotation",i(n("TSType"),null),s.null),n("TSTupleType").bases("TSType").build("elementTypes").field("elementTypes",[i(n("TSType"),n("TSNamedTupleMember"))]),n("TSNamedTupleMember").bases("TSType").build("label","elementType","optional").field("label",n("Identifier")).field("optional",Boolean,s.false).field("elementType",n("TSType")),n("TSRestType").bases("TSType").build("typeAnnotation").field("typeAnnotation",n("TSType")),n("TSOptionalType").bases("TSType").build("typeAnnotation").field("typeAnnotation",n("TSType")),n("TSIndexedAccessType").bases("TSType").build("objectType","indexType").field("objectType",n("TSType")).field("indexType",n("TSType")),n("TSTypeOperator").bases("TSType").build("operator").field("operator",String).field("typeAnnotation",n("TSType")),n("TSTypeAnnotation").bases("Node").build("typeAnnotation").field("typeAnnotation",i(n("TSType"),n("TSTypeAnnotation"))),n("TSIndexSignature").bases("Declaration","TSHasOptionalTypeAnnotation").build("parameters","typeAnnotation").field("parameters",[n("Identifier")]).field("readonly",Boolean,s.false),n("TSPropertySignature").bases("Declaration","TSHasOptionalTypeAnnotation").build("key","typeAnnotation","optional").field("key",n("Expression")).field("computed",Boolean,s.false).field("readonly",Boolean,s.false).field("optional",Boolean,s.false).field("initializer",i(n("Expression"),null),s.null),n("TSMethodSignature").bases("Declaration","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("key","parameters","typeAnnotation").field("key",n("Expression")).field("computed",Boolean,s.false).field("optional",Boolean,s.false).field("parameters",u),n("TSTypePredicate").bases("TSTypeAnnotation","TSType").build("parameterName","typeAnnotation","asserts").field("parameterName",i(n("Identifier"),n("TSThisType"))).field("typeAnnotation",i(n("TSTypeAnnotation"),null),s.null).field("asserts",Boolean,s.false),["TSCallSignatureDeclaration","TSConstructSignatureDeclaration"].forEach(function(c){n(c).bases("Declaration","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("parameters","typeAnnotation").field("parameters",u)}),n("TSEnumMember").bases("Node").build("id","initializer").field("id",i(n("Identifier"),o)).field("initializer",i(n("Expression"),null),s.null),n("TSTypeQuery").bases("TSType").build("exprName").field("exprName",i(a,n("TSImportType")));var f=i(n("TSCallSignatureDeclaration"),n("TSConstructSignatureDeclaration"),n("TSIndexSignature"),n("TSMethodSignature"),n("TSPropertySignature"));n("TSTypeLiteral").bases("TSType").build("members").field("members",[f]),n("TSTypeParameter").bases("Identifier").build("name","constraint","default").field("name",String).field("constraint",i(n("TSType"),void 0),s.undefined).field("default",i(n("TSType"),void 0),s.undefined),n("TSTypeAssertion").bases("Expression","Pattern").build("typeAnnotation","expression").field("typeAnnotation",n("TSType")).field("expression",n("Expression")).field("extra",i({parenthesized:Boolean},null),s.null),n("TSTypeParameterDeclaration").bases("Declaration").build("params").field("params",[n("TSTypeParameter")]),n("TSTypeParameterInstantiation").bases("Node").build("params").field("params",[n("TSType")]),n("TSEnumDeclaration").bases("Declaration").build("id","members").field("id",n("Identifier")).field("const",Boolean,s.false).field("declare",Boolean,s.false).field("members",[n("TSEnumMember")]).field("initializer",i(n("Expression"),null),s.null),n("TSTypeAliasDeclaration").bases("Declaration","TSHasOptionalTypeParameters").build("id","typeAnnotation").field("id",n("Identifier")).field("declare",Boolean,s.false).field("typeAnnotation",n("TSType")),n("TSModuleBlock").bases("Node").build("body").field("body",[n("Statement")]),n("TSModuleDeclaration").bases("Declaration").build("id","body").field("id",i(o,a)).field("declare",Boolean,s.false).field("global",Boolean,s.false).field("body",i(n("TSModuleBlock"),n("TSModuleDeclaration"),null),s.null),n("TSImportType").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("argument","qualifier","typeParameters").field("argument",o).field("qualifier",i(a,void 0),s.undefined),n("TSImportEqualsDeclaration").bases("Declaration").build("id","moduleReference").field("id",n("Identifier")).field("isExport",Boolean,s.false).field("moduleReference",i(a,n("TSExternalModuleReference"))),n("TSExternalModuleReference").bases("Declaration").build("expression").field("expression",o),n("TSExportAssignment").bases("Statement").build("expression").field("expression",n("Expression")),n("TSNamespaceExportDeclaration").bases("Declaration").build("id").field("id",n("Identifier")),n("TSInterfaceBody").bases("Node").build("body").field("body",[f]),n("TSExpressionWithTypeArguments").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("expression","typeParameters").field("expression",a),n("TSInterfaceDeclaration").bases("Declaration","TSHasOptionalTypeParameters").build("id","body").field("id",a).field("declare",Boolean,s.false).field("extends",i([n("TSExpressionWithTypeArguments")],null),s.null).field("body",n("TSInterfaceBody")),n("TSParameterProperty").bases("Pattern").build("parameter").field("accessibility",i("public","private","protected",void 0),s.undefined).field("readonly",Boolean,s.false).field("parameter",i(n("Identifier"),n("AssignmentPattern"))),n("ClassProperty").field("access",i("public","private","protected",void 0),s.undefined),n("ClassBody").field("body",[i(n("MethodDefinition"),n("VariableDeclarator"),n("ClassPropertyDefinition"),n("ClassProperty"),n("ClassPrivateProperty"),n("ClassMethod"),n("ClassPrivateMethod"),n("TSDeclareMethod"),f)])}Mm.default=HX;OB.exports=Mm.default});var LB=M((jm,BB)=>{"use strict";Object.defineProperty(jm,"__esModule",{value:!0});var kw=(Bt(),Pt(Rt)),zX=kw.__importDefault(Zt()),WX=kw.__importDefault(yi()),GX=kw.__importDefault(Am());function JX(t){t.use(GX.default);var e=t.use(zX.default),r=e.Type,n=e.Type.def,i=r.or,s=t.use(WX.default),o=s.defaults;n("OptionalMemberExpression").bases("MemberExpression").build("object","property","computed","optional").field("optional",Boolean,o.true),n("OptionalCallExpression").bases("CallExpression").build("callee","arguments","optional").field("optional",Boolean,o.true);var a=i("||","&&","??");n("LogicalExpression").field("operator",a)}jm.default=JX;BB.exports=jm.default});var NB=M(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.namedTypes=void 0;var KX;(function(t){})(KX=Sf.namedTypes||(Sf.namedTypes={}))});var jB=M(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.visit=Ze.use=Ze.Type=Ze.someField=Ze.PathVisitor=Ze.Path=Ze.NodePath=Ze.namedTypes=Ze.getSupertypeNames=Ze.getFieldValue=Ze.getFieldNames=Ze.getBuilderName=Ze.finalize=Ze.eachField=Ze.defineMethod=Ze.builtInTypes=Ze.builders=Ze.astNodesAreEquivalent=void 0;var vi=(Bt(),Pt(Rt)),XX=vi.__importDefault(dB()),YX=vi.__importDefault(Am()),ZX=vi.__importDefault(ww()),QX=vi.__importDefault(xa()),eY=vi.__importDefault(wB()),tY=vi.__importDefault(CB()),rY=vi.__importDefault(Dw()),nY=vi.__importDefault(_B()),iY=vi.__importDefault(TB()),sY=vi.__importDefault(RB()),oY=vi.__importDefault(LB()),MB=NB();Object.defineProperty(Ze,"namedTypes",{enumerable:!0,get:function(){return MB.namedTypes}});var ar=XX.default([YX.default,ZX.default,QX.default,eY.default,tY.default,rY.default,nY.default,iY.default,sY.default,oY.default]),aY=ar.astNodesAreEquivalent,uY=ar.builders,lY=ar.builtInTypes,cY=ar.defineMethod,fY=ar.eachField,hY=ar.finalize,dY=ar.getBuilderName,pY=ar.getFieldNames,mY=ar.getFieldValue,gY=ar.getSupertypeNames,yY=ar.namedTypes,vY=ar.NodePath,EY=ar.Path,bY=ar.PathVisitor,wY=ar.someField,xY=ar.Type,CY=ar.use,SY=ar.visit;Ze.astNodesAreEquivalent=aY;Ze.builders=uY;Ze.builtInTypes=lY;Ze.defineMethod=cY;Ze.eachField=fY;Ze.finalize=hY;Ze.getBuilderName=dY;Ze.getFieldNames=pY;Ze.getFieldValue=mY;Ze.getSupertypeNames=gY;Ze.NodePath=vY;Ze.Path=EY;Ze.PathVisitor=bY;Ze.someField=wY;Ze.Type=xY;Ze.use=CY;Ze.visit=SY;Object.assign(MB.namedTypes,yY)});var Sa=M(Gm=>{"use strict";var qm=["Number","String","Boolean","Date","RegExp","Map","WeakMap","Set","WeakSet","Promise","Function"],Vm=["RangeError","ReferenceError","SyntaxError","TypeError","EvalError","URIError","Error"],DY="Operation not allowed on contextified object.",xs={__proto__:null,Object:Object.prototype,Array:Array.prototype};for(let t=0;t<qm.length;t++){let e=qm[t],r=global[e];r&&(xs[e]=r.prototype)}for(let t=0;t<Vm.length;t++){let e=Vm[t],r=global[e];r&&(xs[e]=r.prototype)}var{getPrototypeOf:Ca,setPrototypeOf:Wm,defineProperty:co,deleteProperty:AY,getOwnPropertyDescriptor:FY,isExtensible:Iw,preventExtensions:$B,apply:Ut,construct:_Y,set:kY,get:IY,has:PY,ownKeys:TY,enumerate:OY}=Reflect,RY=Object,{freeze:Lw,prototype:Bw}=RY,Pw=Bw.hasOwnProperty,Hm=Proxy,qB=WeakMap,{get:Tw,set:$m}=qB.prototype,zm=Map,Um=zm.prototype.get,ul=zm.prototype.set,BY=Function,LY=BY.prototype.bind,NY=Array.isArray,MY=Error.captureStackTrace,jY=Symbol.prototype.toString,Ow=Symbol.toStringTag,$Y=Symbol.iterator,UY=Symbol.for("nodejs.util.inspect.custom"),$r=class extends Error{constructor(e,r){super(e),this.name="VMError",this.code=r,MY(this,this.constructor)}};xs.VMError=$r.prototype;function Hi(){return new $r("Unexpected")}if(!Wm(Gm,null))throw Hi();function Rw(t,e){let r=FY(t,e);if(!r)return r;if(!Wm(r,null))throw Hi();return r}function VB(t){"use strict";return VB[t],Hi()}function UB(t,e){return e}var qY=Lw({__proto__:null,get(t,e,r){throw typeof e=="symbol"&&(e=Ut(jY,e,[])),new $r(`Unexpected access to key '${e}'`)}}),HB=Lw({__proto__:null}),zB=new Hm(HB,qY);function WB(){}if(!co(WB,"prototype",{__proto__:null,value:zB}))throw Hi();function VY(){}var HY=Lw({__proto__:zB,construct(){return this}});function zY(t){let e=new Hm(t,HY);try{return new e,!0}catch{return!1}}function WY(t,e){let r;if(typeof t=="function")zY(t)?r=Ut(LY,VY,[null]):r=()=>{};else if(NY(t))r=[];else return{__proto__:e};if(!Wm(r,e))throw Hi();return r}function GY(t,e){let r=new qB,n=new zm,i=new zm;function s(fe,se,te){Ut(ul,n,[fe,UB]),Ut(ul,n,[se,(ue,pe)=>he(ue,pe,fe)]),te&&Ut(ul,i,[fe,te])}function o(fe,se,te){let ue;Ut(ul,n,[se,(pe,ve)=>(ue||(ue=fe(),Ut(ul,n,[ue,UB]),te&&Ut(ul,i,[ue,te])),he(pe,ve,ue))])}let a={__proto__:null,globalPrototypes:xs,safeGetOwnPropertyDescriptor:Rw,fromArguments:ye,from:ie,fromWithFactory:ce,ensureThis:ee,mapping:r,connect:Le,reflectSet:kY,reflectGet:IY,reflectDefineProperty:co,reflectDeleteProperty:AY,reflectApply:Ut,reflectConstruct:_Y,reflectHas:PY,reflectOwnKeys:TY,reflectEnumerate:OY,reflectGetPrototypeOf:Ca,reflectIsExtensible:Iw,reflectPreventExtensions:$B,objectHasOwnProperty:Pw,weakMapSet:$m,addProtoMapping:s,addProtoMappingFactory:o,defaultFactory:z,protectedFactory:W,readonlyFactory:$,VMError:$r},u=typeof t!="object";u&&(t=t(a,e)),a.other=t;let{globalPrototypes:f,safeGetOwnPropertyDescriptor:c,fromArguments:d,from:p,mapping:l,reflectSet:h,reflectGet:y,reflectDefineProperty:g,reflectDeleteProperty:v,reflectApply:b,reflectConstruct:x,reflectHas:E,reflectOwnKeys:S,reflectEnumerate:F,reflectGetPrototypeOf:P,reflectIsExtensible:V,reflectPreventExtensions:H,objectHasOwnProperty:j,weakMapSet:R}=t;function N(fe,se){try{return b(j,fe,[se])===!0}catch(te){throw me(te)}}function J(fe,se,te,ue){let pe;if(ue.get||ue.set){let ve=ue.get;if(!ve)return;try{pe=b(ve,se,[te])}catch(U){throw me(U)}}else pe=ue.value;return fe.fromOtherWithContext(pe)}function K(fe,se,te){if(!Ut(Pw,se,[te]))return!1;try{fe[te]=p(se[te])}catch(ue){throw me(ue)}return!0}class X extends WB{constructor(se){super(),this.objectWrapper=()=>se}getObject(){return this.objectWrapper()}getFactory(){return z}fromOtherWithContext(se){return ce(this.getFactory(),se)}doPreventExtensions(se,te,ue){let pe;try{pe=S(te)}catch(ve){throw me(ve)}for(let ve=0;ve<pe.length;ve++){let U=pe[ve],G;try{G=c(te,U)}catch(ge){throw me(ge)}if(G){if(G.configurable)G.get||G.set?G={__proto__:null,configurable:!0,enumerable:G.enumerable,writable:!0,value:null}:G.value=null;else{let ge=Rw(se,U);if(ge&&!ge.configurable)continue;G.get||G.set?(G.get=this.fromOtherWithContext(G.get),G.set=this.fromOtherWithContext(G.set)):typeof te=="function"&&(U==="caller"||U==="callee"||U==="arguments")?G.value=null:G.value=this.fromOtherWithContext(G.value)}if(!co(se,U,G))throw Hi()}}if(!$B(se))throw Hi()}get(se,te,ue){let pe=this.getObject();switch(te){case"constructor":{let U=c(pe,te);if(U)return J(this,pe,te,U);let G=Ca(se);return G===null?void 0:G.constructor}case"__proto__":{let U=c(pe,te);return U?J(this,pe,te,U):Ca(se)}case Ow:if(!N(pe,Ow)){let U=Ca(se),G=Ut(Um,i,[U]);if(G)return G}break;case"arguments":case"caller":case"callee":if(typeof pe=="function"&&N(pe,te))throw VB(te);break}let ve;try{ve=y(pe,te)}catch(U){throw me(U)}return this.fromOtherWithContext(ve)}set(se,te,ue,pe){let ve=this.getObject();if(te==="__proto__"&&!N(ve,te))return this.setPrototypeOf(se,ue);try{return ue=p(ue),h(ve,te,ue)===!0}catch(U){throw me(U)}}getPrototypeOf(se){return Ca(se)}setPrototypeOf(se,te){throw new $r(DY)}apply(se,te,ue){let pe=this.getObject(),ve;try{te=p(te),ue=d(ue),ve=b(pe,te,ue)}catch(U){throw me(U)}return ie(ve)}construct(se,te,ue){let pe=this.getObject(),ve;try{te=d(te),ve=x(pe,te)}catch(U){throw me(U)}return ce(this.getFactory(),ve,ie(pe))}getOwnPropertyDescriptorDesc(se,te,ue){let pe=this.getObject();return ue&&typeof pe=="function"&&(te==="arguments"||te==="caller"||te==="callee")&&(ue.value=null),ue}getOwnPropertyDescriptor(se,te){let ue=this.getObject(),pe;try{pe=c(ue,te)}catch(U){throw me(U)}if(pe=this.getOwnPropertyDescriptorDesc(se,te,pe),!pe)return;let ve;if(pe.get||pe.set?ve={__proto__:null,get:this.fromOtherWithContext(pe.get),set:this.fromOtherWithContext(pe.set),enumerable:pe.enumerable===!0,configurable:pe.configurable===!0}:ve={__proto__:null,value:this.fromOtherWithContext(pe.value),writable:pe.writable===!0,enumerable:pe.enumerable===!0,configurable:pe.configurable===!0},!ve.configurable){let U=Rw(se,te);if((!U||U.configurable||U.writable!==ve.writable)&&!co(se,te,ve))throw Hi()}return ve}definePropertyDesc(se,te,ue){return ue}defineProperty(se,te,ue){let pe=this.getObject();if(!Wm(ue,null))throw Hi();if(ue=this.definePropertyDesc(se,te,ue),!ue)return!1;let ve={__proto__:null},U=!0,G=!0,ge=!0;U&=K(ve,ue,"get"),U&=K(ve,ue,"set"),G&=K(ve,ue,"value"),G&=K(ve,ue,"writable"),ge&=K(ve,ue,"enumerable"),ge&=K(ve,ue,"configurable");try{if(!g(pe,te,ve))return!1;ve.configurable!==!0&&(!ge||!(U||G))&&(ve=c(pe,te))}catch(ae){throw me(ae)}if(!ve.configurable){let ae;if(ve.get||ve.set?ae={__proto__:null,get:this.fromOtherWithContext(ve.get),set:this.fromOtherWithContext(ve.set),enumerable:ve.enumerable,configurable:ve.configurable}:ae={__proto__:null,value:this.fromOtherWithContext(ve.value),writable:ve.writable,enumerable:ve.enumerable,configurable:ve.configurable},!co(se,te,ae))throw Hi()}return!0}deleteProperty(se,te){let ue=this.getObject();try{return v(ue,te)===!0}catch(pe){throw me(pe)}}has(se,te){let ue=this.getObject();try{return E(ue,te)===!0}catch(pe){throw me(pe)}}isExtensible(se){let te=this.getObject();try{if(V(te))return!0}catch(ue){throw me(ue)}return Iw(se)&&this.doPreventExtensions(se,te,this),!1}ownKeys(se){let te=this.getObject(),ue;try{ue=S(te)}catch(pe){throw me(pe)}return ie(ue)}preventExtensions(se){let te=this.getObject();try{if(!H(te))return!1}catch(ue){throw me(ue)}return Iw(se)&&this.doPreventExtensions(se,te,this),!0}enumerate(se){let te=this.getObject(),ue;try{ue=F(te)}catch(pe){throw me(pe)}return this.fromOtherWithContext(ue)}}X.prototype[UY]=void 0,X.prototype[Ow]="VM2 Wrapper",X.prototype[$Y]=void 0;function z(fe){return new X(fe)}class T extends X{getFactory(){return W}set(se,te,ue,pe){return typeof ue=="function"?co(pe,te,{__proto__:null,value:ue,writable:!0,enumerable:!0,configurable:!0})===!0:super.set(se,te,ue,pe)}definePropertyDesc(se,te,ue){if(!(ue&&(ue.set||ue.get||typeof ue.value=="function")))return ue}}function W(fe){return new T(fe)}class L extends X{getFactory(){return $}set(se,te,ue,pe){return co(pe,te,{__proto__:null,value:ue,writable:!0,enumerable:!0,configurable:!0})}setPrototypeOf(se,te){return!1}defineProperty(se,te,ue){return!1}deleteProperty(se,te){return!1}isExtensible(se){return!1}preventExtensions(se){return!1}}function $(fe){return new L(fe)}class Z extends L{constructor(se,te){super(se),this.mock=te}get(se,te,ue){let pe=this.getObject(),ve=this.mock;return Ut(Pw,ve,te)&&!N(pe,te)?ve[te]:super.get(se,te,ue)}}function ie(fe){return ce(z,fe)}function he(fe,se,te){let ue=WY(se,te),pe=fe(se),ve=new Hm(ue,pe);try{b(R,l,[ve,se]),e(ve,pe)}catch{throw new $r("Unexpected error")}if(!u)return Ut($m,r,[se,ve]),ve;let U=new Hm(ve,HB);try{b(R,l,[U,se]),e(U,pe)}catch{throw new $r("Unexpected error")}return Ut($m,r,[se,U]),U}function ee(fe){let se=typeof fe;switch(se){case"object":if(fe===null)return null;case"function":let te=Ca(fe);if(!te)return fe;for(;te;){let ue=Ut(Um,n,[te]);if(ue){let pe=Ut(Tw,r,[fe]);return pe||ue(z,fe)}te=Ca(te)}return fe;case"undefined":case"string":case"number":case"boolean":case"symbol":case"bigint":return fe;default:throw new $r(`Unknown type '${se}'`)}}function me(fe){for(let se=0;se<10;se++){let te=typeof fe;switch(te){case"object":if(fe===null)return null;case"function":let ue=Ut(Tw,r,[fe]);if(ue)return ue;let pe;try{pe=P(fe)}catch(ve){fe=ve;break}if(!pe)return he(z,fe,null);for(;;){let ve=Ut(Um,n,[pe]);if(ve)return ve(z,fe);try{pe=P(pe)}catch(U){fe=U;break}if(!pe)return he(z,fe,Bw)}break;case"undefined":case"string":case"number":case"boolean":case"symbol":case"bigint":return fe;default:throw new $r(`Unknown type '${te}'`)}}throw new $r("Exception recursion depth")}function ce(fe,se,te){let ue=typeof se;switch(ue){case"object":if(se===null)return null;case"function":let pe=Ut(Tw,r,[se]);if(pe)return pe;if(te)return he(fe,se,te);try{te=P(se)}catch(ve){throw me(ve)}if(!te)return he(fe,se,null);do{let ve=Ut(Um,n,[te]);if(ve)return ve(fe,se);try{te=P(te)}catch(U){throw me(U)}}while(te);return he(fe,se,Bw);case"undefined":case"string":case"number":case"boolean":case"symbol":case"bigint":return se;default:throw new $r(`Unknown type '${ue}'`)}}function ye(fe){let se=[];for(let te=0;te<fe.length;te++){let ue=ie(fe[te]);co(se,te,{__proto__:null,value:ue,writable:!0,enumerable:!0,configurable:!0})}return se}function Le(fe,se){try{b(R,l,[fe,se])}catch{throw new $r("Unexpected error")}Ut($m,r,[se,fe])}s(xs.Object,f.Object),s(xs.Array,f.Array);for(let fe=0;fe<qm.length;fe++){let se=qm[fe],te=xs[se],ue=f[se];te&&ue&&s(te,ue,se)}for(let fe=0;fe<Vm.length;fe++){let se=Vm[fe],te=xs[se],ue=f[se];te&&ue&&s(te,ue,"Error")}return s(xs.VMError,f.VMError,"Error"),a.BaseHandler=X,a.ProtectedHandler=T,a.ReadOnlyHandler=L,a.ReadOnlyMockHandler=Z,a}Gm.createBridge=GY;Gm.VMError=$r});var Df=M(Mw=>{"use strict";var{VMError:GB}=Sa(),Nw;function JY(){if(!Nw)try{let t=require("coffee-script");Nw=(e,r)=>t.compile(e,{header:!1,bare:!0})}catch{throw new GB("Coffee-Script compiler is not installed.")}return Nw}function JB(t){return t.startsWith("#!")?"//"+t.substring(2):t}function KY(t,e){return JB(t)}function XY(t){if(typeof t=="function")return t;switch(t){case"coffeescript":case"coffee-script":case"cs":case"text/coffeescript":return JY();case"javascript":case"java-script":case"js":case"text/javascript":return KY;default:throw new GB(`Unsupported compiler '${t}'.`)}}Mw.removeShebang=JB;Mw.lookupCompiler=XY});var XB=M((Jm,KB)=>{(function(t,e){typeof Jm=="object"&&typeof KB<"u"?e(Jm):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.acorn={}))})(Jm,function(t){"use strict";var e=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239],r=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],n="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",i="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",s={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},o="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",a={5:o,"5module":o+" export import",6:o+" const class extends export import super"},u=/^in(stanceof)?$/,f=new RegExp("["+i+"]"),c=new RegExp("["+i+n+"]");function d(m,w){for(var D=65536,k=0;k<w.length;k+=2){if(D+=w[k],D>m)return!1;if(D+=w[k+1],D>=m)return!0}}function p(m,w){return m<65?m===36:m<91?!0:m<97?m===95:m<123?!0:m<=65535?m>=170&&f.test(String.fromCharCode(m)):w===!1?!1:d(m,r)}function l(m,w){return m<48?m===36:m<58?!0:m<65?!1:m<91?!0:m<97?m===95:m<123?!0:m<=65535?m>=170&&c.test(String.fromCharCode(m)):w===!1?!1:d(m,r)||d(m,e)}var h=function(w,D){D===void 0&&(D={}),this.label=w,this.keyword=D.keyword,this.beforeExpr=!!D.beforeExpr,this.startsExpr=!!D.startsExpr,this.isLoop=!!D.isLoop,this.isAssign=!!D.isAssign,this.prefix=!!D.prefix,this.postfix=!!D.postfix,this.binop=D.binop||null,this.updateContext=null};function y(m,w){return new h(m,{beforeExpr:!0,binop:w})}var g={beforeExpr:!0},v={startsExpr:!0},b={};function x(m,w){return w===void 0&&(w={}),w.keyword=m,b[m]=new h(m,w)}var E={num:new h("num",v),regexp:new h("regexp",v),string:new h("string",v),name:new h("name",v),privateId:new h("privateId",v),eof:new h("eof"),bracketL:new h("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new h("]"),braceL:new h("{",{beforeExpr:!0,startsExpr:!0}),braceR:new h("}"),parenL:new h("(",{beforeExpr:!0,startsExpr:!0}),parenR:new h(")"),comma:new h(",",g),semi:new h(";",g),colon:new h(":",g),dot:new h("."),question:new h("?",g),questionDot:new h("?."),arrow:new h("=>",g),template:new h("template"),invalidTemplate:new h("invalidTemplate"),ellipsis:new h("...",g),backQuote:new h("`",v),dollarBraceL:new h("${",{beforeExpr:!0,startsExpr:!0}),eq:new h("=",{beforeExpr:!0,isAssign:!0}),assign:new h("_=",{beforeExpr:!0,isAssign:!0}),incDec:new h("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new h("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:y("||",1),logicalAND:y("&&",2),bitwiseOR:y("|",3),bitwiseXOR:y("^",4),bitwiseAND:y("&",5),equality:y("==/!=/===/!==",6),relational:y("</>/<=/>=",7),bitShift:y("<</>>/>>>",8),plusMin:new h("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:y("%",10),star:y("*",10),slash:y("/",10),starstar:new h("**",{beforeExpr:!0}),coalesce:y("??",1),_break:x("break"),_case:x("case",g),_catch:x("catch"),_continue:x("continue"),_debugger:x("debugger"),_default:x("default",g),_do:x("do",{isLoop:!0,beforeExpr:!0}),_else:x("else",g),_finally:x("finally"),_for:x("for",{isLoop:!0}),_function:x("function",v),_if:x("if"),_return:x("return",g),_switch:x("switch"),_throw:x("throw",g),_try:x("try"),_var:x("var"),_const:x("const"),_while:x("while",{isLoop:!0}),_with:x("with"),_new:x("new",{beforeExpr:!0,startsExpr:!0}),_this:x("this",v),_super:x("super",v),_class:x("class",v),_extends:x("extends",g),_export:x("export"),_import:x("import",v),_null:x("null",v),_true:x("true",v),_false:x("false",v),_in:x("in",{beforeExpr:!0,binop:7}),_instanceof:x("instanceof",{beforeExpr:!0,binop:7}),_typeof:x("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:x("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:x("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},S=/\r\n?|\n|\u2028|\u2029/,F=new RegExp(S.source,"g");function P(m){return m===10||m===13||m===8232||m===8233}function V(m,w,D){D===void 0&&(D=m.length);for(var k=w;k<D;k++){var q=m.charCodeAt(k);if(P(q))return k<D-1&&q===13&&m.charCodeAt(k+1)===10?k+2:k+1}return-1}var H=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,j=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,R=Object.prototype,N=R.hasOwnProperty,J=R.toString,K=Object.hasOwn||function(m,w){return N.call(m,w)},X=Array.isArray||function(m){return J.call(m)==="[object Array]"};function z(m){return new RegExp("^(?:"+m.replace(/ /g,"|")+")$")}function T(m){return m<=65535?String.fromCharCode(m):(m-=65536,String.fromCharCode((m>>10)+55296,(m&1023)+56320))}var W=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,L=function(w,D){this.line=w,this.column=D};L.prototype.offset=function(w){return new L(this.line,this.column+w)};var $=function(w,D,k){this.start=D,this.end=k,w.sourceFile!==null&&(this.source=w.sourceFile)};function Z(m,w){for(var D=1,k=0;;){var q=V(m,k,w);if(q<0)return new L(D,w-k);++D,k=q}}var ie={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},he=!1;function ee(m){var w={};for(var D in ie)w[D]=m&&K(m,D)?m[D]:ie[D];if(w.ecmaVersion==="latest"?w.ecmaVersion=1e8:w.ecmaVersion==null?(!he&&typeof console=="object"&&console.warn&&(he=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),w.ecmaVersion=11):w.ecmaVersion>=2015&&(w.ecmaVersion-=2009),w.allowReserved==null&&(w.allowReserved=w.ecmaVersion<5),m.allowHashBang==null&&(w.allowHashBang=w.ecmaVersion>=14),X(w.onToken)){var k=w.onToken;w.onToken=function(q){return k.push(q)}}return X(w.onComment)&&(w.onComment=me(w,w.onComment)),w}function me(m,w){return function(D,k,q,re,le,xe){var De={type:D?"Block":"Line",value:k,start:q,end:re};m.locations&&(De.loc=new $(this,le,xe)),m.ranges&&(De.range=[q,re]),w.push(De)}}var ce=1,ye=2,Le=4,fe=8,se=16,te=32,ue=64,pe=128,ve=256,U=ce|ye|ve;function G(m,w){return ye|(m?Le:0)|(w?fe:0)}var ge=0,ae=1,Q=2,_e=3,Se=4,Pe=5,Ae=function(w,D,k){this.options=w=ee(w),this.sourceFile=w.sourceFile,this.keywords=z(a[w.ecmaVersion>=6?6:w.sourceType==="module"?"5module":5]);var q="";w.allowReserved!==!0&&(q=s[w.ecmaVersion>=6?6:w.ecmaVersion===5?5:3],w.sourceType==="module"&&(q+=" await")),this.reservedWords=z(q);var re=(q?q+" ":"")+s.strict;this.reservedWordsStrict=z(re),this.reservedWordsStrictBind=z(re+" "+s.strictBind),this.input=String(D),this.containsEsc=!1,k?(this.pos=k,this.lineStart=this.input.lastIndexOf(`
`,k-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(S).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=E.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=w.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&w.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(ce),this.regexpState=null,this.privateNameStack=[]},ze={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Ae.prototype.parse=function(){var w=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(w)},ze.inFunction.get=function(){return(this.currentVarScope().flags&ye)>0},ze.inGenerator.get=function(){return(this.currentVarScope().flags&fe)>0&&!this.currentVarScope().inClassFieldInit},ze.inAsync.get=function(){return(this.currentVarScope().flags&Le)>0&&!this.currentVarScope().inClassFieldInit},ze.canAwait.get=function(){for(var m=this.scopeStack.length-1;m>=0;m--){var w=this.scopeStack[m];if(w.inClassFieldInit||w.flags&ve)return!1;if(w.flags&ye)return(w.flags&Le)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},ze.allowSuper.get=function(){var m=this.currentThisScope(),w=m.flags,D=m.inClassFieldInit;return(w&ue)>0||D||this.options.allowSuperOutsideMethod},ze.allowDirectSuper.get=function(){return(this.currentThisScope().flags&pe)>0},ze.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},ze.allowNewDotTarget.get=function(){var m=this.currentThisScope(),w=m.flags,D=m.inClassFieldInit;return(w&(ye|ve))>0||D},ze.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&ve)>0},Ae.extend=function(){for(var w=[],D=arguments.length;D--;)w[D]=arguments[D];for(var k=this,q=0;q<w.length;q++)k=w[q](k);return k},Ae.parse=function(w,D){return new this(D,w).parse()},Ae.parseExpressionAt=function(w,D,k){var q=new this(k,w,D);return q.nextToken(),q.parseExpression()},Ae.tokenizer=function(w,D){return new this(D,w)},Object.defineProperties(Ae.prototype,ze);var ke=Ae.prototype,qt=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;ke.strictDirective=function(m){if(this.options.ecmaVersion<5)return!1;for(;;){j.lastIndex=m,m+=j.exec(this.input)[0].length;var w=qt.exec(this.input.slice(m));if(!w)return!1;if((w[1]||w[2])==="use strict"){j.lastIndex=m+w[0].length;var D=j.exec(this.input),k=D.index+D[0].length,q=this.input.charAt(k);return q===";"||q==="}"||S.test(D[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(q)||q==="!"&&this.input.charAt(k+1)==="=")}m+=w[0].length,j.lastIndex=m,m+=j.exec(this.input)[0].length,this.input[m]===";"&&m++}},ke.eat=function(m){return this.type===m?(this.next(),!0):!1},ke.isContextual=function(m){return this.type===E.name&&this.value===m&&!this.containsEsc},ke.eatContextual=function(m){return this.isContextual(m)?(this.next(),!0):!1},ke.expectContextual=function(m){this.eatContextual(m)||this.unexpected()},ke.canInsertSemicolon=function(){return this.type===E.eof||this.type===E.braceR||S.test(this.input.slice(this.lastTokEnd,this.start))},ke.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},ke.semicolon=function(){!this.eat(E.semi)&&!this.insertSemicolon()&&this.unexpected()},ke.afterTrailingComma=function(m,w){if(this.type===m)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),w||this.next(),!0},ke.expect=function(m){this.eat(m)||this.unexpected()},ke.unexpected=function(m){this.raise(m??this.start,"Unexpected token")};var lt=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};ke.checkPatternErrors=function(m,w){if(m){m.trailingComma>-1&&this.raiseRecoverable(m.trailingComma,"Comma is not permitted after the rest element");var D=w?m.parenthesizedAssign:m.parenthesizedBind;D>-1&&this.raiseRecoverable(D,w?"Assigning to rvalue":"Parenthesized pattern")}},ke.checkExpressionErrors=function(m,w){if(!m)return!1;var D=m.shorthandAssign,k=m.doubleProto;if(!w)return D>=0||k>=0;D>=0&&this.raise(D,"Shorthand property assignments are valid only in destructuring patterns"),k>=0&&this.raiseRecoverable(k,"Redefinition of __proto__ property")},ke.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},ke.isSimpleAssignTarget=function(m){return m.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(m.expression):m.type==="Identifier"||m.type==="MemberExpression"};var $e=Ae.prototype;$e.parseTopLevel=function(m){var w=Object.create(null);for(m.body||(m.body=[]);this.type!==E.eof;){var D=this.parseStatement(null,!0,w);m.body.push(D)}if(this.inModule)for(var k=0,q=Object.keys(this.undefinedExports);k<q.length;k+=1){var re=q[k];this.raiseRecoverable(this.undefinedExports[re].start,"Export '"+re+"' is not defined")}return this.adaptDirectivePrologue(m.body),this.next(),m.sourceType=this.options.sourceType,this.finishNode(m,"Program")};var Eo={kind:"loop"},un={kind:"switch"};$e.isLet=function(m){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;j.lastIndex=this.pos;var w=j.exec(this.input),D=this.pos+w[0].length,k=this.input.charCodeAt(D);if(k===91||k===92||k>55295&&k<56320)return!0;if(m)return!1;if(k===123)return!0;if(p(k,!0)){for(var q=D+1;l(k=this.input.charCodeAt(q),!0);)++q;if(k===92||k>55295&&k<56320)return!0;var re=this.input.slice(D,q);if(!u.test(re))return!0}return!1},$e.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;j.lastIndex=this.pos;var m=j.exec(this.input),w=this.pos+m[0].length,D;return!S.test(this.input.slice(this.pos,w))&&this.input.slice(w,w+8)==="function"&&(w+8===this.input.length||!(l(D=this.input.charCodeAt(w+8))||D>55295&&D<56320))},$e.parseStatement=function(m,w,D){var k=this.type,q=this.startNode(),re;switch(this.isLet(m)&&(k=E._var,re="let"),k){case E._break:case E._continue:return this.parseBreakContinueStatement(q,k.keyword);case E._debugger:return this.parseDebuggerStatement(q);case E._do:return this.parseDoStatement(q);case E._for:return this.parseForStatement(q);case E._function:return m&&(this.strict||m!=="if"&&m!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(q,!1,!m);case E._class:return m&&this.unexpected(),this.parseClass(q,!0);case E._if:return this.parseIfStatement(q);case E._return:return this.parseReturnStatement(q);case E._switch:return this.parseSwitchStatement(q);case E._throw:return this.parseThrowStatement(q);case E._try:return this.parseTryStatement(q);case E._const:case E._var:return re=re||this.value,m&&re!=="var"&&this.unexpected(),this.parseVarStatement(q,re);case E._while:return this.parseWhileStatement(q);case E._with:return this.parseWithStatement(q);case E.braceL:return this.parseBlock(!0,q);case E.semi:return this.parseEmptyStatement(q);case E._export:case E._import:if(this.options.ecmaVersion>10&&k===E._import){j.lastIndex=this.pos;var le=j.exec(this.input),xe=this.pos+le[0].length,De=this.input.charCodeAt(xe);if(De===40||De===46)return this.parseExpressionStatement(q,this.parseExpression())}return this.options.allowImportExportEverywhere||(w||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),k===E._import?this.parseImport(q):this.parseExport(q,D);default:if(this.isAsyncFunction())return m&&this.unexpected(),this.next(),this.parseFunctionStatement(q,!0,!m);var Ge=this.value,Qe=this.parseExpression();return k===E.name&&Qe.type==="Identifier"&&this.eat(E.colon)?this.parseLabeledStatement(q,Ge,Qe,m):this.parseExpressionStatement(q,Qe)}},$e.parseBreakContinueStatement=function(m,w){var D=w==="break";this.next(),this.eat(E.semi)||this.insertSemicolon()?m.label=null:this.type!==E.name?this.unexpected():(m.label=this.parseIdent(),this.semicolon());for(var k=0;k<this.labels.length;++k){var q=this.labels[k];if((m.label==null||q.name===m.label.name)&&(q.kind!=null&&(D||q.kind==="loop")||m.label&&D))break}return k===this.labels.length&&this.raise(m.start,"Unsyntactic "+w),this.finishNode(m,D?"BreakStatement":"ContinueStatement")},$e.parseDebuggerStatement=function(m){return this.next(),this.semicolon(),this.finishNode(m,"DebuggerStatement")},$e.parseDoStatement=function(m){return this.next(),this.labels.push(Eo),m.body=this.parseStatement("do"),this.labels.pop(),this.expect(E._while),m.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(E.semi):this.semicolon(),this.finishNode(m,"DoWhileStatement")},$e.parseForStatement=function(m){this.next();var w=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Eo),this.enterScope(0),this.expect(E.parenL),this.type===E.semi)return w>-1&&this.unexpected(w),this.parseFor(m,null);var D=this.isLet();if(this.type===E._var||this.type===E._const||D){var k=this.startNode(),q=D?"let":this.value;return this.next(),this.parseVar(k,!0,q),this.finishNode(k,"VariableDeclaration"),(this.type===E._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&k.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===E._in?w>-1&&this.unexpected(w):m.await=w>-1),this.parseForIn(m,k)):(w>-1&&this.unexpected(w),this.parseFor(m,k))}var re=this.isContextual("let"),le=!1,xe=new lt,De=this.parseExpression(w>-1?"await":!0,xe);return this.type===E._in||(le=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===E._in?w>-1&&this.unexpected(w):m.await=w>-1),re&&le&&this.raise(De.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(De,!1,xe),this.checkLValPattern(De),this.parseForIn(m,De)):(this.checkExpressionErrors(xe,!0),w>-1&&this.unexpected(w),this.parseFor(m,De))},$e.parseFunctionStatement=function(m,w,D){return this.next(),this.parseFunction(m,Hr|(D?0:wt),!1,w)},$e.parseIfStatement=function(m){return this.next(),m.test=this.parseParenExpression(),m.consequent=this.parseStatement("if"),m.alternate=this.eat(E._else)?this.parseStatement("if"):null,this.finishNode(m,"IfStatement")},$e.parseReturnStatement=function(m){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(E.semi)||this.insertSemicolon()?m.argument=null:(m.argument=this.parseExpression(),this.semicolon()),this.finishNode(m,"ReturnStatement")},$e.parseSwitchStatement=function(m){this.next(),m.discriminant=this.parseParenExpression(),m.cases=[],this.expect(E.braceL),this.labels.push(un),this.enterScope(0);for(var w,D=!1;this.type!==E.braceR;)if(this.type===E._case||this.type===E._default){var k=this.type===E._case;w&&this.finishNode(w,"SwitchCase"),m.cases.push(w=this.startNode()),w.consequent=[],this.next(),k?w.test=this.parseExpression():(D&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),D=!0,w.test=null),this.expect(E.colon)}else w||this.unexpected(),w.consequent.push(this.parseStatement(null));return this.exitScope(),w&&this.finishNode(w,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(m,"SwitchStatement")},$e.parseThrowStatement=function(m){return this.next(),S.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),m.argument=this.parseExpression(),this.semicolon(),this.finishNode(m,"ThrowStatement")};var Ta=[];$e.parseTryStatement=function(m){if(this.next(),m.block=this.parseBlock(),m.handler=null,this.type===E._catch){var w=this.startNode();if(this.next(),this.eat(E.parenL)){w.param=this.parseBindingAtom();var D=w.param.type==="Identifier";this.enterScope(D?te:0),this.checkLValPattern(w.param,D?Se:Q),this.expect(E.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),w.param=null,this.enterScope(0);w.body=this.parseBlock(!1),this.exitScope(),m.handler=this.finishNode(w,"CatchClause")}return m.finalizer=this.eat(E._finally)?this.parseBlock():null,!m.handler&&!m.finalizer&&this.raise(m.start,"Missing catch or finally clause"),this.finishNode(m,"TryStatement")},$e.parseVarStatement=function(m,w){return this.next(),this.parseVar(m,!1,w),this.semicolon(),this.finishNode(m,"VariableDeclaration")},$e.parseWhileStatement=function(m){return this.next(),m.test=this.parseParenExpression(),this.labels.push(Eo),m.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(m,"WhileStatement")},$e.parseWithStatement=function(m){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),m.object=this.parseParenExpression(),m.body=this.parseStatement("with"),this.finishNode(m,"WithStatement")},$e.parseEmptyStatement=function(m){return this.next(),this.finishNode(m,"EmptyStatement")},$e.parseLabeledStatement=function(m,w,D,k){for(var q=0,re=this.labels;q<re.length;q+=1){var le=re[q];le.name===w&&this.raise(D.start,"Label '"+w+"' is already declared")}for(var xe=this.type.isLoop?"loop":this.type===E._switch?"switch":null,De=this.labels.length-1;De>=0;De--){var Ge=this.labels[De];if(Ge.statementStart===m.start)Ge.statementStart=this.start,Ge.kind=xe;else break}return this.labels.push({name:w,kind:xe,statementStart:this.start}),m.body=this.parseStatement(k?k.indexOf("label")===-1?k+"label":k:"label"),this.labels.pop(),m.label=D,this.finishNode(m,"LabeledStatement")},$e.parseExpressionStatement=function(m,w){return m.expression=w,this.semicolon(),this.finishNode(m,"ExpressionStatement")},$e.parseBlock=function(m,w,D){for(m===void 0&&(m=!0),w===void 0&&(w=this.startNode()),w.body=[],this.expect(E.braceL),m&&this.enterScope(0);this.type!==E.braceR;){var k=this.parseStatement(null);w.body.push(k)}return D&&(this.strict=!1),this.next(),m&&this.exitScope(),this.finishNode(w,"BlockStatement")},$e.parseFor=function(m,w){return m.init=w,this.expect(E.semi),m.test=this.type===E.semi?null:this.parseExpression(),this.expect(E.semi),m.update=this.type===E.parenR?null:this.parseExpression(),this.expect(E.parenR),m.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(m,"ForStatement")},$e.parseForIn=function(m,w){var D=this.type===E._in;return this.next(),w.type==="VariableDeclaration"&&w.declarations[0].init!=null&&(!D||this.options.ecmaVersion<8||this.strict||w.kind!=="var"||w.declarations[0].id.type!=="Identifier")&&this.raise(w.start,(D?"for-in":"for-of")+" loop variable declaration may not have an initializer"),m.left=w,m.right=D?this.parseExpression():this.parseMaybeAssign(),this.expect(E.parenR),m.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(m,D?"ForInStatement":"ForOfStatement")},$e.parseVar=function(m,w,D){for(m.declarations=[],m.kind=D;;){var k=this.startNode();if(this.parseVarId(k,D),this.eat(E.eq)?k.init=this.parseMaybeAssign(w):D==="const"&&!(this.type===E._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():k.id.type!=="Identifier"&&!(w&&(this.type===E._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):k.init=null,m.declarations.push(this.finishNode(k,"VariableDeclarator")),!this.eat(E.comma))break}return m},$e.parseVarId=function(m,w){m.id=this.parseBindingAtom(),this.checkLValPattern(m.id,w==="var"?ae:Q,!1)};var Hr=1,wt=2,bo=4;$e.parseFunction=function(m,w,D,k,q){this.initFunction(m),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!k)&&(this.type===E.star&&w&wt&&this.unexpected(),m.generator=this.eat(E.star)),this.options.ecmaVersion>=8&&(m.async=!!k),w&Hr&&(m.id=w&bo&&this.type!==E.name?null:this.parseIdent(),m.id&&!(w&wt)&&this.checkLValSimple(m.id,this.strict||m.generator||m.async?this.treatFunctionsAsVar?ae:Q:_e));var re=this.yieldPos,le=this.awaitPos,xe=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(G(m.async,m.generator)),w&Hr||(m.id=this.type===E.name?this.parseIdent():null),this.parseFunctionParams(m),this.parseFunctionBody(m,D,!1,q),this.yieldPos=re,this.awaitPos=le,this.awaitIdentPos=xe,this.finishNode(m,w&Hr?"FunctionDeclaration":"FunctionExpression")},$e.parseFunctionParams=function(m){this.expect(E.parenL),m.params=this.parseBindingList(E.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},$e.parseClass=function(m,w){this.next();var D=this.strict;this.strict=!0,this.parseClassId(m,w),this.parseClassSuper(m);var k=this.enterClassBody(),q=this.startNode(),re=!1;for(q.body=[],this.expect(E.braceL);this.type!==E.braceR;){var le=this.parseClassElement(m.superClass!==null);le&&(q.body.push(le),le.type==="MethodDefinition"&&le.kind==="constructor"?(re&&this.raise(le.start,"Duplicate constructor in the same class"),re=!0):le.key&&le.key.type==="PrivateIdentifier"&&Bl(k,le)&&this.raiseRecoverable(le.key.start,"Identifier '#"+le.key.name+"' has already been declared"))}return this.strict=D,this.next(),m.body=this.finishNode(q,"ClassBody"),this.exitClassBody(),this.finishNode(m,w?"ClassDeclaration":"ClassExpression")},$e.parseClassElement=function(m){if(this.eat(E.semi))return null;var w=this.options.ecmaVersion,D=this.startNode(),k="",q=!1,re=!1,le="method",xe=!1;if(this.eatContextual("static")){if(w>=13&&this.eat(E.braceL))return this.parseClassStaticBlock(D),D;this.isClassElementNameStart()||this.type===E.star?xe=!0:k="static"}if(D.static=xe,!k&&w>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===E.star)&&!this.canInsertSemicolon()?re=!0:k="async"),!k&&(w>=9||!re)&&this.eat(E.star)&&(q=!0),!k&&!re&&!q){var De=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?le=De:k=De)}if(k?(D.computed=!1,D.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),D.key.name=k,this.finishNode(D.key,"Identifier")):this.parseClassElementName(D),w<13||this.type===E.parenL||le!=="method"||q||re){var Ge=!D.static&&ct(D,"constructor"),Qe=Ge&&m;Ge&&le!=="method"&&this.raise(D.key.start,"Constructor can't have get/set modifier"),D.kind=Ge?"constructor":le,this.parseClassMethod(D,q,re,Qe)}else this.parseClassField(D);return D},$e.isClassElementNameStart=function(){return this.type===E.name||this.type===E.privateId||this.type===E.num||this.type===E.string||this.type===E.bracketL||this.type.keyword},$e.parseClassElementName=function(m){this.type===E.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),m.computed=!1,m.key=this.parsePrivateIdent()):this.parsePropertyName(m)},$e.parseClassMethod=function(m,w,D,k){var q=m.key;m.kind==="constructor"?(w&&this.raise(q.start,"Constructor can't be a generator"),D&&this.raise(q.start,"Constructor can't be an async method")):m.static&&ct(m,"prototype")&&this.raise(q.start,"Classes may not have a static property named prototype");var re=m.value=this.parseMethod(w,D,k);return m.kind==="get"&&re.params.length!==0&&this.raiseRecoverable(re.start,"getter should have no params"),m.kind==="set"&&re.params.length!==1&&this.raiseRecoverable(re.start,"setter should have exactly one param"),m.kind==="set"&&re.params[0].type==="RestElement"&&this.raiseRecoverable(re.params[0].start,"Setter cannot use rest params"),this.finishNode(m,"MethodDefinition")},$e.parseClassField=function(m){if(ct(m,"constructor")?this.raise(m.key.start,"Classes can't have a field named 'constructor'"):m.static&&ct(m,"prototype")&&this.raise(m.key.start,"Classes can't have a static field named 'prototype'"),this.eat(E.eq)){var w=this.currentThisScope(),D=w.inClassFieldInit;w.inClassFieldInit=!0,m.value=this.parseMaybeAssign(),w.inClassFieldInit=D}else m.value=null;return this.semicolon(),this.finishNode(m,"PropertyDefinition")},$e.parseClassStaticBlock=function(m){m.body=[];var w=this.labels;for(this.labels=[],this.enterScope(ve|ue);this.type!==E.braceR;){var D=this.parseStatement(null);m.body.push(D)}return this.next(),this.exitScope(),this.labels=w,this.finishNode(m,"StaticBlock")},$e.parseClassId=function(m,w){this.type===E.name?(m.id=this.parseIdent(),w&&this.checkLValSimple(m.id,Q,!1)):(w===!0&&this.unexpected(),m.id=null)},$e.parseClassSuper=function(m){m.superClass=this.eat(E._extends)?this.parseExprSubscripts(!1):null},$e.enterClassBody=function(){var m={declared:Object.create(null),used:[]};return this.privateNameStack.push(m),m.declared},$e.exitClassBody=function(){for(var m=this.privateNameStack.pop(),w=m.declared,D=m.used,k=this.privateNameStack.length,q=k===0?null:this.privateNameStack[k-1],re=0;re<D.length;++re){var le=D[re];K(w,le.name)||(q?q.used.push(le):this.raiseRecoverable(le.start,"Private field '#"+le.name+"' must be declared in an enclosing class"))}};function Bl(m,w){var D=w.key.name,k=m[D],q="true";return w.type==="MethodDefinition"&&(w.kind==="get"||w.kind==="set")&&(q=(w.static?"s":"i")+w.kind),k==="iget"&&q==="iset"||k==="iset"&&q==="iget"||k==="sget"&&q==="sset"||k==="sset"&&q==="sget"?(m[D]="true",!1):k?!0:(m[D]=q,!1)}function ct(m,w){var D=m.computed,k=m.key;return!D&&(k.type==="Identifier"&&k.name===w||k.type==="Literal"&&k.value===w)}$e.parseExport=function(m,w){if(this.next(),this.eat(E.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(m.exported=this.parseModuleExportName(),this.checkExport(w,m.exported,this.lastTokStart)):m.exported=null),this.expectContextual("from"),this.type!==E.string&&this.unexpected(),m.source=this.parseExprAtom(),this.semicolon(),this.finishNode(m,"ExportAllDeclaration");if(this.eat(E._default)){this.checkExport(w,"default",this.lastTokStart);var D;if(this.type===E._function||(D=this.isAsyncFunction())){var k=this.startNode();this.next(),D&&this.next(),m.declaration=this.parseFunction(k,Hr|bo,!1,D)}else if(this.type===E._class){var q=this.startNode();m.declaration=this.parseClass(q,"nullableID")}else m.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(m,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())m.declaration=this.parseStatement(null),m.declaration.type==="VariableDeclaration"?this.checkVariableExport(w,m.declaration.declarations):this.checkExport(w,m.declaration.id,m.declaration.id.start),m.specifiers=[],m.source=null;else{if(m.declaration=null,m.specifiers=this.parseExportSpecifiers(w),this.eatContextual("from"))this.type!==E.string&&this.unexpected(),m.source=this.parseExprAtom();else{for(var re=0,le=m.specifiers;re<le.length;re+=1){var xe=le[re];this.checkUnreserved(xe.local),this.checkLocalExport(xe.local),xe.local.type==="Literal"&&this.raise(xe.local.start,"A string literal cannot be used as an exported binding without `from`.")}m.source=null}this.semicolon()}return this.finishNode(m,"ExportNamedDeclaration")},$e.checkExport=function(m,w,D){m&&(typeof w!="string"&&(w=w.type==="Identifier"?w.name:w.value),K(m,w)&&this.raiseRecoverable(D,"Duplicate export '"+w+"'"),m[w]=!0)},$e.checkPatternExport=function(m,w){var D=w.type;if(D==="Identifier")this.checkExport(m,w,w.start);else if(D==="ObjectPattern")for(var k=0,q=w.properties;k<q.length;k+=1){var re=q[k];this.checkPatternExport(m,re)}else if(D==="ArrayPattern")for(var le=0,xe=w.elements;le<xe.length;le+=1){var De=xe[le];De&&this.checkPatternExport(m,De)}else D==="Property"?this.checkPatternExport(m,w.value):D==="AssignmentPattern"?this.checkPatternExport(m,w.left):D==="RestElement"?this.checkPatternExport(m,w.argument):D==="ParenthesizedExpression"&&this.checkPatternExport(m,w.expression)},$e.checkVariableExport=function(m,w){if(m)for(var D=0,k=w;D<k.length;D+=1){var q=k[D];this.checkPatternExport(m,q.id)}},$e.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},$e.parseExportSpecifiers=function(m){var w=[],D=!0;for(this.expect(E.braceL);!this.eat(E.braceR);){if(D)D=!1;else if(this.expect(E.comma),this.afterTrailingComma(E.braceR))break;var k=this.startNode();k.local=this.parseModuleExportName(),k.exported=this.eatContextual("as")?this.parseModuleExportName():k.local,this.checkExport(m,k.exported,k.exported.start),w.push(this.finishNode(k,"ExportSpecifier"))}return w},$e.parseImport=function(m){return this.next(),this.type===E.string?(m.specifiers=Ta,m.source=this.parseExprAtom()):(m.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),m.source=this.type===E.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(m,"ImportDeclaration")},$e.parseImportSpecifiers=function(){var m=[],w=!0;if(this.type===E.name){var D=this.startNode();if(D.local=this.parseIdent(),this.checkLValSimple(D.local,Q),m.push(this.finishNode(D,"ImportDefaultSpecifier")),!this.eat(E.comma))return m}if(this.type===E.star){var k=this.startNode();return this.next(),this.expectContextual("as"),k.local=this.parseIdent(),this.checkLValSimple(k.local,Q),m.push(this.finishNode(k,"ImportNamespaceSpecifier")),m}for(this.expect(E.braceL);!this.eat(E.braceR);){if(w)w=!1;else if(this.expect(E.comma),this.afterTrailingComma(E.braceR))break;var q=this.startNode();q.imported=this.parseModuleExportName(),this.eatContextual("as")?q.local=this.parseIdent():(this.checkUnreserved(q.imported),q.local=q.imported),this.checkLValSimple(q.local,Q),m.push(this.finishNode(q,"ImportSpecifier"))}return m},$e.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===E.string){var m=this.parseLiteral(this.value);return W.test(m.value)&&this.raise(m.start,"An export name cannot include a lone surrogate."),m}return this.parseIdent(!0)},$e.adaptDirectivePrologue=function(m){for(var w=0;w<m.length&&this.isDirectiveCandidate(m[w]);++w)m[w].directive=m[w].expression.raw.slice(1,-1)},$e.isDirectiveCandidate=function(m){return this.options.ecmaVersion>=5&&m.type==="ExpressionStatement"&&m.expression.type==="Literal"&&typeof m.expression.value=="string"&&(this.input[m.start]==='"'||this.input[m.start]==="'")};var ft=Ae.prototype;ft.toAssignable=function(m,w,D){if(this.options.ecmaVersion>=6&&m)switch(m.type){case"Identifier":this.inAsync&&m.name==="await"&&this.raise(m.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":m.type="ObjectPattern",D&&this.checkPatternErrors(D,!0);for(var k=0,q=m.properties;k<q.length;k+=1){var re=q[k];this.toAssignable(re,w),re.type==="RestElement"&&(re.argument.type==="ArrayPattern"||re.argument.type==="ObjectPattern")&&this.raise(re.argument.start,"Unexpected token")}break;case"Property":m.kind!=="init"&&this.raise(m.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(m.value,w);break;case"ArrayExpression":m.type="ArrayPattern",D&&this.checkPatternErrors(D,!0),this.toAssignableList(m.elements,w);break;case"SpreadElement":m.type="RestElement",this.toAssignable(m.argument,w),m.argument.type==="AssignmentPattern"&&this.raise(m.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":m.operator!=="="&&this.raise(m.left.end,"Only '=' operator can be used for specifying default value."),m.type="AssignmentPattern",delete m.operator,this.toAssignable(m.left,w);break;case"ParenthesizedExpression":this.toAssignable(m.expression,w,D);break;case"ChainExpression":this.raiseRecoverable(m.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!w)break;default:this.raise(m.start,"Assigning to rvalue")}else D&&this.checkPatternErrors(D,!0);return m},ft.toAssignableList=function(m,w){for(var D=m.length,k=0;k<D;k++){var q=m[k];q&&this.toAssignable(q,w)}if(D){var re=m[D-1];this.options.ecmaVersion===6&&w&&re&&re.type==="RestElement"&&re.argument.type!=="Identifier"&&this.unexpected(re.argument.start)}return m},ft.parseSpread=function(m){var w=this.startNode();return this.next(),w.argument=this.parseMaybeAssign(!1,m),this.finishNode(w,"SpreadElement")},ft.parseRestBinding=function(){var m=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==E.name&&this.unexpected(),m.argument=this.parseBindingAtom(),this.finishNode(m,"RestElement")},ft.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case E.bracketL:var m=this.startNode();return this.next(),m.elements=this.parseBindingList(E.bracketR,!0,!0),this.finishNode(m,"ArrayPattern");case E.braceL:return this.parseObj(!0)}return this.parseIdent()},ft.parseBindingList=function(m,w,D){for(var k=[],q=!0;!this.eat(m);)if(q?q=!1:this.expect(E.comma),w&&this.type===E.comma)k.push(null);else{if(D&&this.afterTrailingComma(m))break;if(this.type===E.ellipsis){var re=this.parseRestBinding();this.parseBindingListItem(re),k.push(re),this.type===E.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(m);break}else{var le=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(le),k.push(le)}}return k},ft.parseBindingListItem=function(m){return m},ft.parseMaybeDefault=function(m,w,D){if(D=D||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(E.eq))return D;var k=this.startNodeAt(m,w);return k.left=D,k.right=this.parseMaybeAssign(),this.finishNode(k,"AssignmentPattern")},ft.checkLValSimple=function(m,w,D){w===void 0&&(w=ge);var k=w!==ge;switch(m.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(m.name)&&this.raiseRecoverable(m.start,(k?"Binding ":"Assigning to ")+m.name+" in strict mode"),k&&(w===Q&&m.name==="let"&&this.raiseRecoverable(m.start,"let is disallowed as a lexically bound name"),D&&(K(D,m.name)&&this.raiseRecoverable(m.start,"Argument name clash"),D[m.name]=!0),w!==Pe&&this.declareName(m.name,w,m.start));break;case"ChainExpression":this.raiseRecoverable(m.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":k&&this.raiseRecoverable(m.start,"Binding member expression");break;case"ParenthesizedExpression":return k&&this.raiseRecoverable(m.start,"Binding parenthesized expression"),this.checkLValSimple(m.expression,w,D);default:this.raise(m.start,(k?"Binding":"Assigning to")+" rvalue")}},ft.checkLValPattern=function(m,w,D){switch(w===void 0&&(w=ge),m.type){case"ObjectPattern":for(var k=0,q=m.properties;k<q.length;k+=1){var re=q[k];this.checkLValInnerPattern(re,w,D)}break;case"ArrayPattern":for(var le=0,xe=m.elements;le<xe.length;le+=1){var De=xe[le];De&&this.checkLValInnerPattern(De,w,D)}break;default:this.checkLValSimple(m,w,D)}},ft.checkLValInnerPattern=function(m,w,D){switch(w===void 0&&(w=ge),m.type){case"Property":this.checkLValInnerPattern(m.value,w,D);break;case"AssignmentPattern":this.checkLValPattern(m.left,w,D);break;case"RestElement":this.checkLValPattern(m.argument,w,D);break;default:this.checkLValPattern(m,w,D)}};var Vt=function(w,D,k,q,re){this.token=w,this.isExpr=!!D,this.preserveSpace=!!k,this.override=q,this.generator=!!re},rt={b_stat:new Vt("{",!1),b_expr:new Vt("{",!0),b_tmpl:new Vt("${",!1),p_stat:new Vt("(",!1),p_expr:new Vt("(",!0),q_tmpl:new Vt("`",!0,!0,function(m){return m.tryReadTemplateToken()}),f_stat:new Vt("function",!1),f_expr:new Vt("function",!0),f_expr_gen:new Vt("function",!0,!1,null,!0),f_gen:new Vt("function",!1,!1,null,!0)},ne=Ae.prototype;ne.initialContext=function(){return[rt.b_stat]},ne.curContext=function(){return this.context[this.context.length-1]},ne.braceIsBlock=function(m){var w=this.curContext();return w===rt.f_expr||w===rt.f_stat?!0:m===E.colon&&(w===rt.b_stat||w===rt.b_expr)?!w.isExpr:m===E._return||m===E.name&&this.exprAllowed?S.test(this.input.slice(this.lastTokEnd,this.start)):m===E._else||m===E.semi||m===E.eof||m===E.parenR||m===E.arrow?!0:m===E.braceL?w===rt.b_stat:m===E._var||m===E._const||m===E.name?!1:!this.exprAllowed},ne.inGeneratorContext=function(){for(var m=this.context.length-1;m>=1;m--){var w=this.context[m];if(w.token==="function")return w.generator}return!1},ne.updateContext=function(m){var w,D=this.type;D.keyword&&m===E.dot?this.exprAllowed=!1:(w=D.updateContext)?w.call(this,m):this.exprAllowed=D.beforeExpr},ne.overrideContext=function(m){this.curContext()!==m&&(this.context[this.context.length-1]=m)},E.parenR.updateContext=E.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var m=this.context.pop();m===rt.b_stat&&this.curContext().token==="function"&&(m=this.context.pop()),this.exprAllowed=!m.isExpr},E.braceL.updateContext=function(m){this.context.push(this.braceIsBlock(m)?rt.b_stat:rt.b_expr),this.exprAllowed=!0},E.dollarBraceL.updateContext=function(){this.context.push(rt.b_tmpl),this.exprAllowed=!0},E.parenL.updateContext=function(m){var w=m===E._if||m===E._for||m===E._with||m===E._while;this.context.push(w?rt.p_stat:rt.p_expr),this.exprAllowed=!0},E.incDec.updateContext=function(){},E._function.updateContext=E._class.updateContext=function(m){m.beforeExpr&&m!==E._else&&!(m===E.semi&&this.curContext()!==rt.p_stat)&&!(m===E._return&&S.test(this.input.slice(this.lastTokEnd,this.start)))&&!((m===E.colon||m===E.braceL)&&this.curContext()===rt.b_stat)?this.context.push(rt.f_expr):this.context.push(rt.f_stat),this.exprAllowed=!1},E.backQuote.updateContext=function(){this.curContext()===rt.q_tmpl?this.context.pop():this.context.push(rt.q_tmpl),this.exprAllowed=!1},E.star.updateContext=function(m){if(m===E._function){var w=this.context.length-1;this.context[w]===rt.f_expr?this.context[w]=rt.f_expr_gen:this.context[w]=rt.f_gen}this.exprAllowed=!0},E.name.updateContext=function(m){var w=!1;this.options.ecmaVersion>=6&&m!==E.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(w=!0),this.exprAllowed=w};var Y=Ae.prototype;Y.checkPropClash=function(m,w,D){if(!(this.options.ecmaVersion>=9&&m.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(m.computed||m.method||m.shorthand))){var k=m.key,q;switch(k.type){case"Identifier":q=k.name;break;case"Literal":q=String(k.value);break;default:return}var re=m.kind;if(this.options.ecmaVersion>=6){q==="__proto__"&&re==="init"&&(w.proto&&(D?D.doubleProto<0&&(D.doubleProto=k.start):this.raiseRecoverable(k.start,"Redefinition of __proto__ property")),w.proto=!0);return}q="$"+q;var le=w[q];if(le){var xe;re==="init"?xe=this.strict&&le.init||le.get||le.set:xe=le.init||le[re],xe&&this.raiseRecoverable(k.start,"Redefinition of property")}else le=w[q]={init:!1,get:!1,set:!1};le[re]=!0}},Y.parseExpression=function(m,w){var D=this.start,k=this.startLoc,q=this.parseMaybeAssign(m,w);if(this.type===E.comma){var re=this.startNodeAt(D,k);for(re.expressions=[q];this.eat(E.comma);)re.expressions.push(this.parseMaybeAssign(m,w));return this.finishNode(re,"SequenceExpression")}return q},Y.parseMaybeAssign=function(m,w,D){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(m);this.exprAllowed=!1}var k=!1,q=-1,re=-1,le=-1;w?(q=w.parenthesizedAssign,re=w.trailingComma,le=w.doubleProto,w.parenthesizedAssign=w.trailingComma=-1):(w=new lt,k=!0);var xe=this.start,De=this.startLoc;(this.type===E.parenL||this.type===E.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=m==="await");var Ge=this.parseMaybeConditional(m,w);if(D&&(Ge=D.call(this,Ge,xe,De)),this.type.isAssign){var Qe=this.startNodeAt(xe,De);return Qe.operator=this.value,this.type===E.eq&&(Ge=this.toAssignable(Ge,!1,w)),k||(w.parenthesizedAssign=w.trailingComma=w.doubleProto=-1),w.shorthandAssign>=Ge.start&&(w.shorthandAssign=-1),this.type===E.eq?this.checkLValPattern(Ge):this.checkLValSimple(Ge),Qe.left=Ge,this.next(),Qe.right=this.parseMaybeAssign(m),le>-1&&(w.doubleProto=le),this.finishNode(Qe,"AssignmentExpression")}else k&&this.checkExpressionErrors(w,!0);return q>-1&&(w.parenthesizedAssign=q),re>-1&&(w.trailingComma=re),Ge},Y.parseMaybeConditional=function(m,w){var D=this.start,k=this.startLoc,q=this.parseExprOps(m,w);if(this.checkExpressionErrors(w))return q;if(this.eat(E.question)){var re=this.startNodeAt(D,k);return re.test=q,re.consequent=this.parseMaybeAssign(),this.expect(E.colon),re.alternate=this.parseMaybeAssign(m),this.finishNode(re,"ConditionalExpression")}return q},Y.parseExprOps=function(m,w){var D=this.start,k=this.startLoc,q=this.parseMaybeUnary(w,!1,!1,m);return this.checkExpressionErrors(w)||q.start===D&&q.type==="ArrowFunctionExpression"?q:this.parseExprOp(q,D,k,-1,m)},Y.parseExprOp=function(m,w,D,k,q){var re=this.type.binop;if(re!=null&&(!q||this.type!==E._in)&&re>k){var le=this.type===E.logicalOR||this.type===E.logicalAND,xe=this.type===E.coalesce;xe&&(re=E.logicalAND.binop);var De=this.value;this.next();var Ge=this.start,Qe=this.startLoc,gr=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,q),Ge,Qe,re,q),wo=this.buildBinary(w,D,m,gr,De,le||xe);return(le&&this.type===E.coalesce||xe&&(this.type===E.logicalOR||this.type===E.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(wo,w,D,k,q)}return m},Y.buildBinary=function(m,w,D,k,q,re){k.type==="PrivateIdentifier"&&this.raise(k.start,"Private identifier can only be left side of binary expression");var le=this.startNodeAt(m,w);return le.left=D,le.operator=q,le.right=k,this.finishNode(le,re?"LogicalExpression":"BinaryExpression")},Y.parseMaybeUnary=function(m,w,D,k){var q=this.start,re=this.startLoc,le;if(this.isContextual("await")&&this.canAwait)le=this.parseAwait(k),w=!0;else if(this.type.prefix){var xe=this.startNode(),De=this.type===E.incDec;xe.operator=this.value,xe.prefix=!0,this.next(),xe.argument=this.parseMaybeUnary(null,!0,De,k),this.checkExpressionErrors(m,!0),De?this.checkLValSimple(xe.argument):this.strict&&xe.operator==="delete"&&xe.argument.type==="Identifier"?this.raiseRecoverable(xe.start,"Deleting local variable in strict mode"):xe.operator==="delete"&&be(xe.argument)?this.raiseRecoverable(xe.start,"Private fields can not be deleted"):w=!0,le=this.finishNode(xe,De?"UpdateExpression":"UnaryExpression")}else if(!w&&this.type===E.privateId)(k||this.privateNameStack.length===0)&&this.unexpected(),le=this.parsePrivateIdent(),this.type!==E._in&&this.unexpected();else{if(le=this.parseExprSubscripts(m,k),this.checkExpressionErrors(m))return le;for(;this.type.postfix&&!this.canInsertSemicolon();){var Ge=this.startNodeAt(q,re);Ge.operator=this.value,Ge.prefix=!1,Ge.argument=le,this.checkLValSimple(le),this.next(),le=this.finishNode(Ge,"UpdateExpression")}}if(!D&&this.eat(E.starstar))if(w)this.unexpected(this.lastTokStart);else return this.buildBinary(q,re,le,this.parseMaybeUnary(null,!1,!1,k),"**",!1);else return le};function be(m){return m.type==="MemberExpression"&&m.property.type==="PrivateIdentifier"||m.type==="ChainExpression"&&be(m.expression)}Y.parseExprSubscripts=function(m,w){var D=this.start,k=this.startLoc,q=this.parseExprAtom(m,w);if(q.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return q;var re=this.parseSubscripts(q,D,k,!1,w);return m&&re.type==="MemberExpression"&&(m.parenthesizedAssign>=re.start&&(m.parenthesizedAssign=-1),m.parenthesizedBind>=re.start&&(m.parenthesizedBind=-1),m.trailingComma>=re.start&&(m.trailingComma=-1)),re},Y.parseSubscripts=function(m,w,D,k,q){for(var re=this.options.ecmaVersion>=8&&m.type==="Identifier"&&m.name==="async"&&this.lastTokEnd===m.end&&!this.canInsertSemicolon()&&m.end-m.start===5&&this.potentialArrowAt===m.start,le=!1;;){var xe=this.parseSubscript(m,w,D,k,re,le,q);if(xe.optional&&(le=!0),xe===m||xe.type==="ArrowFunctionExpression"){if(le){var De=this.startNodeAt(w,D);De.expression=xe,xe=this.finishNode(De,"ChainExpression")}return xe}m=xe}},Y.parseSubscript=function(m,w,D,k,q,re,le){var xe=this.options.ecmaVersion>=11,De=xe&&this.eat(E.questionDot);k&&De&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var Ge=this.eat(E.bracketL);if(Ge||De&&this.type!==E.parenL&&this.type!==E.backQuote||this.eat(E.dot)){var Qe=this.startNodeAt(w,D);Qe.object=m,Ge?(Qe.property=this.parseExpression(),this.expect(E.bracketR)):this.type===E.privateId&&m.type!=="Super"?Qe.property=this.parsePrivateIdent():Qe.property=this.parseIdent(this.options.allowReserved!=="never"),Qe.computed=!!Ge,xe&&(Qe.optional=De),m=this.finishNode(Qe,"MemberExpression")}else if(!k&&this.eat(E.parenL)){var gr=new lt,wo=this.yieldPos,Ml=this.awaitPos,Oa=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var ih=this.parseExprList(E.parenR,this.options.ecmaVersion>=8,!1,gr);if(q&&!De&&!this.canInsertSemicolon()&&this.eat(E.arrow))return this.checkPatternErrors(gr,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=wo,this.awaitPos=Ml,this.awaitIdentPos=Oa,this.parseArrowExpression(this.startNodeAt(w,D),ih,!0,le);this.checkExpressionErrors(gr,!0),this.yieldPos=wo||this.yieldPos,this.awaitPos=Ml||this.awaitPos,this.awaitIdentPos=Oa||this.awaitIdentPos;var Ra=this.startNodeAt(w,D);Ra.callee=m,Ra.arguments=ih,xe&&(Ra.optional=De),m=this.finishNode(Ra,"CallExpression")}else if(this.type===E.backQuote){(De||re)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Ba=this.startNodeAt(w,D);Ba.tag=m,Ba.quasi=this.parseTemplate({isTagged:!0}),m=this.finishNode(Ba,"TaggedTemplateExpression")}return m},Y.parseExprAtom=function(m,w){this.type===E.slash&&this.readRegexp();var D,k=this.potentialArrowAt===this.start;switch(this.type){case E._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),D=this.startNode(),this.next(),this.type===E.parenL&&!this.allowDirectSuper&&this.raise(D.start,"super() call outside constructor of a subclass"),this.type!==E.dot&&this.type!==E.bracketL&&this.type!==E.parenL&&this.unexpected(),this.finishNode(D,"Super");case E._this:return D=this.startNode(),this.next(),this.finishNode(D,"ThisExpression");case E.name:var q=this.start,re=this.startLoc,le=this.containsEsc,xe=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!le&&xe.name==="async"&&!this.canInsertSemicolon()&&this.eat(E._function))return this.overrideContext(rt.f_expr),this.parseFunction(this.startNodeAt(q,re),0,!1,!0,w);if(k&&!this.canInsertSemicolon()){if(this.eat(E.arrow))return this.parseArrowExpression(this.startNodeAt(q,re),[xe],!1,w);if(this.options.ecmaVersion>=8&&xe.name==="async"&&this.type===E.name&&!le&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return xe=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(E.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(q,re),[xe],!0,w)}return xe;case E.regexp:var De=this.value;return D=this.parseLiteral(De.value),D.regex={pattern:De.pattern,flags:De.flags},D;case E.num:case E.string:return this.parseLiteral(this.value);case E._null:case E._true:case E._false:return D=this.startNode(),D.value=this.type===E._null?null:this.type===E._true,D.raw=this.type.keyword,this.next(),this.finishNode(D,"Literal");case E.parenL:var Ge=this.start,Qe=this.parseParenAndDistinguishExpression(k,w);return m&&(m.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Qe)&&(m.parenthesizedAssign=Ge),m.parenthesizedBind<0&&(m.parenthesizedBind=Ge)),Qe;case E.bracketL:return D=this.startNode(),this.next(),D.elements=this.parseExprList(E.bracketR,!0,!0,m),this.finishNode(D,"ArrayExpression");case E.braceL:return this.overrideContext(rt.b_expr),this.parseObj(!1,m);case E._function:return D=this.startNode(),this.next(),this.parseFunction(D,0);case E._class:return this.parseClass(this.startNode(),!1);case E._new:return this.parseNew();case E.backQuote:return this.parseTemplate();case E._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},Y.parseExprImport=function(){var m=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var w=this.parseIdent(!0);switch(this.type){case E.parenL:return this.parseDynamicImport(m);case E.dot:return m.meta=w,this.parseImportMeta(m);default:this.unexpected()}},Y.parseDynamicImport=function(m){if(this.next(),m.source=this.parseMaybeAssign(),!this.eat(E.parenR)){var w=this.start;this.eat(E.comma)&&this.eat(E.parenR)?this.raiseRecoverable(w,"Trailing comma is not allowed in import()"):this.unexpected(w)}return this.finishNode(m,"ImportExpression")},Y.parseImportMeta=function(m){this.next();var w=this.containsEsc;return m.property=this.parseIdent(!0),m.property.name!=="meta"&&this.raiseRecoverable(m.property.start,"The only valid meta property for import is 'import.meta'"),w&&this.raiseRecoverable(m.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(m.start,"Cannot use 'import.meta' outside a module"),this.finishNode(m,"MetaProperty")},Y.parseLiteral=function(m){var w=this.startNode();return w.value=m,w.raw=this.input.slice(this.start,this.end),w.raw.charCodeAt(w.raw.length-1)===110&&(w.bigint=w.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(w,"Literal")},Y.parseParenExpression=function(){this.expect(E.parenL);var m=this.parseExpression();return this.expect(E.parenR),m},Y.parseParenAndDistinguishExpression=function(m,w){var D=this.start,k=this.startLoc,q,re=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var le=this.start,xe=this.startLoc,De=[],Ge=!0,Qe=!1,gr=new lt,wo=this.yieldPos,Ml=this.awaitPos,Oa;for(this.yieldPos=0,this.awaitPos=0;this.type!==E.parenR;)if(Ge?Ge=!1:this.expect(E.comma),re&&this.afterTrailingComma(E.parenR,!0)){Qe=!0;break}else if(this.type===E.ellipsis){Oa=this.start,De.push(this.parseParenItem(this.parseRestBinding())),this.type===E.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else De.push(this.parseMaybeAssign(!1,gr,this.parseParenItem));var ih=this.lastTokEnd,Ra=this.lastTokEndLoc;if(this.expect(E.parenR),m&&!this.canInsertSemicolon()&&this.eat(E.arrow))return this.checkPatternErrors(gr,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=wo,this.awaitPos=Ml,this.parseParenArrowList(D,k,De,w);(!De.length||Qe)&&this.unexpected(this.lastTokStart),Oa&&this.unexpected(Oa),this.checkExpressionErrors(gr,!0),this.yieldPos=wo||this.yieldPos,this.awaitPos=Ml||this.awaitPos,De.length>1?(q=this.startNodeAt(le,xe),q.expressions=De,this.finishNodeAt(q,"SequenceExpression",ih,Ra)):q=De[0]}else q=this.parseParenExpression();if(this.options.preserveParens){var Ba=this.startNodeAt(D,k);return Ba.expression=q,this.finishNode(Ba,"ParenthesizedExpression")}else return q},Y.parseParenItem=function(m){return m},Y.parseParenArrowList=function(m,w,D,k){return this.parseArrowExpression(this.startNodeAt(m,w),D,!1,k)};var C=[];Y.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var m=this.startNode(),w=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(E.dot)){m.meta=w;var D=this.containsEsc;return m.property=this.parseIdent(!0),m.property.name!=="target"&&this.raiseRecoverable(m.property.start,"The only valid meta property for new is 'new.target'"),D&&this.raiseRecoverable(m.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(m.start,"'new.target' can only be used in functions and class static block"),this.finishNode(m,"MetaProperty")}var k=this.start,q=this.startLoc,re=this.type===E._import;return m.callee=this.parseSubscripts(this.parseExprAtom(),k,q,!0,!1),re&&m.callee.type==="ImportExpression"&&this.raise(k,"Cannot use new with import()"),this.eat(E.parenL)?m.arguments=this.parseExprList(E.parenR,this.options.ecmaVersion>=8,!1):m.arguments=C,this.finishNode(m,"NewExpression")},Y.parseTemplateElement=function(m){var w=m.isTagged,D=this.startNode();return this.type===E.invalidTemplate?(w||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),D.value={raw:this.value,cooked:null}):D.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),D.tail=this.type===E.backQuote,this.finishNode(D,"TemplateElement")},Y.parseTemplate=function(m){m===void 0&&(m={});var w=m.isTagged;w===void 0&&(w=!1);var D=this.startNode();this.next(),D.expressions=[];var k=this.parseTemplateElement({isTagged:w});for(D.quasis=[k];!k.tail;)this.type===E.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(E.dollarBraceL),D.expressions.push(this.parseExpression()),this.expect(E.braceR),D.quasis.push(k=this.parseTemplateElement({isTagged:w}));return this.next(),this.finishNode(D,"TemplateLiteral")},Y.isAsyncProp=function(m){return!m.computed&&m.key.type==="Identifier"&&m.key.name==="async"&&(this.type===E.name||this.type===E.num||this.type===E.string||this.type===E.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===E.star)&&!S.test(this.input.slice(this.lastTokEnd,this.start))},Y.parseObj=function(m,w){var D=this.startNode(),k=!0,q={};for(D.properties=[],this.next();!this.eat(E.braceR);){if(k)k=!1;else if(this.expect(E.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(E.braceR))break;var re=this.parseProperty(m,w);m||this.checkPropClash(re,q,w),D.properties.push(re)}return this.finishNode(D,m?"ObjectPattern":"ObjectExpression")},Y.parseProperty=function(m,w){var D=this.startNode(),k,q,re,le;if(this.options.ecmaVersion>=9&&this.eat(E.ellipsis))return m?(D.argument=this.parseIdent(!1),this.type===E.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(D,"RestElement")):(D.argument=this.parseMaybeAssign(!1,w),this.type===E.comma&&w&&w.trailingComma<0&&(w.trailingComma=this.start),this.finishNode(D,"SpreadElement"));this.options.ecmaVersion>=6&&(D.method=!1,D.shorthand=!1,(m||w)&&(re=this.start,le=this.startLoc),m||(k=this.eat(E.star)));var xe=this.containsEsc;return this.parsePropertyName(D),!m&&!xe&&this.options.ecmaVersion>=8&&!k&&this.isAsyncProp(D)?(q=!0,k=this.options.ecmaVersion>=9&&this.eat(E.star),this.parsePropertyName(D,w)):q=!1,this.parsePropertyValue(D,m,k,q,re,le,w,xe),this.finishNode(D,"Property")},Y.parsePropertyValue=function(m,w,D,k,q,re,le,xe){if((D||k)&&this.type===E.colon&&this.unexpected(),this.eat(E.colon))m.value=w?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,le),m.kind="init";else if(this.options.ecmaVersion>=6&&this.type===E.parenL)w&&this.unexpected(),m.kind="init",m.method=!0,m.value=this.parseMethod(D,k);else if(!w&&!xe&&this.options.ecmaVersion>=5&&!m.computed&&m.key.type==="Identifier"&&(m.key.name==="get"||m.key.name==="set")&&this.type!==E.comma&&this.type!==E.braceR&&this.type!==E.eq){(D||k)&&this.unexpected(),m.kind=m.key.name,this.parsePropertyName(m),m.value=this.parseMethod(!1);var De=m.kind==="get"?0:1;if(m.value.params.length!==De){var Ge=m.value.start;m.kind==="get"?this.raiseRecoverable(Ge,"getter should have no params"):this.raiseRecoverable(Ge,"setter should have exactly one param")}else m.kind==="set"&&m.value.params[0].type==="RestElement"&&this.raiseRecoverable(m.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!m.computed&&m.key.type==="Identifier"?((D||k)&&this.unexpected(),this.checkUnreserved(m.key),m.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=q),m.kind="init",w?m.value=this.parseMaybeDefault(q,re,this.copyNode(m.key)):this.type===E.eq&&le?(le.shorthandAssign<0&&(le.shorthandAssign=this.start),m.value=this.parseMaybeDefault(q,re,this.copyNode(m.key))):m.value=this.copyNode(m.key),m.shorthand=!0):this.unexpected()},Y.parsePropertyName=function(m){if(this.options.ecmaVersion>=6){if(this.eat(E.bracketL))return m.computed=!0,m.key=this.parseMaybeAssign(),this.expect(E.bracketR),m.key;m.computed=!1}return m.key=this.type===E.num||this.type===E.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},Y.initFunction=function(m){m.id=null,this.options.ecmaVersion>=6&&(m.generator=m.expression=!1),this.options.ecmaVersion>=8&&(m.async=!1)},Y.parseMethod=function(m,w,D){var k=this.startNode(),q=this.yieldPos,re=this.awaitPos,le=this.awaitIdentPos;return this.initFunction(k),this.options.ecmaVersion>=6&&(k.generator=m),this.options.ecmaVersion>=8&&(k.async=!!w),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(G(w,k.generator)|ue|(D?pe:0)),this.expect(E.parenL),k.params=this.parseBindingList(E.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(k,!1,!0,!1),this.yieldPos=q,this.awaitPos=re,this.awaitIdentPos=le,this.finishNode(k,"FunctionExpression")},Y.parseArrowExpression=function(m,w,D,k){var q=this.yieldPos,re=this.awaitPos,le=this.awaitIdentPos;return this.enterScope(G(D,!1)|se),this.initFunction(m),this.options.ecmaVersion>=8&&(m.async=!!D),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,m.params=this.toAssignableList(w,!0),this.parseFunctionBody(m,!0,!1,k),this.yieldPos=q,this.awaitPos=re,this.awaitIdentPos=le,this.finishNode(m,"ArrowFunctionExpression")},Y.parseFunctionBody=function(m,w,D,k){var q=w&&this.type!==E.braceL,re=this.strict,le=!1;if(q)m.body=this.parseMaybeAssign(k),m.expression=!0,this.checkParams(m,!1);else{var xe=this.options.ecmaVersion>=7&&!this.isSimpleParamList(m.params);(!re||xe)&&(le=this.strictDirective(this.end),le&&xe&&this.raiseRecoverable(m.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var De=this.labels;this.labels=[],le&&(this.strict=!0),this.checkParams(m,!re&&!le&&!w&&!D&&this.isSimpleParamList(m.params)),this.strict&&m.id&&this.checkLValSimple(m.id,Pe),m.body=this.parseBlock(!1,void 0,le&&!re),m.expression=!1,this.adaptDirectivePrologue(m.body.body),this.labels=De}this.exitScope()},Y.isSimpleParamList=function(m){for(var w=0,D=m;w<D.length;w+=1){var k=D[w];if(k.type!=="Identifier")return!1}return!0},Y.checkParams=function(m,w){for(var D=Object.create(null),k=0,q=m.params;k<q.length;k+=1){var re=q[k];this.checkLValInnerPattern(re,ae,w?null:D)}},Y.parseExprList=function(m,w,D,k){for(var q=[],re=!0;!this.eat(m);){if(re)re=!1;else if(this.expect(E.comma),w&&this.afterTrailingComma(m))break;var le=void 0;D&&this.type===E.comma?le=null:this.type===E.ellipsis?(le=this.parseSpread(k),k&&this.type===E.comma&&k.trailingComma<0&&(k.trailingComma=this.start)):le=this.parseMaybeAssign(!1,k),q.push(le)}return q},Y.checkUnreserved=function(m){var w=m.start,D=m.end,k=m.name;if(this.inGenerator&&k==="yield"&&this.raiseRecoverable(w,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&k==="await"&&this.raiseRecoverable(w,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&k==="arguments"&&this.raiseRecoverable(w,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(k==="arguments"||k==="await")&&this.raise(w,"Cannot use "+k+" in class static initialization block"),this.keywords.test(k)&&this.raise(w,"Unexpected keyword '"+k+"'"),!(this.options.ecmaVersion<6&&this.input.slice(w,D).indexOf("\\")!==-1)){var q=this.strict?this.reservedWordsStrict:this.reservedWords;q.test(k)&&(!this.inAsync&&k==="await"&&this.raiseRecoverable(w,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(w,"The keyword '"+k+"' is reserved"))}},Y.parseIdent=function(m,w){var D=this.startNode();return this.type===E.name?D.name=this.value:this.type.keyword?(D.name=this.type.keyword,(D.name==="class"||D.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!m),this.finishNode(D,"Identifier"),m||(this.checkUnreserved(D),D.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=D.start)),D},Y.parsePrivateIdent=function(){var m=this.startNode();return this.type===E.privateId?m.name=this.value:this.unexpected(),this.next(),this.finishNode(m,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(m.start,"Private field '#"+m.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(m),m},Y.parseYield=function(m){this.yieldPos||(this.yieldPos=this.start);var w=this.startNode();return this.next(),this.type===E.semi||this.canInsertSemicolon()||this.type!==E.star&&!this.type.startsExpr?(w.delegate=!1,w.argument=null):(w.delegate=this.eat(E.star),w.argument=this.parseMaybeAssign(m)),this.finishNode(w,"YieldExpression")},Y.parseAwait=function(m){this.awaitPos||(this.awaitPos=this.start);var w=this.startNode();return this.next(),w.argument=this.parseMaybeUnary(null,!0,!1,m),this.finishNode(w,"AwaitExpression")};var _=Ae.prototype;_.raise=function(m,w){var D=Z(this.input,m);w+=" ("+D.line+":"+D.column+")";var k=new SyntaxError(w);throw k.pos=m,k.loc=D,k.raisedAt=this.pos,k},_.raiseRecoverable=_.raise,_.curPosition=function(){if(this.options.locations)return new L(this.curLine,this.pos-this.lineStart)};var A=Ae.prototype,I=function(w){this.flags=w,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};A.enterScope=function(m){this.scopeStack.push(new I(m))},A.exitScope=function(){this.scopeStack.pop()},A.treatFunctionsAsVarInScope=function(m){return m.flags&ye||!this.inModule&&m.flags&ce},A.declareName=function(m,w,D){var k=!1;if(w===Q){var q=this.currentScope();k=q.lexical.indexOf(m)>-1||q.functions.indexOf(m)>-1||q.var.indexOf(m)>-1,q.lexical.push(m),this.inModule&&q.flags&ce&&delete this.undefinedExports[m]}else if(w===Se){var re=this.currentScope();re.lexical.push(m)}else if(w===_e){var le=this.currentScope();this.treatFunctionsAsVar?k=le.lexical.indexOf(m)>-1:k=le.lexical.indexOf(m)>-1||le.var.indexOf(m)>-1,le.functions.push(m)}else for(var xe=this.scopeStack.length-1;xe>=0;--xe){var De=this.scopeStack[xe];if(De.lexical.indexOf(m)>-1&&!(De.flags&te&&De.lexical[0]===m)||!this.treatFunctionsAsVarInScope(De)&&De.functions.indexOf(m)>-1){k=!0;break}if(De.var.push(m),this.inModule&&De.flags&ce&&delete this.undefinedExports[m],De.flags&U)break}k&&this.raiseRecoverable(D,"Identifier '"+m+"' has already been declared")},A.checkLocalExport=function(m){this.scopeStack[0].lexical.indexOf(m.name)===-1&&this.scopeStack[0].var.indexOf(m.name)===-1&&(this.undefinedExports[m.name]=m)},A.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},A.currentVarScope=function(){for(var m=this.scopeStack.length-1;;m--){var w=this.scopeStack[m];if(w.flags&U)return w}},A.currentThisScope=function(){for(var m=this.scopeStack.length-1;;m--){var w=this.scopeStack[m];if(w.flags&U&&!(w.flags&se))return w}};var B=function(w,D,k){this.type="",this.start=D,this.end=0,w.options.locations&&(this.loc=new $(w,k)),w.options.directSourceFile&&(this.sourceFile=w.options.directSourceFile),w.options.ranges&&(this.range=[D,0])},oe=Ae.prototype;oe.startNode=function(){return new B(this,this.start,this.startLoc)},oe.startNodeAt=function(m,w){return new B(this,m,w)};function de(m,w,D,k){return m.type=w,m.end=D,this.options.locations&&(m.loc.end=k),this.options.ranges&&(m.range[1]=D),m}oe.finishNode=function(m,w){return de.call(this,m,w,this.lastTokEnd,this.lastTokEndLoc)},oe.finishNodeAt=function(m,w,D,k){return de.call(this,m,w,D,k)},oe.copyNode=function(m){var w=new B(this,m.start,this.startLoc);for(var D in m)w[D]=m[D];return w};var Ee="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Fe=Ee+" Extended_Pictographic",Ye=Fe,It=Ye+" EBase EComp EMod EPres ExtPict",Wi=It,ks={9:Ee,10:Fe,11:Ye,12:It,13:Wi},Ll="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Nl="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ln=Nl+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",jC=ln+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",$C=jC+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",GM=$C+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",JM={9:Nl,10:ln,11:jC,12:$C,13:GM},UC={};function KM(m){var w=UC[m]={binary:z(ks[m]+" "+Ll),nonBinary:{General_Category:z(Ll),Script:z(JM[m])}};w.nonBinary.Script_Extensions=w.nonBinary.Script,w.nonBinary.gc=w.nonBinary.General_Category,w.nonBinary.sc=w.nonBinary.Script,w.nonBinary.scx=w.nonBinary.Script_Extensions}for(var n0=0,qC=[9,10,11,12,13];n0<qC.length;n0+=1){var XM=qC[n0];KM(XM)}var Ue=Ae.prototype,Gi=function(w){this.parser=w,this.validFlags="gim"+(w.options.ecmaVersion>=6?"uy":"")+(w.options.ecmaVersion>=9?"s":"")+(w.options.ecmaVersion>=13?"d":""),this.unicodeProperties=UC[w.options.ecmaVersion>=13?13:w.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Gi.prototype.reset=function(w,D,k){var q=k.indexOf("u")!==-1;this.start=w|0,this.source=D+"",this.flags=k,this.switchU=q&&this.parser.options.ecmaVersion>=6,this.switchN=q&&this.parser.options.ecmaVersion>=9},Gi.prototype.raise=function(w){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+w)},Gi.prototype.at=function(w,D){D===void 0&&(D=!1);var k=this.source,q=k.length;if(w>=q)return-1;var re=k.charCodeAt(w);if(!(D||this.switchU)||re<=55295||re>=57344||w+1>=q)return re;var le=k.charCodeAt(w+1);return le>=56320&&le<=57343?(re<<10)+le-56613888:re},Gi.prototype.nextIndex=function(w,D){D===void 0&&(D=!1);var k=this.source,q=k.length;if(w>=q)return q;var re=k.charCodeAt(w),le;return!(D||this.switchU)||re<=55295||re>=57344||w+1>=q||(le=k.charCodeAt(w+1))<56320||le>57343?w+1:w+2},Gi.prototype.current=function(w){return w===void 0&&(w=!1),this.at(this.pos,w)},Gi.prototype.lookahead=function(w){return w===void 0&&(w=!1),this.at(this.nextIndex(this.pos,w),w)},Gi.prototype.advance=function(w){w===void 0&&(w=!1),this.pos=this.nextIndex(this.pos,w)},Gi.prototype.eat=function(w,D){return D===void 0&&(D=!1),this.current(D)===w?(this.advance(D),!0):!1},Ue.validateRegExpFlags=function(m){for(var w=m.validFlags,D=m.flags,k=0;k<D.length;k++){var q=D.charAt(k);w.indexOf(q)===-1&&this.raise(m.start,"Invalid regular expression flag"),D.indexOf(q,k+1)>-1&&this.raise(m.start,"Duplicate regular expression flag")}},Ue.validateRegExpPattern=function(m){this.regexp_pattern(m),!m.switchN&&this.options.ecmaVersion>=9&&m.groupNames.length>0&&(m.switchN=!0,this.regexp_pattern(m))},Ue.regexp_pattern=function(m){m.pos=0,m.lastIntValue=0,m.lastStringValue="",m.lastAssertionIsQuantifiable=!1,m.numCapturingParens=0,m.maxBackReference=0,m.groupNames.length=0,m.backReferenceNames.length=0,this.regexp_disjunction(m),m.pos!==m.source.length&&(m.eat(41)&&m.raise("Unmatched ')'"),(m.eat(93)||m.eat(125))&&m.raise("Lone quantifier brackets")),m.maxBackReference>m.numCapturingParens&&m.raise("Invalid escape");for(var w=0,D=m.backReferenceNames;w<D.length;w+=1){var k=D[w];m.groupNames.indexOf(k)===-1&&m.raise("Invalid named capture referenced")}},Ue.regexp_disjunction=function(m){for(this.regexp_alternative(m);m.eat(124);)this.regexp_alternative(m);this.regexp_eatQuantifier(m,!0)&&m.raise("Nothing to repeat"),m.eat(123)&&m.raise("Lone quantifier brackets")},Ue.regexp_alternative=function(m){for(;m.pos<m.source.length&&this.regexp_eatTerm(m););},Ue.regexp_eatTerm=function(m){return this.regexp_eatAssertion(m)?(m.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(m)&&m.switchU&&m.raise("Invalid quantifier"),!0):(m.switchU?this.regexp_eatAtom(m):this.regexp_eatExtendedAtom(m))?(this.regexp_eatQuantifier(m),!0):!1},Ue.regexp_eatAssertion=function(m){var w=m.pos;if(m.lastAssertionIsQuantifiable=!1,m.eat(94)||m.eat(36))return!0;if(m.eat(92)){if(m.eat(66)||m.eat(98))return!0;m.pos=w}if(m.eat(40)&&m.eat(63)){var D=!1;if(this.options.ecmaVersion>=9&&(D=m.eat(60)),m.eat(61)||m.eat(33))return this.regexp_disjunction(m),m.eat(41)||m.raise("Unterminated group"),m.lastAssertionIsQuantifiable=!D,!0}return m.pos=w,!1},Ue.regexp_eatQuantifier=function(m,w){return w===void 0&&(w=!1),this.regexp_eatQuantifierPrefix(m,w)?(m.eat(63),!0):!1},Ue.regexp_eatQuantifierPrefix=function(m,w){return m.eat(42)||m.eat(43)||m.eat(63)||this.regexp_eatBracedQuantifier(m,w)},Ue.regexp_eatBracedQuantifier=function(m,w){var D=m.pos;if(m.eat(123)){var k=0,q=-1;if(this.regexp_eatDecimalDigits(m)&&(k=m.lastIntValue,m.eat(44)&&this.regexp_eatDecimalDigits(m)&&(q=m.lastIntValue),m.eat(125)))return q!==-1&&q<k&&!w&&m.raise("numbers out of order in {} quantifier"),!0;m.switchU&&!w&&m.raise("Incomplete quantifier"),m.pos=D}return!1},Ue.regexp_eatAtom=function(m){return this.regexp_eatPatternCharacters(m)||m.eat(46)||this.regexp_eatReverseSolidusAtomEscape(m)||this.regexp_eatCharacterClass(m)||this.regexp_eatUncapturingGroup(m)||this.regexp_eatCapturingGroup(m)},Ue.regexp_eatReverseSolidusAtomEscape=function(m){var w=m.pos;if(m.eat(92)){if(this.regexp_eatAtomEscape(m))return!0;m.pos=w}return!1},Ue.regexp_eatUncapturingGroup=function(m){var w=m.pos;if(m.eat(40)){if(m.eat(63)&&m.eat(58)){if(this.regexp_disjunction(m),m.eat(41))return!0;m.raise("Unterminated group")}m.pos=w}return!1},Ue.regexp_eatCapturingGroup=function(m){if(m.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(m):m.current()===63&&m.raise("Invalid group"),this.regexp_disjunction(m),m.eat(41))return m.numCapturingParens+=1,!0;m.raise("Unterminated group")}return!1},Ue.regexp_eatExtendedAtom=function(m){return m.eat(46)||this.regexp_eatReverseSolidusAtomEscape(m)||this.regexp_eatCharacterClass(m)||this.regexp_eatUncapturingGroup(m)||this.regexp_eatCapturingGroup(m)||this.regexp_eatInvalidBracedQuantifier(m)||this.regexp_eatExtendedPatternCharacter(m)},Ue.regexp_eatInvalidBracedQuantifier=function(m){return this.regexp_eatBracedQuantifier(m,!0)&&m.raise("Nothing to repeat"),!1},Ue.regexp_eatSyntaxCharacter=function(m){var w=m.current();return VC(w)?(m.lastIntValue=w,m.advance(),!0):!1};function VC(m){return m===36||m>=40&&m<=43||m===46||m===63||m>=91&&m<=94||m>=123&&m<=125}Ue.regexp_eatPatternCharacters=function(m){for(var w=m.pos,D=0;(D=m.current())!==-1&&!VC(D);)m.advance();return m.pos!==w},Ue.regexp_eatExtendedPatternCharacter=function(m){var w=m.current();return w!==-1&&w!==36&&!(w>=40&&w<=43)&&w!==46&&w!==63&&w!==91&&w!==94&&w!==124?(m.advance(),!0):!1},Ue.regexp_groupSpecifier=function(m){if(m.eat(63)){if(this.regexp_eatGroupName(m)){m.groupNames.indexOf(m.lastStringValue)!==-1&&m.raise("Duplicate capture group name"),m.groupNames.push(m.lastStringValue);return}m.raise("Invalid group")}},Ue.regexp_eatGroupName=function(m){if(m.lastStringValue="",m.eat(60)){if(this.regexp_eatRegExpIdentifierName(m)&&m.eat(62))return!0;m.raise("Invalid capture group name")}return!1},Ue.regexp_eatRegExpIdentifierName=function(m){if(m.lastStringValue="",this.regexp_eatRegExpIdentifierStart(m)){for(m.lastStringValue+=T(m.lastIntValue);this.regexp_eatRegExpIdentifierPart(m);)m.lastStringValue+=T(m.lastIntValue);return!0}return!1},Ue.regexp_eatRegExpIdentifierStart=function(m){var w=m.pos,D=this.options.ecmaVersion>=11,k=m.current(D);return m.advance(D),k===92&&this.regexp_eatRegExpUnicodeEscapeSequence(m,D)&&(k=m.lastIntValue),YM(k)?(m.lastIntValue=k,!0):(m.pos=w,!1)};function YM(m){return p(m,!0)||m===36||m===95}Ue.regexp_eatRegExpIdentifierPart=function(m){var w=m.pos,D=this.options.ecmaVersion>=11,k=m.current(D);return m.advance(D),k===92&&this.regexp_eatRegExpUnicodeEscapeSequence(m,D)&&(k=m.lastIntValue),ZM(k)?(m.lastIntValue=k,!0):(m.pos=w,!1)};function ZM(m){return l(m,!0)||m===36||m===95||m===8204||m===8205}Ue.regexp_eatAtomEscape=function(m){return this.regexp_eatBackReference(m)||this.regexp_eatCharacterClassEscape(m)||this.regexp_eatCharacterEscape(m)||m.switchN&&this.regexp_eatKGroupName(m)?!0:(m.switchU&&(m.current()===99&&m.raise("Invalid unicode escape"),m.raise("Invalid escape")),!1)},Ue.regexp_eatBackReference=function(m){var w=m.pos;if(this.regexp_eatDecimalEscape(m)){var D=m.lastIntValue;if(m.switchU)return D>m.maxBackReference&&(m.maxBackReference=D),!0;if(D<=m.numCapturingParens)return!0;m.pos=w}return!1},Ue.regexp_eatKGroupName=function(m){if(m.eat(107)){if(this.regexp_eatGroupName(m))return m.backReferenceNames.push(m.lastStringValue),!0;m.raise("Invalid named reference")}return!1},Ue.regexp_eatCharacterEscape=function(m){return this.regexp_eatControlEscape(m)||this.regexp_eatCControlLetter(m)||this.regexp_eatZero(m)||this.regexp_eatHexEscapeSequence(m)||this.regexp_eatRegExpUnicodeEscapeSequence(m,!1)||!m.switchU&&this.regexp_eatLegacyOctalEscapeSequence(m)||this.regexp_eatIdentityEscape(m)},Ue.regexp_eatCControlLetter=function(m){var w=m.pos;if(m.eat(99)){if(this.regexp_eatControlLetter(m))return!0;m.pos=w}return!1},Ue.regexp_eatZero=function(m){return m.current()===48&&!rh(m.lookahead())?(m.lastIntValue=0,m.advance(),!0):!1},Ue.regexp_eatControlEscape=function(m){var w=m.current();return w===116?(m.lastIntValue=9,m.advance(),!0):w===110?(m.lastIntValue=10,m.advance(),!0):w===118?(m.lastIntValue=11,m.advance(),!0):w===102?(m.lastIntValue=12,m.advance(),!0):w===114?(m.lastIntValue=13,m.advance(),!0):!1},Ue.regexp_eatControlLetter=function(m){var w=m.current();return HC(w)?(m.lastIntValue=w%32,m.advance(),!0):!1};function HC(m){return m>=65&&m<=90||m>=97&&m<=122}Ue.regexp_eatRegExpUnicodeEscapeSequence=function(m,w){w===void 0&&(w=!1);var D=m.pos,k=w||m.switchU;if(m.eat(117)){if(this.regexp_eatFixedHexDigits(m,4)){var q=m.lastIntValue;if(k&&q>=55296&&q<=56319){var re=m.pos;if(m.eat(92)&&m.eat(117)&&this.regexp_eatFixedHexDigits(m,4)){var le=m.lastIntValue;if(le>=56320&&le<=57343)return m.lastIntValue=(q-55296)*1024+(le-56320)+65536,!0}m.pos=re,m.lastIntValue=q}return!0}if(k&&m.eat(123)&&this.regexp_eatHexDigits(m)&&m.eat(125)&&QM(m.lastIntValue))return!0;k&&m.raise("Invalid unicode escape"),m.pos=D}return!1};function QM(m){return m>=0&&m<=1114111}Ue.regexp_eatIdentityEscape=function(m){if(m.switchU)return this.regexp_eatSyntaxCharacter(m)?!0:m.eat(47)?(m.lastIntValue=47,!0):!1;var w=m.current();return w!==99&&(!m.switchN||w!==107)?(m.lastIntValue=w,m.advance(),!0):!1},Ue.regexp_eatDecimalEscape=function(m){m.lastIntValue=0;var w=m.current();if(w>=49&&w<=57){do m.lastIntValue=10*m.lastIntValue+(w-48),m.advance();while((w=m.current())>=48&&w<=57);return!0}return!1},Ue.regexp_eatCharacterClassEscape=function(m){var w=m.current();if(e6(w))return m.lastIntValue=-1,m.advance(),!0;if(m.switchU&&this.options.ecmaVersion>=9&&(w===80||w===112)){if(m.lastIntValue=-1,m.advance(),m.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(m)&&m.eat(125))return!0;m.raise("Invalid property name")}return!1};function e6(m){return m===100||m===68||m===115||m===83||m===119||m===87}Ue.regexp_eatUnicodePropertyValueExpression=function(m){var w=m.pos;if(this.regexp_eatUnicodePropertyName(m)&&m.eat(61)){var D=m.lastStringValue;if(this.regexp_eatUnicodePropertyValue(m)){var k=m.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(m,D,k),!0}}if(m.pos=w,this.regexp_eatLoneUnicodePropertyNameOrValue(m)){var q=m.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(m,q),!0}return!1},Ue.regexp_validateUnicodePropertyNameAndValue=function(m,w,D){K(m.unicodeProperties.nonBinary,w)||m.raise("Invalid property name"),m.unicodeProperties.nonBinary[w].test(D)||m.raise("Invalid property value")},Ue.regexp_validateUnicodePropertyNameOrValue=function(m,w){m.unicodeProperties.binary.test(w)||m.raise("Invalid property name")},Ue.regexp_eatUnicodePropertyName=function(m){var w=0;for(m.lastStringValue="";zC(w=m.current());)m.lastStringValue+=T(w),m.advance();return m.lastStringValue!==""};function zC(m){return HC(m)||m===95}Ue.regexp_eatUnicodePropertyValue=function(m){var w=0;for(m.lastStringValue="";t6(w=m.current());)m.lastStringValue+=T(w),m.advance();return m.lastStringValue!==""};function t6(m){return zC(m)||rh(m)}Ue.regexp_eatLoneUnicodePropertyNameOrValue=function(m){return this.regexp_eatUnicodePropertyValue(m)},Ue.regexp_eatCharacterClass=function(m){if(m.eat(91)){if(m.eat(94),this.regexp_classRanges(m),m.eat(93))return!0;m.raise("Unterminated character class")}return!1},Ue.regexp_classRanges=function(m){for(;this.regexp_eatClassAtom(m);){var w=m.lastIntValue;if(m.eat(45)&&this.regexp_eatClassAtom(m)){var D=m.lastIntValue;m.switchU&&(w===-1||D===-1)&&m.raise("Invalid character class"),w!==-1&&D!==-1&&w>D&&m.raise("Range out of order in character class")}}},Ue.regexp_eatClassAtom=function(m){var w=m.pos;if(m.eat(92)){if(this.regexp_eatClassEscape(m))return!0;if(m.switchU){var D=m.current();(D===99||JC(D))&&m.raise("Invalid class escape"),m.raise("Invalid escape")}m.pos=w}var k=m.current();return k!==93?(m.lastIntValue=k,m.advance(),!0):!1},Ue.regexp_eatClassEscape=function(m){var w=m.pos;if(m.eat(98))return m.lastIntValue=8,!0;if(m.switchU&&m.eat(45))return m.lastIntValue=45,!0;if(!m.switchU&&m.eat(99)){if(this.regexp_eatClassControlLetter(m))return!0;m.pos=w}return this.regexp_eatCharacterClassEscape(m)||this.regexp_eatCharacterEscape(m)},Ue.regexp_eatClassControlLetter=function(m){var w=m.current();return rh(w)||w===95?(m.lastIntValue=w%32,m.advance(),!0):!1},Ue.regexp_eatHexEscapeSequence=function(m){var w=m.pos;if(m.eat(120)){if(this.regexp_eatFixedHexDigits(m,2))return!0;m.switchU&&m.raise("Invalid escape"),m.pos=w}return!1},Ue.regexp_eatDecimalDigits=function(m){var w=m.pos,D=0;for(m.lastIntValue=0;rh(D=m.current());)m.lastIntValue=10*m.lastIntValue+(D-48),m.advance();return m.pos!==w};function rh(m){return m>=48&&m<=57}Ue.regexp_eatHexDigits=function(m){var w=m.pos,D=0;for(m.lastIntValue=0;WC(D=m.current());)m.lastIntValue=16*m.lastIntValue+GC(D),m.advance();return m.pos!==w};function WC(m){return m>=48&&m<=57||m>=65&&m<=70||m>=97&&m<=102}function GC(m){return m>=65&&m<=70?10+(m-65):m>=97&&m<=102?10+(m-97):m-48}Ue.regexp_eatLegacyOctalEscapeSequence=function(m){if(this.regexp_eatOctalDigit(m)){var w=m.lastIntValue;if(this.regexp_eatOctalDigit(m)){var D=m.lastIntValue;w<=3&&this.regexp_eatOctalDigit(m)?m.lastIntValue=w*64+D*8+m.lastIntValue:m.lastIntValue=w*8+D}else m.lastIntValue=w;return!0}return!1},Ue.regexp_eatOctalDigit=function(m){var w=m.current();return JC(w)?(m.lastIntValue=w-48,m.advance(),!0):(m.lastIntValue=0,!1)};function JC(m){return m>=48&&m<=55}Ue.regexp_eatFixedHexDigits=function(m,w){var D=m.pos;m.lastIntValue=0;for(var k=0;k<w;++k){var q=m.current();if(!WC(q))return m.pos=D,!1;m.lastIntValue=16*m.lastIntValue+GC(q),m.advance()}return!0};var nh=function(w){this.type=w.type,this.value=w.value,this.start=w.start,this.end=w.end,w.options.locations&&(this.loc=new $(w,w.startLoc,w.endLoc)),w.options.ranges&&(this.range=[w.start,w.end])},et=Ae.prototype;et.next=function(m){!m&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new nh(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},et.getToken=function(){return this.next(),new nh(this)},typeof Symbol<"u"&&(et[Symbol.iterator]=function(){var m=this;return{next:function(){var w=m.getToken();return{done:w.type===E.eof,value:w}}}}),et.nextToken=function(){var m=this.curContext();if((!m||!m.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(E.eof);if(m.override)return m.override(this);this.readToken(this.fullCharCodeAtPos())},et.readToken=function(m){return p(m,this.options.ecmaVersion>=6)||m===92?this.readWord():this.getTokenFromCode(m)},et.fullCharCodeAtPos=function(){var m=this.input.charCodeAt(this.pos);if(m<=55295||m>=56320)return m;var w=this.input.charCodeAt(this.pos+1);return w<=56319||w>=57344?m:(m<<10)+w-56613888},et.skipBlockComment=function(){var m=this.options.onComment&&this.curPosition(),w=this.pos,D=this.input.indexOf("*/",this.pos+=2);if(D===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=D+2,this.options.locations)for(var k=void 0,q=w;(k=V(this.input,q,this.pos))>-1;)++this.curLine,q=this.lineStart=k;this.options.onComment&&this.options.onComment(!0,this.input.slice(w+2,D),w,this.pos,m,this.curPosition())},et.skipLineComment=function(m){for(var w=this.pos,D=this.options.onComment&&this.curPosition(),k=this.input.charCodeAt(this.pos+=m);this.pos<this.input.length&&!P(k);)k=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(w+m,this.pos),w,this.pos,D,this.curPosition())},et.skipSpace=function(){e:for(;this.pos<this.input.length;){var m=this.input.charCodeAt(this.pos);switch(m){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(m>8&&m<14||m>=5760&&H.test(String.fromCharCode(m)))++this.pos;else break e}}},et.finishToken=function(m,w){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var D=this.type;this.type=m,this.value=w,this.updateContext(D)},et.readToken_dot=function(){var m=this.input.charCodeAt(this.pos+1);if(m>=48&&m<=57)return this.readNumber(!0);var w=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&m===46&&w===46?(this.pos+=3,this.finishToken(E.ellipsis)):(++this.pos,this.finishToken(E.dot))},et.readToken_slash=function(){var m=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):m===61?this.finishOp(E.assign,2):this.finishOp(E.slash,1)},et.readToken_mult_modulo_exp=function(m){var w=this.input.charCodeAt(this.pos+1),D=1,k=m===42?E.star:E.modulo;return this.options.ecmaVersion>=7&&m===42&&w===42&&(++D,k=E.starstar,w=this.input.charCodeAt(this.pos+2)),w===61?this.finishOp(E.assign,D+1):this.finishOp(k,D)},et.readToken_pipe_amp=function(m){var w=this.input.charCodeAt(this.pos+1);if(w===m){if(this.options.ecmaVersion>=12){var D=this.input.charCodeAt(this.pos+2);if(D===61)return this.finishOp(E.assign,3)}return this.finishOp(m===124?E.logicalOR:E.logicalAND,2)}return w===61?this.finishOp(E.assign,2):this.finishOp(m===124?E.bitwiseOR:E.bitwiseAND,1)},et.readToken_caret=function(){var m=this.input.charCodeAt(this.pos+1);return m===61?this.finishOp(E.assign,2):this.finishOp(E.bitwiseXOR,1)},et.readToken_plus_min=function(m){var w=this.input.charCodeAt(this.pos+1);return w===m?w===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||S.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(E.incDec,2):w===61?this.finishOp(E.assign,2):this.finishOp(E.plusMin,1)},et.readToken_lt_gt=function(m){var w=this.input.charCodeAt(this.pos+1),D=1;return w===m?(D=m===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+D)===61?this.finishOp(E.assign,D+1):this.finishOp(E.bitShift,D)):w===33&&m===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(w===61&&(D=2),this.finishOp(E.relational,D))},et.readToken_eq_excl=function(m){var w=this.input.charCodeAt(this.pos+1);return w===61?this.finishOp(E.equality,this.input.charCodeAt(this.pos+2)===61?3:2):m===61&&w===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(E.arrow)):this.finishOp(m===61?E.eq:E.prefix,1)},et.readToken_question=function(){var m=this.options.ecmaVersion;if(m>=11){var w=this.input.charCodeAt(this.pos+1);if(w===46){var D=this.input.charCodeAt(this.pos+2);if(D<48||D>57)return this.finishOp(E.questionDot,2)}if(w===63){if(m>=12){var k=this.input.charCodeAt(this.pos+2);if(k===61)return this.finishOp(E.assign,3)}return this.finishOp(E.coalesce,2)}}return this.finishOp(E.question,1)},et.readToken_numberSign=function(){var m=this.options.ecmaVersion,w=35;if(m>=13&&(++this.pos,w=this.fullCharCodeAtPos(),p(w,!0)||w===92))return this.finishToken(E.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+T(w)+"'")},et.getTokenFromCode=function(m){switch(m){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(E.parenL);case 41:return++this.pos,this.finishToken(E.parenR);case 59:return++this.pos,this.finishToken(E.semi);case 44:return++this.pos,this.finishToken(E.comma);case 91:return++this.pos,this.finishToken(E.bracketL);case 93:return++this.pos,this.finishToken(E.bracketR);case 123:return++this.pos,this.finishToken(E.braceL);case 125:return++this.pos,this.finishToken(E.braceR);case 58:return++this.pos,this.finishToken(E.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(E.backQuote);case 48:var w=this.input.charCodeAt(this.pos+1);if(w===120||w===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(w===111||w===79)return this.readRadixNumber(8);if(w===98||w===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(m);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(m);case 124:case 38:return this.readToken_pipe_amp(m);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(m);case 60:case 62:return this.readToken_lt_gt(m);case 61:case 33:return this.readToken_eq_excl(m);case 63:return this.readToken_question();case 126:return this.finishOp(E.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+T(m)+"'")},et.finishOp=function(m,w){var D=this.input.slice(this.pos,this.pos+w);return this.pos+=w,this.finishToken(m,D)},et.readRegexp=function(){for(var m,w,D=this.pos;;){this.pos>=this.input.length&&this.raise(D,"Unterminated regular expression");var k=this.input.charAt(this.pos);if(S.test(k)&&this.raise(D,"Unterminated regular expression"),m)m=!1;else{if(k==="[")w=!0;else if(k==="]"&&w)w=!1;else if(k==="/"&&!w)break;m=k==="\\"}++this.pos}var q=this.input.slice(D,this.pos);++this.pos;var re=this.pos,le=this.readWord1();this.containsEsc&&this.unexpected(re);var xe=this.regexpState||(this.regexpState=new Gi(this));xe.reset(D,q,le),this.validateRegExpFlags(xe),this.validateRegExpPattern(xe);var De=null;try{De=new RegExp(q,le)}catch{}return this.finishToken(E.regexp,{pattern:q,flags:le,value:De})},et.readInt=function(m,w,D){for(var k=this.options.ecmaVersion>=12&&w===void 0,q=D&&this.input.charCodeAt(this.pos)===48,re=this.pos,le=0,xe=0,De=0,Ge=w??1/0;De<Ge;++De,++this.pos){var Qe=this.input.charCodeAt(this.pos),gr=void 0;if(k&&Qe===95){q&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),xe===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),De===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),xe=Qe;continue}if(Qe>=97?gr=Qe-97+10:Qe>=65?gr=Qe-65+10:Qe>=48&&Qe<=57?gr=Qe-48:gr=1/0,gr>=m)break;xe=Qe,le=le*m+gr}return k&&xe===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===re||w!=null&&this.pos-re!==w?null:le};function r6(m,w){return w?parseInt(m,8):parseFloat(m.replace(/_/g,""))}function KC(m){return typeof BigInt!="function"?null:BigInt(m.replace(/_/g,""))}et.readRadixNumber=function(m){var w=this.pos;this.pos+=2;var D=this.readInt(m);return D==null&&this.raise(this.start+2,"Expected number in radix "+m),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(D=KC(this.input.slice(w,this.pos)),++this.pos):p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(E.num,D)},et.readNumber=function(m){var w=this.pos;!m&&this.readInt(10,void 0,!0)===null&&this.raise(w,"Invalid number");var D=this.pos-w>=2&&this.input.charCodeAt(w)===48;D&&this.strict&&this.raise(w,"Invalid number");var k=this.input.charCodeAt(this.pos);if(!D&&!m&&this.options.ecmaVersion>=11&&k===110){var q=KC(this.input.slice(w,this.pos));return++this.pos,p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(E.num,q)}D&&/[89]/.test(this.input.slice(w,this.pos))&&(D=!1),k===46&&!D&&(++this.pos,this.readInt(10),k=this.input.charCodeAt(this.pos)),(k===69||k===101)&&!D&&(k=this.input.charCodeAt(++this.pos),(k===43||k===45)&&++this.pos,this.readInt(10)===null&&this.raise(w,"Invalid number")),p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var re=r6(this.input.slice(w,this.pos),D);return this.finishToken(E.num,re)},et.readCodePoint=function(){var m=this.input.charCodeAt(this.pos),w;if(m===123){this.options.ecmaVersion<6&&this.unexpected();var D=++this.pos;w=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,w>1114111&&this.invalidStringToken(D,"Code point out of bounds")}else w=this.readHexChar(4);return w},et.readString=function(m){for(var w="",D=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var k=this.input.charCodeAt(this.pos);if(k===m)break;k===92?(w+=this.input.slice(D,this.pos),w+=this.readEscapedChar(!1),D=this.pos):k===8232||k===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(P(k)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return w+=this.input.slice(D,this.pos++),this.finishToken(E.string,w)};var XC={};et.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(m){if(m===XC)this.readInvalidTemplateToken();else throw m}this.inTemplateElement=!1},et.invalidStringToken=function(m,w){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw XC;this.raise(m,w)},et.readTmplToken=function(){for(var m="",w=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var D=this.input.charCodeAt(this.pos);if(D===96||D===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===E.template||this.type===E.invalidTemplate)?D===36?(this.pos+=2,this.finishToken(E.dollarBraceL)):(++this.pos,this.finishToken(E.backQuote)):(m+=this.input.slice(w,this.pos),this.finishToken(E.template,m));if(D===92)m+=this.input.slice(w,this.pos),m+=this.readEscapedChar(!0),w=this.pos;else if(P(D)){switch(m+=this.input.slice(w,this.pos),++this.pos,D){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:m+=`
`;break;default:m+=String.fromCharCode(D);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),w=this.pos}else++this.pos}},et.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(E.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},et.readEscapedChar=function(m){var w=this.input.charCodeAt(++this.pos);switch(++this.pos,w){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return T(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),m){var D=this.pos-1;return this.invalidStringToken(D,"Invalid escape sequence in template string"),null}default:if(w>=48&&w<=55){var k=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],q=parseInt(k,8);return q>255&&(k=k.slice(0,-1),q=parseInt(k,8)),this.pos+=k.length-1,w=this.input.charCodeAt(this.pos),(k!=="0"||w===56||w===57)&&(this.strict||m)&&this.invalidStringToken(this.pos-1-k.length,m?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(q)}return P(w)?"":String.fromCharCode(w)}},et.readHexChar=function(m){var w=this.pos,D=this.readInt(16,m);return D===null&&this.invalidStringToken(w,"Bad character escape sequence"),D},et.readWord1=function(){this.containsEsc=!1;for(var m="",w=!0,D=this.pos,k=this.options.ecmaVersion>=6;this.pos<this.input.length;){var q=this.fullCharCodeAtPos();if(l(q,k))this.pos+=q<=65535?1:2;else if(q===92){this.containsEsc=!0,m+=this.input.slice(D,this.pos);var re=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var le=this.readCodePoint();(w?p:l)(le,k)||this.invalidStringToken(re,"Invalid Unicode escape"),m+=T(le),D=this.pos}else break;w=!1}return m+this.input.slice(D,this.pos)},et.readWord=function(){var m=this.readWord1(),w=E.name;return this.keywords.test(m)&&(w=b[m]),this.finishToken(w,m)};var YC="8.8.1";Ae.acorn={Parser:Ae,version:YC,defaultOptions:ie,Position:L,SourceLocation:$,getLineInfo:Z,Node:B,TokenType:h,tokTypes:E,keywordTypes:b,TokContext:Vt,tokContexts:rt,isIdentifierChar:l,isIdentifierStart:p,Token:nh,isNewLine:P,lineBreak:S,lineBreakG:F,nonASCIIwhitespace:H};function n6(m,w){return Ae.parse(m,w)}function i6(m,w,D){return Ae.parseExpressionAt(m,w,D)}function s6(m,w){return Ae.tokenizer(m,w)}t.Node=B,t.Parser=Ae,t.Position=L,t.SourceLocation=$,t.TokContext=Vt,t.Token=nh,t.TokenType=h,t.defaultOptions=ie,t.getLineInfo=Z,t.isIdentifierChar=l,t.isIdentifierStart=p,t.isNewLine=P,t.keywordTypes=b,t.lineBreak=S,t.lineBreakG=F,t.nonASCIIwhitespace=H,t.parse=n6,t.parseExpressionAt=i6,t.tokContexts=rt,t.tokTypes=E,t.tokenizer=s6,t.version=YC,Object.defineProperty(t,"__esModule",{value:!0})})});var ZB=M((Km,YB)=>{(function(t,e){typeof Km=="object"&&typeof YB<"u"?e(Km):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e((t.acorn=t.acorn||{},t.acorn.walk={})))})(Km,function(t){"use strict";function e(g,v,b,x,E){b||(b=y),function S(F,P,V){var H=V||F.type,j=v[H];b[H](F,P,S),j&&j(F,P)}(g,x,E)}function r(g,v,b,x,E){var S=[];b||(b=y),function F(P,V,H){var j=H||P.type,R=v[j],N=P!==S[S.length-1];N&&S.push(P),b[j](P,V,F),R&&R(P,V||S,S),N&&S.pop()}(g,x,E)}function n(g,v,b,x,E){var S=b?p(b,x||void 0):x;(function F(P,V,H){S[H||P.type](P,V,F)})(g,v,E)}function i(g){return typeof g=="string"?function(v){return v===g}:g||function(){return!0}}var s=function(v,b){this.node=v,this.state=b};function o(g,v,b,x,E){b||(b=y);var S;(function F(P,V,H){var j=H||P.type;b[j](P,V,F),S!==P&&(v(P,V,j),S=P)})(g,x,E)}function a(g,v,b,x){b||(b=y);var E=[],S;(function F(P,V,H){var j=H||P.type,R=P!==E[E.length-1];R&&E.push(P),b[j](P,V,F),S!==P&&(v(P,V||E,E,j),S=P),R&&E.pop()})(g,x)}function u(g,v,b,x,E,S){E||(E=y),x=i(x);try{(function F(P,V,H){var j=H||P.type;if((v==null||P.start<=v)&&(b==null||P.end>=b)&&E[j](P,V,F),(v==null||P.start===v)&&(b==null||P.end===b)&&x(j,P))throw new s(P,V)})(g,S)}catch(F){if(F instanceof s)return F;throw F}}function f(g,v,b,x,E){b=i(b),x||(x=y);try{(function S(F,P,V){var H=V||F.type;if(!(F.start>v||F.end<v)&&(x[H](F,P,S),b(H,F)))throw new s(F,P)})(g,E)}catch(S){if(S instanceof s)return S;throw S}}function c(g,v,b,x,E){b=i(b),x||(x=y);try{(function S(F,P,V){if(!(F.end<v)){var H=V||F.type;if(F.start>=v&&b(H,F))throw new s(F,P);x[H](F,P,S)}})(g,E)}catch(S){if(S instanceof s)return S;throw S}}function d(g,v,b,x,E){b=i(b),x||(x=y);var S;return function F(P,V,H){if(!(P.start>v)){var j=H||P.type;P.end<=v&&(!S||S.node.end<P.end)&&b(j,P)&&(S=new s(P,V)),x[j](P,V,F)}}(g,E),S}function p(g,v){var b=Object.create(v||y);for(var x in g)b[x]=g[x];return b}function l(g,v,b){b(g,v)}function h(g,v,b){}var y={};y.Program=y.BlockStatement=y.StaticBlock=function(g,v,b){for(var x=0,E=g.body;x<E.length;x+=1){var S=E[x];b(S,v,"Statement")}},y.Statement=l,y.EmptyStatement=h,y.ExpressionStatement=y.ParenthesizedExpression=y.ChainExpression=function(g,v,b){return b(g.expression,v,"Expression")},y.IfStatement=function(g,v,b){b(g.test,v,"Expression"),b(g.consequent,v,"Statement"),g.alternate&&b(g.alternate,v,"Statement")},y.LabeledStatement=function(g,v,b){return b(g.body,v,"Statement")},y.BreakStatement=y.ContinueStatement=h,y.WithStatement=function(g,v,b){b(g.object,v,"Expression"),b(g.body,v,"Statement")},y.SwitchStatement=function(g,v,b){b(g.discriminant,v,"Expression");for(var x=0,E=g.cases;x<E.length;x+=1){var S=E[x];S.test&&b(S.test,v,"Expression");for(var F=0,P=S.consequent;F<P.length;F+=1){var V=P[F];b(V,v,"Statement")}}},y.SwitchCase=function(g,v,b){g.test&&b(g.test,v,"Expression");for(var x=0,E=g.consequent;x<E.length;x+=1){var S=E[x];b(S,v,"Statement")}},y.ReturnStatement=y.YieldExpression=y.AwaitExpression=function(g,v,b){g.argument&&b(g.argument,v,"Expression")},y.ThrowStatement=y.SpreadElement=function(g,v,b){return b(g.argument,v,"Expression")},y.TryStatement=function(g,v,b){b(g.block,v,"Statement"),g.handler&&b(g.handler,v),g.finalizer&&b(g.finalizer,v,"Statement")},y.CatchClause=function(g,v,b){g.param&&b(g.param,v,"Pattern"),b(g.body,v,"Statement")},y.WhileStatement=y.DoWhileStatement=function(g,v,b){b(g.test,v,"Expression"),b(g.body,v,"Statement")},y.ForStatement=function(g,v,b){g.init&&b(g.init,v,"ForInit"),g.test&&b(g.test,v,"Expression"),g.update&&b(g.update,v,"Expression"),b(g.body,v,"Statement")},y.ForInStatement=y.ForOfStatement=function(g,v,b){b(g.left,v,"ForInit"),b(g.right,v,"Expression"),b(g.body,v,"Statement")},y.ForInit=function(g,v,b){g.type==="VariableDeclaration"?b(g,v):b(g,v,"Expression")},y.DebuggerStatement=h,y.FunctionDeclaration=function(g,v,b){return b(g,v,"Function")},y.VariableDeclaration=function(g,v,b){for(var x=0,E=g.declarations;x<E.length;x+=1){var S=E[x];b(S,v)}},y.VariableDeclarator=function(g,v,b){b(g.id,v,"Pattern"),g.init&&b(g.init,v,"Expression")},y.Function=function(g,v,b){g.id&&b(g.id,v,"Pattern");for(var x=0,E=g.params;x<E.length;x+=1){var S=E[x];b(S,v,"Pattern")}b(g.body,v,g.expression?"Expression":"Statement")},y.Pattern=function(g,v,b){g.type==="Identifier"?b(g,v,"VariablePattern"):g.type==="MemberExpression"?b(g,v,"MemberPattern"):b(g,v)},y.VariablePattern=h,y.MemberPattern=l,y.RestElement=function(g,v,b){return b(g.argument,v,"Pattern")},y.ArrayPattern=function(g,v,b){for(var x=0,E=g.elements;x<E.length;x+=1){var S=E[x];S&&b(S,v,"Pattern")}},y.ObjectPattern=function(g,v,b){for(var x=0,E=g.properties;x<E.length;x+=1){var S=E[x];S.type==="Property"?(S.computed&&b(S.key,v,"Expression"),b(S.value,v,"Pattern")):S.type==="RestElement"&&b(S.argument,v,"Pattern")}},y.Expression=l,y.ThisExpression=y.Super=y.MetaProperty=h,y.ArrayExpression=function(g,v,b){for(var x=0,E=g.elements;x<E.length;x+=1){var S=E[x];S&&b(S,v,"Expression")}},y.ObjectExpression=function(g,v,b){for(var x=0,E=g.properties;x<E.length;x+=1){var S=E[x];b(S,v)}},y.FunctionExpression=y.ArrowFunctionExpression=y.FunctionDeclaration,y.SequenceExpression=function(g,v,b){for(var x=0,E=g.expressions;x<E.length;x+=1){var S=E[x];b(S,v,"Expression")}},y.TemplateLiteral=function(g,v,b){for(var x=0,E=g.quasis;x<E.length;x+=1){var S=E[x];b(S,v)}for(var F=0,P=g.expressions;F<P.length;F+=1){var V=P[F];b(V,v,"Expression")}},y.TemplateElement=h,y.UnaryExpression=y.UpdateExpression=function(g,v,b){b(g.argument,v,"Expression")},y.BinaryExpression=y.LogicalExpression=function(g,v,b){b(g.left,v,"Expression"),b(g.right,v,"Expression")},y.AssignmentExpression=y.AssignmentPattern=function(g,v,b){b(g.left,v,"Pattern"),b(g.right,v,"Expression")},y.ConditionalExpression=function(g,v,b){b(g.test,v,"Expression"),b(g.consequent,v,"Expression"),b(g.alternate,v,"Expression")},y.NewExpression=y.CallExpression=function(g,v,b){if(b(g.callee,v,"Expression"),g.arguments)for(var x=0,E=g.arguments;x<E.length;x+=1){var S=E[x];b(S,v,"Expression")}},y.MemberExpression=function(g,v,b){b(g.object,v,"Expression"),g.computed&&b(g.property,v,"Expression")},y.ExportNamedDeclaration=y.ExportDefaultDeclaration=function(g,v,b){g.declaration&&b(g.declaration,v,g.type==="ExportNamedDeclaration"||g.declaration.id?"Statement":"Expression"),g.source&&b(g.source,v,"Expression")},y.ExportAllDeclaration=function(g,v,b){g.exported&&b(g.exported,v),b(g.source,v,"Expression")},y.ImportDeclaration=function(g,v,b){for(var x=0,E=g.specifiers;x<E.length;x+=1){var S=E[x];b(S,v)}b(g.source,v,"Expression")},y.ImportExpression=function(g,v,b){b(g.source,v,"Expression")},y.ImportSpecifier=y.ImportDefaultSpecifier=y.ImportNamespaceSpecifier=y.Identifier=y.PrivateIdentifier=y.Literal=h,y.TaggedTemplateExpression=function(g,v,b){b(g.tag,v,"Expression"),b(g.quasi,v,"Expression")},y.ClassDeclaration=y.ClassExpression=function(g,v,b){return b(g,v,"Class")},y.Class=function(g,v,b){g.id&&b(g.id,v,"Pattern"),g.superClass&&b(g.superClass,v,"Expression"),b(g.body,v)},y.ClassBody=function(g,v,b){for(var x=0,E=g.body;x<E.length;x+=1){var S=E[x];b(S,v)}},y.MethodDefinition=y.PropertyDefinition=y.Property=function(g,v,b){g.computed&&b(g.key,v,"Expression"),g.value&&b(g.value,v,"Expression")},t.ancestor=r,t.base=y,t.findNodeAfter=c,t.findNodeAround=f,t.findNodeAt=u,t.findNodeBefore=d,t.full=o,t.fullAncestor=a,t.make=p,t.recursive=n,t.simple=e,Object.defineProperty(t,"__esModule",{value:!0})})});var Xm=M($w=>{var{Parser:YY,isNewLine:ZY,getLineInfo:QY}=XB(),{full:eZ}=ZB(),ll="VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL";function jw(t,e){if(!t)throw new Error(`None existent node expected '${e}'`);if(t.type!==e)throw new Error(`Invalid node type '${t.type}' expected '${e}'`);return t}function QB(t,e,r,n,i){let s=QY(e,n),o=n;for(;o<e.length&&!ZY(e.charCodeAt(o));)o++;let a=i.start===n?i.end:n+1;(!a||a>o)&&(a=o);let u=a-n;if(u<=0&&(u=1),t==="Unexpected token"){let p=i.type;p.label==="name"||p.label==="privateId"?t="Unexpected identifier":p.label==="eof"?t="Unexpected end of input":p.label==="num"?t="Unexpected number":p.label==="string"?t="Unexpected string":p.label==="regexp"?(t="Unexpected token '/'",u=1):t=`Unexpected token '${i.value||p.label}'`}let f=new SyntaxError(t);if(!r)return f;let c=e.slice(n-s.column,o),d=c.slice(0,s.column).replace(/\S/g," ")+"^".repeat(u);return f.stack=`${r}:${s.line}
${c}
${d}

${f.stack}`,f}function tZ(t,e,r,n,i){let s,o;if(t===null){if(s=e,!/\b(?:catch|import|async)\b/.test(s))return{__proto__:null,code:s,hasAsync:!1}}else s=r?"(async function":"(function",n&&(s+="*"),s+=" anonymous(",s+=t,o=s.length,s+=`
) {
`,s+=e,s+=`
})`;let a=new YY({__proto__:null,ecmaVersion:2022,allowAwaitOutsideFunction:t===null&&r,allowReturnOutsideFunction:t===null},s),u;try{u=a.parse()}catch(v){if(v instanceof SyntaxError&&v.pos!==void 0){let b=v.message,x=b.match(/^(.*) \(\d+:\d+\)$/);x&&(b=x[1]),v=QB(b,s,i,v.pos,a)}throw v}if(t!==null){let v=jw(u,"Program").body;if(v.length!==1)throw new SyntaxError("Single function literal required");let b=v[0];if(b.type!=="ExpressionStatement")throw new SyntaxError("Single function literal required");let x=b.expression;if(x.type!=="FunctionExpression")throw new SyntaxError("Single function literal required");if(x.body.start!==o+3)throw new SyntaxError("Unexpected end of arg string")}let f=[],c=!1,d=-100,p=100,l,h="VM2_INTERNAL_TMPNAME";if(eZ(u,(v,b,x)=>{x==="Function"&&v.async&&(c=!0);let E=v.type;if(E==="CatchClause"){let S=v.param;if(S)if(S.type==="Identifier"){let F=jw(S,"Identifier").name,P=jw(v.body,"BlockStatement");P.body.length>0&&f.push({__proto__:null,pos:P.body[0].start,order:d,coder:()=>`${F}=${ll}.handleException(${F});`})}else f.push({__proto__:null,pos:v.start,order:p,coder:()=>`catch(${h}){${h}=${ll}.handleException(${h});try{throw ${h};}`}),f.push({__proto__:null,pos:v.body.end,order:d,coder:()=>"}"})}else E==="WithStatement"?(f.push({__proto__:null,pos:v.object.start,order:d,coder:()=>ll+".wrapWith("}),f.push({__proto__:null,pos:v.object.end,order:p,coder:()=>")"})):E==="Identifier"?v.name===ll?(l===void 0||l.start>v.start)&&(l=v):v.name.startsWith(h)&&(h=v.name+"_UNIQUE"):E==="ImportExpression"&&f.push({__proto__:null,pos:v.start,order:p,coder:()=>ll+"."})}),l)throw QB("Use of internal vm2 state variable",s,i,l.start,{__proto__:null,start:l.start,end:l.end});if(f.length===0)return{__proto__:null,code:s,hasAsync:c};f.sort((v,b)=>v.pos==b.pos?v.order-b.order:v.pos-b.pos);let y="",g=0;for(let v=0;v<f.length;v++){let b=f[v];y+=s.substring(g,b.pos)+b.coder(),g=b.pos}return y+=s.substring(g),{__proto__:null,code:y,hasAsync:c}}$w.INTERNAL_STATE_NAME=ll;$w.transformer=tZ});var cl=M(Af=>{"use strict";var{Script:rZ}=require("vm"),{lookupCompiler:nZ,removeShebang:iZ}=Df(),{transformer:sZ}=Xm(),oZ=Object.defineProperties,Vw="(function (exports, require, module, __filename, __dirname) { ",eL=Vw+'"use strict"; ',Uw=`
});`,qw=class{constructor(e,r){let n=`${e}`,i,s;arguments.length===2?typeof r=="object"?(s=r||{__proto__:null},i=s.filename):(s={__proto__:null},i=r):arguments.length>2?(s=arguments[2]||{__proto__:null},i=r||s.filename):s={__proto__:null};let{compiler:o="javascript",lineOffset:a=0,columnOffset:u=0}=s,f=nZ(o);oZ(this,{__proto__:null,code:{__proto__:null,get(){return this._prefix+this._code+this._suffix},set(c){let d=String(c);d===this._code&&this._prefix===""&&this._suffix===""||(this._code=d,this._prefix="",this._suffix="",this._compiledVM=null,this._compiledNodeVM=null,this._compiledCode=null)},enumerable:!0},filename:{__proto__:null,value:i||"vm.js",enumerable:!0},lineOffset:{__proto__:null,value:a,enumerable:!0},columnOffset:{__proto__:null,value:u,enumerable:!0},compiler:{__proto__:null,value:o,enumerable:!0},_code:{__proto__:null,value:n,writable:!0},_prefix:{__proto__:null,value:"",writable:!0},_suffix:{__proto__:null,value:"",writable:!0},_compiledVM:{__proto__:null,value:null,writable:!0},_compiledNodeVM:{__proto__:null,value:null,writable:!0},_compiledNodeVMStrict:{__proto__:null,value:null,writable:!0},_compiledCode:{__proto__:null,value:null,writable:!0},_hasAsync:{__proto__:null,value:!1,writable:!0},_compiler:{__proto__:null,value:f}})}wrap(e,r){let n=`${e}`,i=`${r}`;return this._prefix===n&&this._suffix===i?this:(this._prefix=n,this._suffix=i,this._compiledVM=null,this._compiledNodeVM=null,this._compiledNodeVMStrict=null,this)}compile(){return this._compileVM(),this}getCompiledCode(){if(!this._compiledCode){let e=this._compiler(this._prefix+iZ(this._code)+this._suffix,this.filename),r=sZ(null,e,!1,!1,this.filename);this._compiledCode=r.code,this._hasAsync=r.hasAsync}return this._compiledCode}_compile(e,r){return new rZ(e+this.getCompiledCode()+r,{__proto__:null,filename:this.filename,displayErrors:!1,lineOffset:this.lineOffset,columnOffset:this.columnOffset})}_compileVM(){let e=this._compiledVM;return e||(this._compiledVM=e=this._compile("","")),e}_compileNodeVM(){let e=this._compiledNodeVM;return e||(this._compiledNodeVM=e=this._compile(Vw,Uw)),e}_compileNodeVMStrict(){let e=this._compiledNodeVMStrict;return e||(this._compiledNodeVMStrict=e=this._compile(eL,Uw)),e}};Af.MODULE_PREFIX=Vw;Af.STRICT_MODULE_PREFIX=eL;Af.MODULE_SUFFIX=Uw;Af.VMScript=qw});var Zm=M(iL=>{"use strict";var Hw=require("fs"),aZ=require("path"),{Script:Xw,createContext:rL}=require("vm"),{EventEmitter:uZ}=require("events"),{INSPECT_MAX_BYTES:lZ}=require("buffer"),{createBridge:cZ,VMError:Ym}=Sa(),{transformer:nL,INTERNAL_STATE_NAME:fZ}=Xm(),{lookupCompiler:hZ}=Df(),{VMScript:dZ}=cl(),{inspect:pZ}=require("util"),mZ=Object.defineProperties,gZ=Object.freeze({Buffer,Function,Object,transformAndCheck:yZ,INSPECT_MAX_BYTES:lZ,INTERNAL_STATE_NAME:fZ});function fl(t,e){return new Xw(e,{__proto__:null,filename:t,displayErrors:!1})}var Da=Object.freeze({__proto__:null,displayErrors:!1});function zw(t){if(!t)throw new Ym("Async not available")}function yZ(t,e,r,n,i){let s=nL(t,e,r,n,void 0);return zw(i||!s.hasAsync),s.code}var Ff=null,tL=null;function vZ(t,e){Ff||(Ff=rL(),tL=new Xw("fn()",{__proto__:null,filename:"timeout_bridge.js",displayErrors:!1})),Ff.fn=t;try{return tL.runInContext(Ff,{__proto__:null,displayErrors:!1,timeout:e})}finally{Ff.fn=null}}var EZ=fl(`${__dirname}/bridge.js`,`(function(global) {"use strict"; const exports = {};'use strict';

/**
 * __        ___    ____  _   _ ___ _   _  ____
 *        / /   |  _ |  | |_ _|  | |/ ___|
 *    / / / _  | |_) |  | || ||  | | |  _
 *    V  V / ___ |  _ <| |  || || |  | |_| |
 *    _/_/_/   __| __| _|___|_| _|____|
 *
 * This file is critical for vm2. It implements the bridge between the host and the sandbox.
 * If you do not know exactly what you are doing, you should NOT edit this file.
 *
 * The file is loaded in the host and sandbox to handle objects in both directions.
 * This is done to ensure that RangeErrors are from the correct context.
 * The boundary between the sandbox and host might throw RangeErrors from both contexts.
 * Therefore, thisFromOther and friends can handle objects from both domains.
 *
 * Method parameters have comments to tell from which context they came.
 *
 */

const globalsList = [
	'Number',
	'String',
	'Boolean',
	'Date',
	'RegExp',
	'Map',
	'WeakMap',
	'Set',
	'WeakSet',
	'Promise',
	'Function'
];

const errorsList = [
	'RangeError',
	'ReferenceError',
	'SyntaxError',
	'TypeError',
	'EvalError',
	'URIError',
	'Error'
];

const OPNA = 'Operation not allowed on contextified object.';

const thisGlobalPrototypes = {
	__proto__: null,
	Object: Object.prototype,
	Array: Array.prototype
};

for (let i = 0; i < globalsList.length; i++) {
	const key = globalsList[i];
	const g = global[key];
	if (g) thisGlobalPrototypes[key] = g.prototype;
}

for (let i = 0; i < errorsList.length; i++) {
	const key = errorsList[i];
	const g = global[key];
	if (g) thisGlobalPrototypes[key] = g.prototype;
}

const {
	getPrototypeOf: thisReflectGetPrototypeOf,
	setPrototypeOf: thisReflectSetPrototypeOf,
	defineProperty: thisReflectDefineProperty,
	deleteProperty: thisReflectDeleteProperty,
	getOwnPropertyDescriptor: thisReflectGetOwnPropertyDescriptor,
	isExtensible: thisReflectIsExtensible,
	preventExtensions: thisReflectPreventExtensions,
	apply: thisReflectApply,
	construct: thisReflectConstruct,
	set: thisReflectSet,
	get: thisReflectGet,
	has: thisReflectHas,
	ownKeys: thisReflectOwnKeys,
	enumerate: thisReflectEnumerate,
} = Reflect;

const thisObject = Object;
const {
	freeze: thisObjectFreeze,
	prototype: thisObjectPrototype
} = thisObject;
const thisObjectHasOwnProperty = thisObjectPrototype.hasOwnProperty;
const ThisProxy = Proxy;
const ThisWeakMap = WeakMap;
const {
	get: thisWeakMapGet,
	set: thisWeakMapSet
} = ThisWeakMap.prototype;
const ThisMap = Map;
const thisMapGet = ThisMap.prototype.get;
const thisMapSet = ThisMap.prototype.set;
const thisFunction = Function;
const thisFunctionBind = thisFunction.prototype.bind;
const thisArrayIsArray = Array.isArray;
const thisErrorCaptureStackTrace = Error.captureStackTrace;

const thisSymbolToString = Symbol.prototype.toString;
const thisSymbolToStringTag = Symbol.toStringTag;
const thisSymbolIterator = Symbol.iterator;
const thisSymbolNodeJSUtilInspectCustom = Symbol.for('nodejs.util.inspect.custom');

/**
 * VMError.
 *
 * @public
 * @extends {Error}
 */
class VMError extends Error {

	/**
	 * Create VMError instance.
	 *
	 * @public
	 * @param {string} message - Error message.
	 * @param {string} code - Error code.
	 */
	constructor(message, code) {
		super(message);

		this.name = 'VMError';
		this.code = code;

		thisErrorCaptureStackTrace(this, this.constructor);
	}
}

thisGlobalPrototypes['VMError'] = VMError.prototype;

function thisUnexpected() {
	return new VMError('Unexpected');
}

if (!thisReflectSetPrototypeOf(exports, null)) throw thisUnexpected();

function thisSafeGetOwnPropertyDescriptor(obj, key) {
	const desc = thisReflectGetOwnPropertyDescriptor(obj, key);
	if (!desc) return desc;
	if (!thisReflectSetPrototypeOf(desc, null)) throw thisUnexpected();
	return desc;
}

function thisThrowCallerCalleeArgumentsAccess(key) {
	'use strict';
	thisThrowCallerCalleeArgumentsAccess[key];
	return thisUnexpected();
}

function thisIdMapping(factory, other) {
	return other;
}

const thisThrowOnKeyAccessHandler = thisObjectFreeze({
	__proto__: null,
	get(target, key, receiver) {
		if (typeof key === 'symbol') {
			key = thisReflectApply(thisSymbolToString, key, []);
		}
		throw new VMError(\`Unexpected access to key '\${key}'\`);
	}
});

const emptyForzenObject = thisObjectFreeze({
	__proto__: null
});

const thisThrowOnKeyAccess = new ThisProxy(emptyForzenObject, thisThrowOnKeyAccessHandler);

function SafeBase() {}

if (!thisReflectDefineProperty(SafeBase, 'prototype', {
	__proto__: null,
	value: thisThrowOnKeyAccess
})) throw thisUnexpected();

function SHARED_FUNCTION() {}

const TEST_PROXY_HANDLER = thisObjectFreeze({
	__proto__: thisThrowOnKeyAccess,
	construct() {
		return this;
	}
});

function thisIsConstructor(obj) {
	// Note: obj@any(unsafe)
	const Func = new ThisProxy(obj, TEST_PROXY_HANDLER);
	try {
		// eslint-disable-next-line no-new
		new Func();
		return true;
	} catch (e) {
		return false;
	}
}

function thisCreateTargetObject(obj, proto) {
	// Note: obj@any(unsafe) proto@any(unsafe) returns@this(unsafe) throws@this(unsafe)
	let base;
	if (typeof obj === 'function') {
		if (thisIsConstructor(obj)) {
			// Bind the function since bound functions do not have a prototype property.
			base = thisReflectApply(thisFunctionBind, SHARED_FUNCTION, [null]);
		} else {
			base = () => {};
		}
	} else if (thisArrayIsArray(obj)) {
		base = [];
	} else {
		return {__proto__: proto};
	}
	if (!thisReflectSetPrototypeOf(base, proto)) throw thisUnexpected();
	return base;
}

function createBridge(otherInit, registerProxy) {

	const mappingOtherToThis = new ThisWeakMap();
	const protoMappings = new ThisMap();
	const protoName = new ThisMap();

	function thisAddProtoMapping(proto, other, name) {
		// Note: proto@this(unsafe) other@other(unsafe) name@this(unsafe) throws@this(unsafe)
		thisReflectApply(thisMapSet, protoMappings, [proto, thisIdMapping]);
		thisReflectApply(thisMapSet, protoMappings, [other,
			(factory, object) => thisProxyOther(factory, object, proto)]);
		if (name) thisReflectApply(thisMapSet, protoName, [proto, name]);
	}

	function thisAddProtoMappingFactory(protoFactory, other, name) {
		// Note: protoFactory@this(unsafe) other@other(unsafe) name@this(unsafe) throws@this(unsafe)
		let proto;
		thisReflectApply(thisMapSet, protoMappings, [other,
			(factory, object) => {
				if (!proto) {
					proto = protoFactory();
					thisReflectApply(thisMapSet, protoMappings, [proto, thisIdMapping]);
					if (name) thisReflectApply(thisMapSet, protoName, [proto, name]);
				}
				return thisProxyOther(factory, object, proto);
			}]);
	}

	const result = {
		__proto__: null,
		globalPrototypes: thisGlobalPrototypes,
		safeGetOwnPropertyDescriptor: thisSafeGetOwnPropertyDescriptor,
		fromArguments: thisFromOtherArguments,
		from: thisFromOther,
		fromWithFactory: thisFromOtherWithFactory,
		ensureThis: thisEnsureThis,
		mapping: mappingOtherToThis,
		connect: thisConnect,
		reflectSet: thisReflectSet,
		reflectGet: thisReflectGet,
		reflectDefineProperty: thisReflectDefineProperty,
		reflectDeleteProperty: thisReflectDeleteProperty,
		reflectApply: thisReflectApply,
		reflectConstruct: thisReflectConstruct,
		reflectHas: thisReflectHas,
		reflectOwnKeys: thisReflectOwnKeys,
		reflectEnumerate: thisReflectEnumerate,
		reflectGetPrototypeOf: thisReflectGetPrototypeOf,
		reflectIsExtensible: thisReflectIsExtensible,
		reflectPreventExtensions: thisReflectPreventExtensions,
		objectHasOwnProperty: thisObjectHasOwnProperty,
		weakMapSet: thisWeakMapSet,
		addProtoMapping: thisAddProtoMapping,
		addProtoMappingFactory: thisAddProtoMappingFactory,
		defaultFactory,
		protectedFactory,
		readonlyFactory,
		VMError
	};

	const isHost = typeof otherInit !== 'object';

	if (isHost) {
		otherInit = otherInit(result, registerProxy);
	}

	result.other = otherInit;

	const {
		globalPrototypes: otherGlobalPrototypes,
		safeGetOwnPropertyDescriptor: otherSafeGetOwnPropertyDescriptor,
		fromArguments: otherFromThisArguments,
		from: otherFromThis,
		mapping: mappingThisToOther,
		reflectSet: otherReflectSet,
		reflectGet: otherReflectGet,
		reflectDefineProperty: otherReflectDefineProperty,
		reflectDeleteProperty: otherReflectDeleteProperty,
		reflectApply: otherReflectApply,
		reflectConstruct: otherReflectConstruct,
		reflectHas: otherReflectHas,
		reflectOwnKeys: otherReflectOwnKeys,
		reflectEnumerate: otherReflectEnumerate,
		reflectGetPrototypeOf: otherReflectGetPrototypeOf,
		reflectIsExtensible: otherReflectIsExtensible,
		reflectPreventExtensions: otherReflectPreventExtensions,
		objectHasOwnProperty: otherObjectHasOwnProperty,
		weakMapSet: otherWeakMapSet
	} = otherInit;

	function thisOtherHasOwnProperty(object, key) {
		// Note: object@other(safe) key@prim throws@this(unsafe)
		try {
			return otherReflectApply(otherObjectHasOwnProperty, object, [key]) === true;
		} catch (e) { // @other(unsafe)
			throw thisFromOtherForThrow(e);
		}
	}

	function thisDefaultGet(handler, object, key, desc) {
		// Note: object@other(unsafe) key@prim desc@other(safe)
		let ret; // @other(unsafe)
		if (desc.get || desc.set) {
			const getter = desc.get;
			if (!getter) return undefined;
			try {
				ret = otherReflectApply(getter, object, [key]);
			} catch (e) {
				throw thisFromOtherForThrow(e);
			}
		} else {
			ret = desc.value;
		}
		return handler.fromOtherWithContext(ret);
	}

	function otherFromThisIfAvailable(to, from, key) {
		// Note: to@other(safe) from@this(safe) key@prim throws@this(unsafe)
		if (!thisReflectApply(thisObjectHasOwnProperty, from, [key])) return false;
		try {
			to[key] = otherFromThis(from[key]);
		} catch (e) { // @other(unsafe)
			throw thisFromOtherForThrow(e);
		}
		return true;
	}

	class BaseHandler extends SafeBase {

		constructor(object) {
			// Note: object@other(unsafe) throws@this(unsafe)
			super();
			this.objectWrapper = () => object;
		}

		getObject() {
			return this.objectWrapper();
		}

		getFactory() {
			return defaultFactory;
		}

		fromOtherWithContext(other) {
			// Note: other@other(unsafe) throws@this(unsafe)
			return thisFromOtherWithFactory(this.getFactory(), other);
		}

		doPreventExtensions(target, object, factory) {
			// Note: target@this(unsafe) object@other(unsafe) throws@this(unsafe)
			let keys; // @other(safe-array-of-prim)
			try {
				keys = otherReflectOwnKeys(object);
			} catch (e) { // @other(unsafe)
				throw thisFromOtherForThrow(e);
			}
			for (let i = 0; i < keys.length; i++) {
				const key = keys[i]; // @prim
				let desc;
				try {
					desc = otherSafeGetOwnPropertyDescriptor(object, key);
				} catch (e) { // @other(unsafe)
					throw thisFromOtherForThrow(e);
				}
				if (!desc) continue;
				if (!desc.configurable) {
					const current = thisSafeGetOwnPropertyDescriptor(target, key);
					if (current && !current.configurable) continue;
					if (desc.get || desc.set) {
						desc.get = this.fromOtherWithContext(desc.get);
						desc.set = this.fromOtherWithContext(desc.set);
					} else if (typeof object === 'function' && (key === 'caller' || key === 'callee' || key === 'arguments')) {
						desc.value = null;
					} else {
						desc.value = this.fromOtherWithContext(desc.value);
					}
				} else {
					if (desc.get || desc.set) {
						desc = {
							__proto__: null,
							configurable: true,
							enumerable: desc.enumerable,
							writable: true,
							value: null
						};
					} else {
						desc.value = null;
					}
				}
				if (!thisReflectDefineProperty(target, key, desc)) throw thisUnexpected();
			}
			if (!thisReflectPreventExtensions(target)) throw thisUnexpected();
		}

		get(target, key, receiver) {
			// Note: target@this(unsafe) key@prim receiver@this(unsafe) throws@this(unsafe)
			const object = this.getObject(); // @other(unsafe)
			switch (key) {
				case 'constructor': {
					const desc = otherSafeGetOwnPropertyDescriptor(object, key);
					if (desc) return thisDefaultGet(this, object, key, desc);
					const proto = thisReflectGetPrototypeOf(target);
					return proto === null ? undefined : proto.constructor;
				}
				case '__proto__': {
					const desc = otherSafeGetOwnPropertyDescriptor(object, key);
					if (desc) return thisDefaultGet(this, object, key, desc);
					return thisReflectGetPrototypeOf(target);
				}
				case thisSymbolToStringTag:
					if (!thisOtherHasOwnProperty(object, thisSymbolToStringTag)) {
						const proto = thisReflectGetPrototypeOf(target);
						const name = thisReflectApply(thisMapGet, protoName, [proto]);
						if (name) return name;
					}
					break;
				case 'arguments':
				case 'caller':
				case 'callee':
					if (typeof object === 'function' && thisOtherHasOwnProperty(object, key)) {
						throw thisThrowCallerCalleeArgumentsAccess(key);
					}
					break;
			}
			let ret; // @other(unsafe)
			try {
				ret = otherReflectGet(object, key);
			} catch (e) { // @other(unsafe)
				throw thisFromOtherForThrow(e);
			}
			return this.fromOtherWithContext(ret);
		}

		set(target, key, value, receiver) {
			// Note: target@this(unsafe) key@prim value@this(unsafe) receiver@this(unsafe) throws@this(unsafe)
			const object = this.getObject(); // @other(unsafe)
			if (key === '__proto__' && !thisOtherHasOwnProperty(object, key)) {
				return this.setPrototypeOf(target, value);
			}
			try {
				value = otherFromThis(value);
				return otherReflectSet(object, key, value) === true;
			} catch (e) { // @other(unsafe)
				throw thisFromOtherForThrow(e);
			}
		}

		getPrototypeOf(target) {
			// Note: target@this(unsafe)
			return thisReflectGetPrototypeOf(target);
		}

		setPrototypeOf(target, value) {
			// Note: target@this(unsafe) throws@this(unsafe)
			throw new VMError(OPNA);
		}

		apply(target, context, args) {
			// Note: target@this(unsafe) context@this(unsafe) args@this(safe-array) throws@this(unsafe)
			const object = this.getObject(); // @other(unsafe)
			let ret; // @other(unsafe)
			try {
				context = otherFromThis(context);
				args = otherFromThisArguments(args);
				ret = otherReflectApply(object, context, args);
			} catch (e) { // @other(unsafe)
				throw thisFromOtherForThrow(e);
			}
			return thisFromOther(ret);
		}

		construct(target, args, newTarget) {
			// Note: target@this(unsafe) args@this(safe-array) newTarget@this(unsafe) throws@this(unsafe)
			const object = this.getObject(); // @other(unsafe)
			let ret; // @other(unsafe)
			try {
				args = otherFromThisArguments(args);
				ret = otherReflectConstruct(object, args);
			} catch (e) { // @other(unsafe)
				throw thisFromOtherForThrow(e);
			}
			return thisFromOtherWithFactory(this.getFactory(), ret, thisFromOther(object));
		}

		getOwnPropertyDescriptorDesc(target, prop, desc) {
			// Note: target@this(unsafe) prop@prim desc@other{safe} throws@this(unsafe)
			const object = this.getObject(); // @other(unsafe)
			if (desc && typeof object === 'function' && (prop === 'arguments' || prop === 'caller' || prop === 'callee')) desc.value = null;
			return desc;
		}

		getOwnPropertyDescriptor(target, prop) {
			// Note: target@this(unsafe) prop@prim throws@this(unsafe)
			const object = this.getObject(); // @other(unsafe)
			let desc; // @other(safe)
			try {
				desc = otherSafeGetOwnPropertyDescriptor(object, prop);
			} catch (e) { // @other(unsafe)
				throw thisFromOtherForThrow(e);
			}

			desc = this.getOwnPropertyDescriptorDesc(target, prop, desc);

			if (!desc) return undefined;

			let thisDesc;
			if (desc.get || desc.set) {
				thisDesc = {
					__proto__: null,
					get: this.fromOtherWithContext(desc.get),
					set: this.fromOtherWithContext(desc.set),
					enumerable: desc.enumerable === true,
					configurable: desc.configurable === true
				};
			} else {
				thisDesc = {
					__proto__: null,
					value: this.fromOtherWithContext(desc.value),
					writable: desc.writable === true,
					enumerable: desc.enumerable === true,
					configurable: desc.configurable === true
				};
			}
			if (!thisDesc.configurable) {
				const oldDesc = thisSafeGetOwnPropertyDescriptor(target, prop);
				if (!oldDesc || oldDesc.configurable || oldDesc.writable !== thisDesc.writable) {
					if (!thisReflectDefineProperty(target, prop, thisDesc)) throw thisUnexpected();
				}
			}
			return thisDesc;
		}

		definePropertyDesc(target, prop, desc) {
			// Note: target@this(unsafe) prop@prim desc@this(safe) throws@this(unsafe)
			return desc;
		}

		defineProperty(target, prop, desc) {
			// Note: target@this(unsafe) prop@prim desc@this(unsafe) throws@this(unsafe)
			const object = this.getObject(); // @other(unsafe)
			if (!thisReflectSetPrototypeOf(desc, null)) throw thisUnexpected();

			desc = this.definePropertyDesc(target, prop, desc);

			if (!desc) return false;

			let otherDesc = {__proto__: null};
			let hasFunc = true;
			let hasValue = true;
			let hasBasic = true;
			hasFunc &= otherFromThisIfAvailable(otherDesc, desc, 'get');
			hasFunc &= otherFromThisIfAvailable(otherDesc, desc, 'set');
			hasValue &= otherFromThisIfAvailable(otherDesc, desc, 'value');
			hasValue &= otherFromThisIfAvailable(otherDesc, desc, 'writable');
			hasBasic &= otherFromThisIfAvailable(otherDesc, desc, 'enumerable');
			hasBasic &= otherFromThisIfAvailable(otherDesc, desc, 'configurable');

			try {
				if (!otherReflectDefineProperty(object, prop, otherDesc)) return false;
				if (otherDesc.configurable !== true && (!hasBasic || !(hasFunc || hasValue))) {
					otherDesc = otherSafeGetOwnPropertyDescriptor(object, prop);
				}
			} catch (e) { // @other(unsafe)
				throw thisFromOtherForThrow(e);
			}

			if (!otherDesc.configurable) {
				let thisDesc;
				if (otherDesc.get || otherDesc.set) {
					thisDesc = {
						__proto__: null,
						get: this.fromOtherWithContext(otherDesc.get),
						set: this.fromOtherWithContext(otherDesc.set),
						enumerable: otherDesc.enumerable,
						configurable: otherDesc.configurable
					};
				} else {
					thisDesc = {
						__proto__: null,
						value: this.fromOtherWithContext(otherDesc.value),
						writable: otherDesc.writable,
						enumerable: otherDesc.enumerable,
						configurable: otherDesc.configurable
					};
				}
				if (!thisReflectDefineProperty(target, prop, thisDesc)) throw thisUnexpected();
			}
			return true;
		}

		deleteProperty(target, prop) {
			// Note: target@this(unsafe) prop@prim throws@this(unsafe)
			const object = this.getObject(); // @other(unsafe)
			try {
				return otherReflectDeleteProperty(object, prop) === true;
			} catch (e) { // @other(unsafe)
				throw thisFromOtherForThrow(e);
			}
		}

		has(target, key) {
			// Note: target@this(unsafe) key@prim throws@this(unsafe)
			const object = this.getObject(); // @other(unsafe)
			try {
				return otherReflectHas(object, key) === true;
			} catch (e) { // @other(unsafe)
				throw thisFromOtherForThrow(e);
			}
		}

		isExtensible(target) {
			// Note: target@this(unsafe) throws@this(unsafe)
			const object = this.getObject(); // @other(unsafe)
			try {
				if (otherReflectIsExtensible(object)) return true;
			} catch (e) { // @other(unsafe)
				throw thisFromOtherForThrow(e);
			}
			if (thisReflectIsExtensible(target)) {
				this.doPreventExtensions(target, object, this);
			}
			return false;
		}

		ownKeys(target) {
			// Note: target@this(unsafe) throws@this(unsafe)
			const object = this.getObject(); // @other(unsafe)
			let res; // @other(unsafe)
			try {
				res = otherReflectOwnKeys(object);
			} catch (e) { // @other(unsafe)
				throw thisFromOtherForThrow(e);
			}
			return thisFromOther(res);
		}

		preventExtensions(target) {
			// Note: target@this(unsafe) throws@this(unsafe)
			const object = this.getObject(); // @other(unsafe)
			try {
				if (!otherReflectPreventExtensions(object)) return false;
			} catch (e) { // @other(unsafe)
				throw thisFromOtherForThrow(e);
			}
			if (thisReflectIsExtensible(target)) {
				this.doPreventExtensions(target, object, this);
			}
			return true;
		}

		enumerate(target) {
			// Note: target@this(unsafe) throws@this(unsafe)
			const object = this.getObject(); // @other(unsafe)
			let res; // @other(unsafe)
			try {
				res = otherReflectEnumerate(object);
			} catch (e) { // @other(unsafe)
				throw thisFromOtherForThrow(e);
			}
			return this.fromOtherWithContext(res);
		}

	}

	BaseHandler.prototype[thisSymbolNodeJSUtilInspectCustom] = undefined;
	BaseHandler.prototype[thisSymbolToStringTag] = 'VM2 Wrapper';
	BaseHandler.prototype[thisSymbolIterator] = undefined;

	function defaultFactory(object) {
		// Note: other@other(unsafe) returns@this(unsafe) throws@this(unsafe)
		return new BaseHandler(object);
	}

	class ProtectedHandler extends BaseHandler {

		getFactory() {
			return protectedFactory;
		}

		set(target, key, value, receiver) {
			// Note: target@this(unsafe) key@prim value@this(unsafe) receiver@this(unsafe) throws@this(unsafe)
			if (typeof value === 'function') {
				return thisReflectDefineProperty(receiver, key, {
					__proto__: null,
					value: value,
					writable: true,
					enumerable: true,
					configurable: true
				}) === true;
			}
			return super.set(target, key, value, receiver);
		}

		definePropertyDesc(target, prop, desc) {
			// Note: target@this(unsafe) prop@prim desc@this(safe) throws@this(unsafe)
			if (desc && (desc.set || desc.get || typeof desc.value === 'function')) return undefined;
			return desc;
		}

	}

	function protectedFactory(object) {
		// Note: other@other(unsafe) returns@this(unsafe) throws@this(unsafe)
		return new ProtectedHandler(object);
	}

	class ReadOnlyHandler extends BaseHandler {

		getFactory() {
			return readonlyFactory;
		}

		set(target, key, value, receiver) {
			// Note: target@this(unsafe) key@prim value@this(unsafe) receiver@this(unsafe) throws@this(unsafe)
			return thisReflectDefineProperty(receiver, key, {
				__proto__: null,
				value: value,
				writable: true,
				enumerable: true,
				configurable: true
			});
		}

		setPrototypeOf(target, value) {
			// Note: target@this(unsafe) throws@this(unsafe)
			return false;
		}

		defineProperty(target, prop, desc) {
			// Note: target@this(unsafe) prop@prim desc@this(unsafe) throws@this(unsafe)
			return false;
		}

		deleteProperty(target, prop) {
			// Note: target@this(unsafe) prop@prim throws@this(unsafe)
			return false;
		}

		isExtensible(target) {
			// Note: target@this(unsafe) throws@this(unsafe)
			return false;
		}

		preventExtensions(target) {
			// Note: target@this(unsafe) throws@this(unsafe)
			return false;
		}

	}

	function readonlyFactory(object) {
		// Note: other@other(unsafe) returns@this(unsafe) throws@this(unsafe)
		return new ReadOnlyHandler(object);
	}

	class ReadOnlyMockHandler extends ReadOnlyHandler {

		constructor(object, mock) {
			// Note: object@other(unsafe) mock:this(unsafe) throws@this(unsafe)
			super(object);
			this.mock = mock;
		}

		get(target, key, receiver) {
			// Note: target@this(unsafe) key@prim receiver@this(unsafe) throws@this(unsafe)
			const object = this.getObject(); // @other(unsafe)
			const mock = this.mock;
			if (thisReflectApply(thisObjectHasOwnProperty, mock, key) && !thisOtherHasOwnProperty(object, key)) {
				return mock[key];
			}
			return super.get(target, key, receiver);
		}

	}

	function thisFromOther(other) {
		// Note: other@other(unsafe) returns@this(unsafe) throws@this(unsafe)
		return thisFromOtherWithFactory(defaultFactory, other);
	}

	function thisProxyOther(factory, other, proto) {
		const target = thisCreateTargetObject(other, proto);
		const handler = factory(other);
		const proxy = new ThisProxy(target, handler);
		try {
			otherReflectApply(otherWeakMapSet, mappingThisToOther, [proxy, other]);
			registerProxy(proxy, handler);
		} catch (e) {
			throw new VMError('Unexpected error');
		}
		if (!isHost) {
			thisReflectApply(thisWeakMapSet, mappingOtherToThis, [other, proxy]);
			return proxy;
		}
		const proxy2 = new ThisProxy(proxy, emptyForzenObject);
		try {
			otherReflectApply(otherWeakMapSet, mappingThisToOther, [proxy2, other]);
			registerProxy(proxy2, handler);
		} catch (e) {
			throw new VMError('Unexpected error');
		}
		thisReflectApply(thisWeakMapSet, mappingOtherToThis, [other, proxy2]);
		return proxy2;
	}

	function thisEnsureThis(other) {
		const type = typeof other;
		switch (type) {
			case 'object':
				if (other === null) {
					return null;
				}
				// fallthrough
			case 'function':
				let proto = thisReflectGetPrototypeOf(other);
				if (!proto) {
					return other;
				}
				while (proto) {
					const mapping = thisReflectApply(thisMapGet, protoMappings, [proto]);
					if (mapping) {
						const mapped = thisReflectApply(thisWeakMapGet, mappingOtherToThis, [other]);
						if (mapped) return mapped;
						return mapping(defaultFactory, other);
					}
					proto = thisReflectGetPrototypeOf(proto);
				}
				return other;
			case 'undefined':
			case 'string':
			case 'number':
			case 'boolean':
			case 'symbol':
			case 'bigint':
				return other;

			default: // new, unknown types can be dangerous
				throw new VMError(\`Unknown type '\${type}'\`);
		}
	}

	function thisFromOtherForThrow(other) {
		for (let loop = 0; loop < 10; loop++) {
			const type = typeof other;
			switch (type) {
				case 'object':
					if (other === null) {
						return null;
					}
					// fallthrough
				case 'function':
					const mapped = thisReflectApply(thisWeakMapGet, mappingOtherToThis, [other]);
					if (mapped) return mapped;
					let proto;
					try {
						proto = otherReflectGetPrototypeOf(other);
					} catch (e) { // @other(unsafe)
						other = e;
						break;
					}
					if (!proto) {
						return thisProxyOther(defaultFactory, other, null);
					}
					for (;;) {
						const mapping = thisReflectApply(thisMapGet, protoMappings, [proto]);
						if (mapping) return mapping(defaultFactory, other);
						try {
							proto = otherReflectGetPrototypeOf(proto);
						} catch (e) { // @other(unsafe)
							other = e;
							break;
						}
						if (!proto) return thisProxyOther(defaultFactory, other, thisObjectPrototype);
					}
					break;
				case 'undefined':
				case 'string':
				case 'number':
				case 'boolean':
				case 'symbol':
				case 'bigint':
					return other;

				default: // new, unknown types can be dangerous
					throw new VMError(\`Unknown type '\${type}'\`);
			}
		}
		throw new VMError('Exception recursion depth');
	}

	function thisFromOtherWithFactory(factory, other, proto) {
		const type = typeof other;
		switch (type) {
			case 'object':
				if (other === null) {
					return null;
				}
				// fallthrough
			case 'function':
				const mapped = thisReflectApply(thisWeakMapGet, mappingOtherToThis, [other]);
				if (mapped) return mapped;
				if (proto) {
					return thisProxyOther(factory, other, proto);
				}
				try {
					proto = otherReflectGetPrototypeOf(other);
				} catch (e) { // @other(unsafe)
					throw thisFromOtherForThrow(e);
				}
				if (!proto) {
					return thisProxyOther(factory, other, null);
				}
				do {
					const mapping = thisReflectApply(thisMapGet, protoMappings, [proto]);
					if (mapping) return mapping(factory, other);
					try {
						proto = otherReflectGetPrototypeOf(proto);
					} catch (e) { // @other(unsafe)
						throw thisFromOtherForThrow(e);
					}
				} while (proto);
				return thisProxyOther(factory, other, thisObjectPrototype);
			case 'undefined':
			case 'string':
			case 'number':
			case 'boolean':
			case 'symbol':
			case 'bigint':
				return other;

			default: // new, unknown types can be dangerous
				throw new VMError(\`Unknown type '\${type}'\`);
		}
	}

	function thisFromOtherArguments(args) {
		// Note: args@other(safe-array) returns@this(safe-array) throws@this(unsafe)
		const arr = [];
		for (let i = 0; i < args.length; i++) {
			const value = thisFromOther(args[i]);
			thisReflectDefineProperty(arr, i, {
				__proto__: null,
				value: value,
				writable: true,
				enumerable: true,
				configurable: true
			});
		}
		return arr;
	}

	function thisConnect(obj, other) {
		// Note: obj@this(unsafe) other@other(unsafe) throws@this(unsafe)
		try {
			otherReflectApply(otherWeakMapSet, mappingThisToOther, [obj, other]);
		} catch (e) {
			throw new VMError('Unexpected error');
		}
		thisReflectApply(thisWeakMapSet, mappingOtherToThis, [other, obj]);
	}

	thisAddProtoMapping(thisGlobalPrototypes.Object, otherGlobalPrototypes.Object);
	thisAddProtoMapping(thisGlobalPrototypes.Array, otherGlobalPrototypes.Array);

	for (let i = 0; i < globalsList.length; i++) {
		const key = globalsList[i];
		const tp = thisGlobalPrototypes[key];
		const op = otherGlobalPrototypes[key];
		if (tp && op) thisAddProtoMapping(tp, op, key);
	}

	for (let i = 0; i < errorsList.length; i++) {
		const key = errorsList[i];
		const tp = thisGlobalPrototypes[key];
		const op = otherGlobalPrototypes[key];
		if (tp && op) thisAddProtoMapping(tp, op, 'Error');
	}

	thisAddProtoMapping(thisGlobalPrototypes.VMError, otherGlobalPrototypes.VMError, 'Error');

	result.BaseHandler = BaseHandler;
	result.ProtectedHandler = ProtectedHandler;
	result.ReadOnlyHandler = ReadOnlyHandler;
	result.ReadOnlyMockHandler = ReadOnlyMockHandler;

	return result;
}

exports.createBridge = createBridge;
exports.VMError = VMError;

return exports;})`),bZ=fl(`${__dirname}/setup-sandbox.js`,`(function(global, host, bridge, data, context) { /* global host, bridge, data, context */

'use strict';

const {
	Object: localObject,
	Array: localArray,
	Error: LocalError,
	Reflect: localReflect,
	Proxy: LocalProxy,
	WeakMap: LocalWeakMap,
	Function: localFunction,
	Promise: localPromise,
	eval: localEval
} = global;

const {
	freeze: localObjectFreeze
} = localObject;

const {
	getPrototypeOf: localReflectGetPrototypeOf,
	apply: localReflectApply,
	construct: localReflectConstruct,
	deleteProperty: localReflectDeleteProperty,
	has: localReflectHas,
	defineProperty: localReflectDefineProperty,
	setPrototypeOf: localReflectSetPrototypeOf,
	getOwnPropertyDescriptor: localReflectGetOwnPropertyDescriptor
} = localReflect;

const {
	isArray: localArrayIsArray
} = localArray;

const {
	ensureThis,
	ReadOnlyHandler,
	from,
	fromWithFactory,
	readonlyFactory,
	connect,
	addProtoMapping,
	VMError,
	ReadOnlyMockHandler
} = bridge;

const {
	allowAsync,
	GeneratorFunction,
	AsyncFunction,
	AsyncGeneratorFunction
} = data;

const {
	get: localWeakMapGet,
	set: localWeakMapSet
} = LocalWeakMap.prototype;

function localUnexpected() {
	return new VMError('Should not happen');
}

// global is originally prototype of host.Object so it can be used to climb up from the sandbox.
if (!localReflectSetPrototypeOf(context, localObject.prototype)) throw localUnexpected();

Object.defineProperties(global, {
	global: {value: global, writable: true, configurable: true, enumerable: true},
	globalThis: {value: global, writable: true, configurable: true},
	GLOBAL: {value: global, writable: true, configurable: true},
	root: {value: global, writable: true, configurable: true},
	Error: {value: LocalError}
});

if (!localReflectDefineProperty(global, 'VMError', {
	__proto__: null,
	value: VMError,
	writable: true,
	enumerable: false,
	configurable: true
})) throw localUnexpected();

// Fixes buffer unsafe allocation
/* eslint-disable no-use-before-define */
class BufferHandler extends ReadOnlyHandler {

	apply(target, thiz, args) {
		if (args.length > 0 && typeof args[0] === 'number') {
			return LocalBuffer.alloc(args[0]);
		}
		return localReflectApply(LocalBuffer.from, LocalBuffer, args);
	}

	construct(target, args, newTarget) {
		if (args.length > 0 && typeof args[0] === 'number') {
			return LocalBuffer.alloc(args[0]);
		}
		return localReflectApply(LocalBuffer.from, LocalBuffer, args);
	}

}
/* eslint-enable no-use-before-define */

const LocalBuffer = fromWithFactory(obj => new BufferHandler(obj), host.Buffer);


if (!localReflectDefineProperty(global, 'Buffer', {
	__proto__: null,
	value: LocalBuffer,
	writable: true,
	enumerable: false,
	configurable: true
})) throw localUnexpected();

addProtoMapping(LocalBuffer.prototype, host.Buffer.prototype, 'Uint8Array');

/**
 *
 * @param {*} size Size of new buffer
 * @this LocalBuffer
 * @return {LocalBuffer}
 */
function allocUnsafe(size) {
	return LocalBuffer.alloc(size);
}

connect(allocUnsafe, host.Buffer.allocUnsafe);

/**
 *
 * @param {*} size Size of new buffer
 * @this LocalBuffer
 * @return {LocalBuffer}
 */
function allocUnsafeSlow(size) {
	return LocalBuffer.alloc(size);
}

connect(allocUnsafeSlow, host.Buffer.allocUnsafeSlow);

/**
 * Replacement for Buffer inspect
 *
 * @param {*} recurseTimes
 * @param {*} ctx
 * @this LocalBuffer
 * @return {string}
 */
function inspect(recurseTimes, ctx) {
	// Mimic old behavior, could throw but didn't pass a test.
	const max = host.INSPECT_MAX_BYTES;
	const actualMax = Math.min(max, this.length);
	const remaining = this.length - max;
	let str = this.hexSlice(0, actualMax).replace(/(.{2})/g, '$1 ').trim();
	if (remaining > 0) str += \` ... \${remaining} more byte\${remaining > 1 ? 's' : ''}\`;
	return \`<\${this.constructor.name} \${str}>\`;
}

connect(inspect, host.Buffer.prototype.inspect);

connect(localFunction.prototype.bind, host.Function.prototype.bind);

connect(localObject.prototype.__defineGetter__, host.Object.prototype.__defineGetter__);
connect(localObject.prototype.__defineSetter__, host.Object.prototype.__defineSetter__);
connect(localObject.prototype.__lookupGetter__, host.Object.prototype.__lookupGetter__);
connect(localObject.prototype.__lookupSetter__, host.Object.prototype.__lookupSetter__);

/*
 * PrepareStackTrace sanitization
 */

const oldPrepareStackTraceDesc = localReflectGetOwnPropertyDescriptor(LocalError, 'prepareStackTrace');

let currentPrepareStackTrace = LocalError.prepareStackTrace;
const wrappedPrepareStackTrace = new LocalWeakMap();
if (typeof currentPrepareStackTrace === 'function') {
	wrappedPrepareStackTrace.set(currentPrepareStackTrace, currentPrepareStackTrace);
}

let OriginalCallSite;
LocalError.prepareStackTrace = (e, sst) => {
	OriginalCallSite = sst[0].constructor;
};
new LocalError().stack;
if (typeof OriginalCallSite === 'function') {
	LocalError.prepareStackTrace = undefined;

	function makeCallSiteGetters(list) {
		const callSiteGetters = [];
		for (let i=0; i<list.length; i++) {
			const name = list[i];
			const func = OriginalCallSite.prototype[name];
			callSiteGetters[i] = {__proto__: null,
				name,
				propName: '_' + name,
				func: (thiz) => {
					return localReflectApply(func, thiz, []);
				}
			};
		}
		return callSiteGetters;
	}

	function applyCallSiteGetters(thiz, callSite, getters) {
		for (let i=0; i<getters.length; i++) {
			const getter = getters[i];
			localReflectDefineProperty(thiz, getter.propName, {
				__proto__: null,
				value: getter.func(callSite)
			});
		}
	}

	const callSiteGetters = makeCallSiteGetters([
		'getTypeName',
		'getFunctionName',
		'getMethodName',
		'getFileName',
		'getLineNumber',
		'getColumnNumber',
		'getEvalOrigin',
		'isToplevel',
		'isEval',
		'isNative',
		'isConstructor',
		'isAsync',
		'isPromiseAll',
		'getPromiseIndex'
	]);

	class CallSite {
		constructor(callSite) {
			applyCallSiteGetters(this, callSite, callSiteGetters);
		}
		getThis() {
			return undefined;
		}
		getFunction() {
			return undefined;
		}
		toString() {
			return 'CallSite {}';
		}
	}


	for (let i=0; i<callSiteGetters.length; i++) {
		const name = callSiteGetters[i].name;
		const funcProp = localReflectGetOwnPropertyDescriptor(OriginalCallSite.prototype, name);
		if (!funcProp) continue;
		const propertyName = callSiteGetters[i].propName;
		const func = {func() {
			return this[propertyName];
		}}.func;
		const nameProp = localReflectGetOwnPropertyDescriptor(func, 'name');
		if (!nameProp) throw localUnexpected();
		nameProp.value = name;
		if (!localReflectDefineProperty(func, 'name', nameProp)) throw localUnexpected();
		funcProp.value = func;
		if (!localReflectDefineProperty(CallSite.prototype, name, funcProp)) throw localUnexpected();
	}

	if (!localReflectDefineProperty(LocalError, 'prepareStackTrace', {
		configurable: false,
		enumerable: false,
		get() {
			return currentPrepareStackTrace;
		},
		set(value) {
			if (typeof(value) !== 'function') {
				currentPrepareStackTrace = value;
				return;
			}
			const wrapped = localReflectApply(localWeakMapGet, wrappedPrepareStackTrace, [value]);
			if (wrapped) {
				currentPrepareStackTrace = wrapped;
				return;
			}
			const newWrapped = (error, sst) => {
				const sandboxSst = ensureThis(sst);
				if (localArrayIsArray(sst)) {
					if (sst === sandboxSst) {
						for (let i=0; i < sst.length; i++) {
							const cs = sst[i];
							if (typeof cs === 'object' && localReflectGetPrototypeOf(cs) === OriginalCallSite.prototype) {
								sst[i] = new CallSite(cs);
							}
						}
					} else {
						sst = [];
						for (let i=0; i < sandboxSst.length; i++) {
							const cs = sandboxSst[i];
							localReflectDefineProperty(sst, i, {
								__proto__: null,
								value: new CallSite(cs),
								enumerable: true,
								configurable: true,
								writable: true
							});
						}
					}
				} else {
					sst = sandboxSst;
				}
				return value(error, sst);
			};
			localReflectApply(localWeakMapSet, wrappedPrepareStackTrace, [value, newWrapped]);
			localReflectApply(localWeakMapSet, wrappedPrepareStackTrace, [newWrapped, newWrapped]);
			currentPrepareStackTrace = newWrapped;
		}
	})) throw localUnexpected();
} else if (oldPrepareStackTraceDesc) {
	localReflectDefineProperty(LocalError, 'prepareStackTrace', oldPrepareStackTraceDesc);
} else {
	localReflectDeleteProperty(LocalError, 'prepareStackTrace');
}

/*
 * Exception sanitization
 */

const withProxy = localObjectFreeze({
	__proto__: null,
	has(target, key) {
		if (key === host.INTERNAL_STATE_NAME) return false;
		return localReflectHas(target, key);
	}
});

const interanState = localObjectFreeze({
	__proto__: null,
	wrapWith(x) {
		if (x === null || x === undefined) return x;
		return new LocalProxy(localObject(x), withProxy);
	},
	handleException: ensureThis,
	import(what) {
		throw new VMError('Dynamic Import not supported');
	}
});

if (!localReflectDefineProperty(global, host.INTERNAL_STATE_NAME, {
	__proto__: null,
	configurable: false,
	enumerable: false,
	writable: false,
	value: interanState
})) throw localUnexpected();

/*
 * Eval sanitization
 */

function throwAsync() {
	return new VMError('Async not available');
}

function makeFunction(inputArgs, isAsync, isGenerator) {
	const lastArgs = inputArgs.length - 1;
	let code = lastArgs >= 0 ? \`\${inputArgs[lastArgs]}\` : '';
	let args = lastArgs > 0 ? \`\${inputArgs[0]}\` : '';
	for (let i = 1; i < lastArgs; i++) {
		args += \`,\${inputArgs[i]}\`;
	}
	try {
		code = host.transformAndCheck(args, code, isAsync, isGenerator, allowAsync);
	} catch (e) {
		throw bridge.from(e);
	}
	return localEval(code);
}

const FunctionHandler = {
	__proto__: null,
	apply(target, thiz, args) {
		return makeFunction(args, this.isAsync, this.isGenerator);
	},
	construct(target, args, newTarget) {
		return makeFunction(args, this.isAsync, this.isGenerator);
	}
};

const EvalHandler = {
	__proto__: null,
	apply(target, thiz, args) {
		if (args.length === 0) return undefined;
		let code = \`\${args[0]}\`;
		try {
			code = host.transformAndCheck(null, code, false, false, allowAsync);
		} catch (e) {
			throw bridge.from(e);
		}
		return localEval(code);
	}
};

const AsyncErrorHandler = {
	__proto__: null,
	apply(target, thiz, args) {
		throw throwAsync();
	},
	construct(target, args, newTarget) {
		throw throwAsync();
	}
};

function makeCheckFunction(isAsync, isGenerator) {
	if (isAsync && !allowAsync) return AsyncErrorHandler;
	return {
		__proto__: FunctionHandler,
		isAsync,
		isGenerator
	};
}

function overrideWithProxy(obj, prop, value, handler) {
	const proxy = new LocalProxy(value, handler);
	if (!localReflectDefineProperty(obj, prop, {__proto__: null, value: proxy})) throw localUnexpected();
	return proxy;
}

const proxiedFunction = overrideWithProxy(localFunction.prototype, 'constructor', localFunction, makeCheckFunction(false, false));
if (GeneratorFunction) {
	if (!localReflectSetPrototypeOf(GeneratorFunction, proxiedFunction)) throw localUnexpected();
	overrideWithProxy(GeneratorFunction.prototype, 'constructor', GeneratorFunction, makeCheckFunction(false, true));
}
if (AsyncFunction) {
	if (!localReflectSetPrototypeOf(AsyncFunction, proxiedFunction)) throw localUnexpected();
	overrideWithProxy(AsyncFunction.prototype, 'constructor', AsyncFunction, makeCheckFunction(true, false));
}
if (AsyncGeneratorFunction) {
	if (!localReflectSetPrototypeOf(AsyncGeneratorFunction, proxiedFunction)) throw localUnexpected();
	overrideWithProxy(AsyncGeneratorFunction.prototype, 'constructor', AsyncGeneratorFunction, makeCheckFunction(true, true));
}

function makeSafeHandlerArgs(args) {
	const sArgs = ensureThis(args);
	if (sArgs === args) return args;
	const a = [];
	for (let i=0; i < sArgs.length; i++) {
		localReflectDefineProperty(a, i, {
			__proto__: null,
			value: sArgs[i],
			enumerable: true,
			configurable: true,
			writable: true
		});
	}
	return a;
}

const makeSafeArgs = Object.freeze({
	__proto__: null,
	apply(target, thiz, args) {
		return localReflectApply(target, thiz, makeSafeHandlerArgs(args));
	},
	construct(target, args, newTarget) {
		return localReflectConstruct(target, makeSafeHandlerArgs(args), newTarget);
	}
});

const proxyHandlerHandler = Object.freeze({
	__proto__: null,
	get(target, name, receiver) {
		const value = target.handler[name];
		if (typeof value !== 'function') return value;
		return new LocalProxy(value, makeSafeArgs);
	}
});

function wrapProxyHandler(args) {
	if (args.length < 2) return args;
	const handler = args[1];
	args[1] = new LocalProxy({__proto__: null, handler}, proxyHandlerHandler);
	return args;
}

const proxyHandler = Object.freeze({
	__proto__: null,
	apply(target, thiz, args) {
		return localReflectApply(target, thiz, wrapProxyHandler(args));
	},
	construct(target, args, newTarget) {
		return localReflectConstruct(target, wrapProxyHandler(args), newTarget);
	}
});

const proxiedProxy = new LocalProxy(LocalProxy, proxyHandler);

overrideWithProxy(LocalProxy, 'revocable', LocalProxy.revocable, proxyHandler);

global.Proxy = proxiedProxy;
global.Function = proxiedFunction;
global.eval = new LocalProxy(localEval, EvalHandler);

/*
 * Promise sanitization
 */

if (localPromise) {

	const PromisePrototype = localPromise.prototype;

	if (!allowAsync) {

		overrideWithProxy(PromisePrototype, 'then', PromisePrototype.then, AsyncErrorHandler);
		// This seems not to work, and will produce
		// UnhandledPromiseRejectionWarning: TypeError: Method Promise.prototype.then called on incompatible receiver [object Object].
		// This is likely caused since the host.Promise.prototype.then cannot use the VM Proxy object.
		// Contextify.connect(host.Promise.prototype.then, Promise.prototype.then);

	} else {

		overrideWithProxy(PromisePrototype, 'then', PromisePrototype.then, {
			__proto__: null,
			apply(target, thiz, args) {
				if (args.length > 1) {
					const onRejected = args[1];
					if (typeof onRejected === 'function') {
						args[1] = function wrapper(error) {
							error = ensureThis(error);
							return localReflectApply(onRejected, this, [error]);
						};
					}
				}
				return localReflectApply(target, thiz, args);
			}
		});

	}

}

function readonly(other, mock) {
	// Note: other@other(unsafe) mock@other(unsafe) returns@this(unsafe) throws@this(unsafe)
	if (!mock) return fromWithFactory(readonlyFactory, other);
	const tmock = from(mock);
	return fromWithFactory(obj=>new ReadOnlyMockHandler(obj, tmock), other);
}

return {
	__proto__: null,
	readonly,
	global
};

})`),wZ=fl("get_global.js","this"),Ww=null,Gw=null,Jw=null;try{Ww=fl("get_generator_function.js","(function*(){}).constructor")}catch{}try{Gw=fl("get_async_function.js","(async function(){}).constructor")}catch{}try{Jw=fl("get_async_generator_function.js","(async function*(){}).constructor")}catch{}var Kw=class extends uZ{constructor(e={}){super();let{timeout:r,sandbox:n,compiler:i="javascript",allowAsync:s=!0}=e,o=e.eval!==!1,a=e.wasm!==!1,u=s&&!e.fixAsync;if(n&&typeof n!="object")throw new Ym("Sandbox must be object.");let f=hZ(i),c=rL(void 0,{__proto__:null,codeGeneration:{__proto__:null,strings:o,wasm:a}}),d=wZ.runInContext(c,Da),{createBridge:p}=EZ.runInContext(c,Da)(d),l=cZ(p,()=>{}),h={__proto__:null,allowAsync:u};Ww&&(h.GeneratorFunction=Ww.runInContext(c,Da)),Gw&&(h.AsyncFunction=Gw.runInContext(c,Da)),Jw&&(h.AsyncGeneratorFunction=Jw.runInContext(c,Da));let y=bZ.runInContext(c,Da)(d,gZ,l.other,h,c),g=S=>{let F;try{F=S.runInContext(c,Da)}catch(P){throw l.from(P)}return l.from(F)},v=(S,F)=>{try{y.readonly(S,F)}catch(P){throw l.from(P)}return S},b=S=>{let F=l.other;try{F.fromWithFactory(F.protectedFactory,S)}catch(P){throw l.from(P)}return S},x=(S,F)=>{let P=l.other,V;try{V=P.from(F),P.addProtoMapping(V,S)}catch(H){throw l.from(H)}l.addProtoMapping(S,V)},E=(S,F)=>{let P=l.other,V=()=>{let H=F(this);return l.addProtoMapping(S,H),H};try{let H=P.from(V);P.addProtoMappingFactory(H,S)}catch(H){throw l.from(H)}};mZ(this,{__proto__:null,timeout:{__proto__:null,value:r,writable:!0,enumerable:!0},compiler:{__proto__:null,value:i,enumerable:!0},sandbox:{__proto__:null,value:l.from(d),enumerable:!0},_runScript:{__proto__:null,value:g},_makeReadonly:{__proto__:null,value:v},_makeProtected:{__proto__:null,value:b},_addProtoMapping:{__proto__:null,value:x},_addProtoMappingFactory:{__proto__:null,value:E},_compiler:{__proto__:null,value:f},_allowAsync:{__proto__:null,value:u}}),this.readonly(pZ),n&&this.setGlobals(n)}setGlobals(e){for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this.sandbox[r]=e[r]);return this}setGlobal(e,r){return this.sandbox[e]=r,this}getGlobal(e){return this.sandbox[e]}freeze(e,r){return this.readonly(e),r&&(this.sandbox[r]=e),e}readonly(e,r){return this._makeReadonly(e,r)}protect(e,r){return this._makeProtected(e),r&&(this.sandbox[r]=e),e}run(e,r){let n,i;if(typeof r=="object"?i=r.filename:i=r,e instanceof dZ)n=e._compileVM(),zw(this._allowAsync||!e._hasAsync);else{let s=i||"vm.js",o=this._compiler(e,s),a=nL(null,o,!1,!1,s);o=a.code,zw(this._allowAsync||!a.hasAsync),n=new Xw(o,{__proto__:null,filename:s,displayErrors:!1})}return this.timeout?vZ(()=>this._runScript(n),this.timeout):this._runScript(n)}runFile(e){let r=aZ.resolve(e);if(!Hw.existsSync(r))throw new Ym(`Script '${e}' not found.`);if(Hw.statSync(r).isDirectory())throw new Ym("Script must be file, got directory.");return this.run(Hw.readFileSync(r,"utf8"),r)}};iL.VM=Kw});var eg=M(Qw=>{"use strict";var{VMError:pt}=Sa(),{VMScript:xZ}=cl(),{jsCopmiler:CZ}=Df(),SZ=/^((?:@[^/\\%]+\/)?[^/\\%]+)(\/.*)?$/;function DZ(t){let e=+t;return`${e}`!==t?!1:e>=0&&e<4294967295}var Qm=class{constructor(e,r,n){this.fs=e,this.globalPaths=r,this.builtins=n}init(e){}isPathAllowed(e){return!1}checkAccess(e,r){if(!this.isPathAllowed(r))throw new pt(`Module '${r}' is not allowed to be required. The path is outside the border!`,"EDENIED")}pathIsRelative(e){if(e===""||e[0]!==".")return!1;if(e.length===1)return!0;let r=e[1]==="."?2:1;return e.length<=r?!1:this.fs.isSeparator(e[r])}pathIsAbsolute(e){return e!==""&&(this.fs.isSeparator(e[0])||this.fs.isAbsolute(e))}lookupPaths(e,r){return this.pathIsRelative(r)?[e.path||"."]:[...e.paths,...this.globalPaths]}getBuiltinModulesList(e){if(this.builtins===void 0)return[];let r=[];return this.builtins.forEach((n,i)=>{typeof n=="object"&&n.init(e),r.push(i)}),r}loadBuiltinModule(e,r){if(this.builtins===void 0)return;let n=this.builtins.get(r);if(n)return typeof n=="function"?n(e):n.load(e)}makeExtensionHandler(e,r){return(n,i)=>{i=this.fs.resolve(i),this.checkAccess(n,i),this[r](e,n,i)}}getExtensions(e){return{__proto__:null,".js":this.makeExtensionHandler(e,"loadJS"),".json":this.makeExtensionHandler(e,"loadJSON")," .node":this.makeExtensionHandler(e,"loadNode")}}loadJS(e,r,n){throw new pt(`Access denied to require '${n}'`,"EDENIED")}loadJSON(e,r,n){throw new pt(`Access denied to require '${n}'`,"EDENIED")}loadNode(e,r,n){throw new pt(`Access denied to require '${n}'`,"EDENIED")}registerModule(e,r,n,i,s){}resolve(e,r,n,i,s){return r.startsWith("node:")||this.builtins.has(r)?r:this.resolveFull(e,r,n,i,s)}resolveFull(e,r,n,i,s){throw new pt(`Cannot find module '${r}'`,"ENOTFOUND")}genLookupPaths(e){let r=[];for(;;){this.fs.basename(e)!=="node_modules"&&r.push(this.fs.join(e,"node_modules"));let i=this.fs.dirname(e);if(i==e)break;e=i}return r}};function AZ(t,e){try{let r=t.statSync(e,{__proto__:null,throwIfNoEntry:!1});return r&&r.isDirectory()}catch{return!1}}function sL(t,e){try{let r=t.statSync(e,{__proto__:null,throwIfNoEntry:!1});return r&&r.isFile()}catch{return!1}}function Yw(t,e){return t.readFileSync(e,{encoding:"utf8"})}function FZ(t,e){return sL(t,e)?Yw(t,e):void 0}var Zw=class extends Qm{constructor(e,r,n){super(e,r,n),this.packageCache=new Map,this.scriptCache=new Map}getCompiler(e){return CZ}isStrict(e){return!0}readScript(e){let r=this.scriptCache.get(e);return r||(r=new xZ(Yw(this.fs,e),{filename:e,compiler:this.getCompiler(e)}),this.scriptCache.set(e,r)),r}loadJS(e,r,n){let i=this.readScript(n);e.run(i,{filename:n,strict:this.isStrict(n),module:r,wrapper:"none",dirname:r.path})}loadJSON(e,r,n){let i=Yw(this.fs,n);r.exports=e._jsonParse(i)}loadNode(e,r,n){throw new pt("Native modules can be required only with context set to 'host'.")}customResolve(e,r,n){}resolveFull(e,r,n,i,s){let o=e.path||".",a=this.loadPackageSelf(r,o,i);if(a||r[0]==="#"&&(a=this.loadPackageImports(r,o,i),a))return a;if(this.pathIsAbsolute(r)){if(a=this.loadAsFileOrDirectory(r,i),a)return a;throw new pt(`Cannot find module '${r}'`,"ENOTFOUND")}else if(this.pathIsRelative(r)){if(typeof n=="object"&&n!==null){let f=n.paths;if(Array.isArray(f)){for(let c=0;c<f.length;c++)if(a=this.loadAsFileOrDirectory(this.fs.join(f[c],r),i),a)return a}else if(f===void 0){if(a=this.loadAsFileOrDirectory(this.fs.join(o,r),i),a)return a}else throw new pt("Invalid options.paths option.")}else if(a=this.loadAsFileOrDirectory(this.fs.join(o,r),i),a)return a;throw new pt(`Cannot find module '${r}'`,"ENOTFOUND")}let u;if(typeof n=="object"&&n!==null){let f=n.paths;if(Array.isArray(f)){u=[];for(let c=0;c<f.length;c++){let d=this.genLookupPaths(f[c]);for(let p=0;p<d.length;p++)u.includes(d[p])||u.push(d[p]);if(c===0){let p=this.globalPaths;for(let l=0;l<p.length;l++)u.includes(p[l])||u.push(p[l])}}}else if(f===void 0)u=[...e.paths,...this.globalPaths];else throw new pt("Invalid options.paths option.")}else u=[...e.paths,...this.globalPaths];return a=this.loadNodeModules(r,u,i),a||(a=this.customResolve(r,o,i),a)?a:super.resolveFull(e,r,n,i,s)}loadAsFileOrDirectory(e,r){let n=this.loadAsFile(e,r);return n||this.loadAsDirectory(e,r)}tryFile(e){return e=this.fs.resolve(e),this.isPathAllowed(e)&&sL(this.fs,e)?e:void 0}tryWithExtension(e,r){for(let n=0;n<r.length;n++){let i=r[n];if(i!==this.fs.basename(i))continue;let s=this.tryFile(e+i);if(s)return s}}readPackage(e){let r=this.fs.resolve(this.fs.join(e,"package.json")),n=this.packageCache.get(r);if(n!==void 0)return n;if(!this.isPathAllowed(r))return;let i=FZ(this.fs,r);if(!i)return this.packageCache.set(r,!1),!1;let s;try{s=JSON.parse(i)}catch(a){throw a.path=r,a.message="Error parsing "+r+": "+a.message,a}let o={name:s.name,main:s.main,exports:s.exports,imports:s.imports,type:s.type};return this.packageCache.set(r,o),o}readPackageScope(e){for(;;){let r=this.fs.dirname(e);if(r===e||this.fs.basename(r)==="node_modules")break;let i=this.readPackage(r);if(i)return{data:i,scope:r};e=r}return{data:void 0,scope:void 0}}loadAsFile(e,r){let n=this.tryFile(e);return n||this.tryWithExtension(e,r)}loadIndex(e,r){return this.tryWithExtension(this.fs.join(e,"index"),r)}loadAsPackage(e,r,n){if(r&&typeof r.main=="string"){let i=this.fs.join(e,r.main),s=this.loadAsFile(i,n);if(s||(s=this.loadIndex(i,n),s)||(s=this.loadIndex(e,n),s))return s;throw new pt(`Cannot find module '${e}'`,"ENOTFOUND")}return this.loadIndex(e,n)}loadAsDirectory(e,r){let n=this.readPackage(e);return this.loadAsPackage(e,n,r)}loadNodeModules(e,r,n){for(let i=0;i<r.length;i++){let s=r[i],o=this.loadPackageExports(e,s,n);if(o||(o=this.loadAsFile(s+"/"+e,n),o)||(o=this.loadAsDirectory(s+"/"+e,n),o))return o}}loadPackageImports(e,r,n){let{data:i,scope:s}=this.readPackageScope(r);if(!i||typeof i.imports!="object"||i.imports===null||Array.isArray(i.imports))return;if(e==="#"||e.startsWith("#/"))throw new pt(`Invalid module specifier '${e}'`,"ERR_INVALID_MODULE_SPECIFIER");let o=this.packageImportsExportsResolve(e,i.imports,s,!0,["node","require"],n);if(!o)throw new pt(`Package import not defined for '${e}'`,"ERR_PACKAGE_IMPORT_NOT_DEFINED");return this.resolveEsmMatch(o,e,n)}loadPackageExports(e,r,n){let i=e.match(SZ);if(!i)return;let s=this.fs.join(r,i[1]),o=this.readPackage(s);if(!o||!o.exports)return;let a=this.packageExportsResolve(s,"."+(i[2]||""),o.exports,["node","require"],n);return this.resolveEsmMatch(a,e,n)}loadPackageSelf(e,r,n){let{data:i,scope:s}=this.readPackageScope(r);if(!i||!i.exports||e!==i.name&&!e.startsWith(i.name+"/"))return;let o=this.packageExportsResolve(s,"."+e.slice(i.name.length),i.exports,["node","require"],n);return this.resolveEsmMatch(o,e,n)}resolveEsmMatch(e,r,n){let i=e,s=!0,o=i,a;if(s?a=this.tryFile(o):a=this.loadAsFileOrDirectory(o,n),a)return a;throw new pt(`Cannot find module '${r}'`,"ENOTFOUND")}packageExportsResolve(e,r,n,i,s){let o=!1;if(typeof n=="object"&&!Array.isArray(n)){let a=Object.getOwnPropertyNames(n);if(a.length>0){o=a[0][0]===".";for(let u=0;u<a.length;u++)if(o!==(a[u][0]==="."))throw new pt("Invalid package configuration","ERR_INVALID_PACKAGE_CONFIGURATION")}}if(r==="."){let a;if(typeof n=="string"||Array.isArray(n)||!o?a=n:o&&(a=n["."]),a){let u=this.packageTargetResolve(e,a,"",!1,!1,i,s);if(u)return u}}else if(o){let a=this.packageImportsExportsResolve(r,n,e,!1,i,s);if(a)return a}throw new pt(`Package path '${r}' is not exported`,"ERR_PACKAGE_PATH_NOT_EXPORTED")}packageImportsExportsResolve(e,r,n,i,s,o){let a=r[e];if(a&&e.indexOf("*")===-1)return this.packageTargetResolve(n,a,"",!1,i,s,o);let u=Object.getOwnPropertyNames(r),f="",c;for(let d=0;d<u.length;d++){let p=u[d];if(e.length<p.length)continue;let l=p.indexOf("*");if(l===-1)continue;let h=p.slice(0,l);if(e.startsWith(h)&&p.indexOf("*",l+1)===-1){let y=p.slice(l+1);e.endsWith(y)&&this.patternKeyCompare(f,p)===1&&(a=r[p],f=p,c=e.slice(h.length,e.length-y.length))}}return c?this.packageTargetResolve(n,a,c,!0,i,s,o):null}patternKeyCompare(e,r){let n=e.indexOf("*"),i=n===-1?e.length:n+1,s=r.indexOf("*"),o=s===-1?r.length:s+1;return i>o?-1:o>i||n===-1?1:s===-1||e.length>r.length?-1:r.length>e.length?1:0}packageTargetResolve(e,r,n,i,s,o,a){if(typeof r=="string"){if(!i&&n.length>0&&!r.endsWith("/"))throw new pt(`Invalid package specifier '${n}'`,"ERR_INVALID_MODULE_SPECIFIER");if(!r.startsWith("./")){if(s&&!r.startsWith("../")&&!r.startsWith("/")){let f=!1;try{new URL(r),f=!0}catch{}if(!f)return i?this.packageResolve(r.replace(/\*/g,n),e,o,a):this.packageResolve(this.fs.join(r,n),e,o,a)}throw new pt(`Invalid package target for '${n}'`,"ERR_INVALID_PACKAGE_TARGET")}if(r=decodeURI(r),r.split(/[/\\]/).slice(1).findIndex(f=>f==="."||f===".."||f.toLowerCase()==="node_modules")!==-1)throw new pt(`Invalid package target for '${n}'`,"ERR_INVALID_PACKAGE_TARGET");let u=this.fs.join(e,r);if(n=decodeURI(n),n.split(/[/\\]/).findIndex(f=>f==="."||f===".."||f.toLowerCase()==="node_modules")!==-1)throw new pt(`Invalid package specifier '${n}'`,"ERR_INVALID_MODULE_SPECIFIER");return i?u.replace(/\*/g,n):this.fs.join(u,n)}else if(Array.isArray(r)){if(r.length===0)return null;let u;for(let f=0;f<r.length;f++){let c=r[f],d;try{d=this.packageTargetResolve(e,c,n,i,s,o,a)}catch(p){if(p.code!=="ERR_INVALID_PACKAGE_TARGET")throw p;u=p;continue}if(d!==void 0)return d;d===null&&(u=null)}if(u==null)return u;throw u}else if(typeof r=="object"&&r!==null){let u=Object.getOwnPropertyNames(r);for(let f=0;f<u.length;f++){let c=u[f];if(DZ(c))throw new pt(`Invalid package configuration for '${n}'`,"ERR_INVALID_PACKAGE_CONFIGURATION")}for(let f=0;f<u.length;f++){let c=u[f];if(c==="default"||o.includes(c)){let d=r[c],p=this.packageTargetResolve(e,d,n,i,s,o,a);if(p!==void 0)return p}}return}else if(r==null)return null;throw new pt(`Invalid package target for '${n}'`,"ERR_INVALID_PACKAGE_TARGET")}packageResolve(e,r,n,i){let s;if(e==="")throw new pt(`Invalid package specifier '${e}'`,"ERR_INVALID_MODULE_SPECIFIER");if(this.builtins.has(e))return"node:"+e;let o=e.indexOf("/");if(e[0]==="@"){if(o===-1)throw new pt(`Invalid package specifier '${e}'`,"ERR_INVALID_MODULE_SPECIFIER");o=e.indexOf("/",o+1)}if(s=o===-1?e:e.slice(0,o),o!==0&&(s[0]==="."||s.indexOf("\\")>=0||s.indexOf("%")>=0))throw new pt(`Invalid package specifier '${e}'`,"ERR_INVALID_MODULE_SPECIFIER");let a="."+e.slice(s.length);if(a[a.length-1]==="/")throw new pt(`Invalid package specifier '${e}'`,"ERR_INVALID_MODULE_SPECIFIER");let u=this.packageSelfResolve(s,a,r);if(u)return u;let f;for(;;){f=this.fs.resolve(this.fs.join(r,"node_modules",e));let d=this.fs.dirname(r);if(this.isPathAllowed(f)&&AZ(this.fs,f))break;if(d===r)throw new pt(`Cannot find module '${e}'`,"ENOTFOUND");r=d}let c=this.readPackage(f);return c&&c.exports?this.packageExportsResolve(f,a,c.exports,n,i):a==="."?this.loadAsPackage(a,c,i):this.fs.join(f,a)}};Qw.Resolver=Qm;Qw.DefaultResolver=Zw});var ix=M(nx=>{"use strict";var Aa=require("path"),ex=require("fs"),tx=class{resolve(e){return Aa.resolve(e)}isSeparator(e){return e==="/"||e===Aa.sep}isAbsolute(e){return Aa.isAbsolute(e)}join(...e){return Aa.join(...e)}basename(e){return Aa.basename(e)}dirname(e){return Aa.dirname(e)}statSync(e,r){return ex.statSync(e,r)}readFileSync(e,r){return ex.readFileSync(e,r)}},rx=class{constructor({fs:e=ex,path:r=Aa}={}){this.fs=e,this.path=r}resolve(e){return this.path.resolve(e)}isSeparator(e){return e==="/"||e===this.path.sep}isAbsolute(e){return this.path.isAbsolute(e)}join(...e){return this.path.join(...e)}basename(e){return this.path.basename(e)}dirname(e){return this.path.dirname(e)}statSync(e,r){return this.fs.statSync(e,r)}readFileSync(e,r){return this.fs.readFileSync(e,r)}};nx.DefaultFileSystem=tx;nx.VMFileSystem=rx});var uL=M(lx=>{var _Z=require("fs"),kZ=require("module"),{EventEmitter:dl}=require("events"),IZ=require("util"),{VMScript:ux}=cl(),{VM:PZ}=Zm(),oL=new WeakMap;function TZ(t){return oL.get(t)}var sx;function OZ(t){return sx||(sx=new ux("return buffer=>({Buffer: buffer});",{__proto__:null,filename:"buffer.js"})),t.run(sx,{__proto__:null,strict:!0,wrapper:"none"})(Buffer)}var ox;function RZ(t){ox||(ox=new ux(`return function inherits(ctor, superCtor) {
			ctor.super_ = superCtor;
			Object.setPrototypeOf(ctor.prototype, superCtor.prototype);
		}`,{__proto__:null,filename:"util.js"}));let e=t.run(ox,{__proto__:null,strict:!0,wrapper:"none"}),r=Object.assign({},IZ);return r.inherits=e,t.readonly(r)}var hl=(kZ.builtinModules||Object.getOwnPropertyNames(process.binding("natives"))).filter(t=>!t.startsWith("internal/")),aL=null;if(dl.EventEmitterAsyncResource){let{AsyncResource:t}=require("async_hooks"),e=Symbol("kEventEmitter");class r extends t{constructor(i,s,o){super(s,o),this[e]=i}get eventEmitter(){return this[e]}}aL=r}var ax,BZ={events:{init(t){if(!ax){let n=_Z.readFileSync(`${__dirname}/events.js`,"utf8");ax=new ux(`(function (fromhost) { const module = {}; module.exports={};{ ${n}
	} return module.exports;})`,{filename:"events.js"})}let r=PZ.prototype.run.call(t,ax)(t.readonly({kErrorMonitor:dl.errorMonitor,once:dl.once,on:dl.on,getEventListeners:dl.getEventListeners,EventEmitterReferencingAsyncResource:aL}));oL.set(t,r),t._addProtoMapping(dl.prototype,r.EventEmitter.prototype)},load:TZ},buffer:OZ,util:RZ};function tg(t,e,r){if(t.has(e))return;let n=BZ[e];t.set(e,n||(i=>i.readonly(r(e))))}function LZ(t,e,r,n){let i=new Map;if(r){let s=Object.getOwnPropertyNames(r);for(let o=0;o<s.length;o++){let a=s[o];i.set(a,u=>u.readonly(r[a]))}}if(n){let s=Object.getOwnPropertyNames(n);for(let o=0;o<s.length;o++){let a=s[o];i.set(a,n[a])}}if(Array.isArray(t))if(t.indexOf("*")>=0)for(let o=0;o<hl.length;o++){let a=hl[o];t.indexOf(`-${a}`)===-1&&tg(i,a,e)}else for(let o=0;o<hl.length;o++){let a=hl[o];t.indexOf(a)!==-1&&tg(i,a,e)}else if(t)for(let s=0;s<hl.length;s++){let o=hl[s];t[o]&&tg(i,o,e)}return i}function NZ(t,e){let r=new Map;for(let n=0;n<t.length;n++){let i=t[n];tg(r,i,e)}return r}lx.makeBuiltinsFromLegacyOptions=LZ;lx.makeBuiltins=NZ});var px=M(hL=>{"use strict";var{Resolver:cx,DefaultResolver:MZ}=eg(),{VMError:jZ}=Sa(),{DefaultFileSystem:$Z}=ix(),{makeBuiltinsFromLegacyOptions:lL}=uL(),{jsCompiler:UZ}=Df();function cL(t){return require(t)}function fx(t){return t.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function fL(t){return fx(t).replace(/\\\\|\//g,"[\\\\/]").replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^\\\\/]*").replace(/\\\?/g,"[^\\\\/]")}function qZ(t){let e=fL(t);return new RegExp(`[\\\\/]node_modules[\\\\/]${e}(?:[\\\\/](?!(?:.*[\\\\/])?node_modules[\\\\/]).*)?$`)}var rg=class extends MZ{constructor(e,r,n,i,s,o,a,u,f){super(e,r,n),this.rootPaths=i,this.pathContext=s,this.customResolver=o,this.hostRequire=a,this.compiler=u,this.strict=f}isPathAllowed(e){return this.rootPaths===void 0||this.rootPaths.some(r=>{if(!e.startsWith(r))return!1;let n=r.length;return e.length===n||n>0&&this.fs.isSeparator(r[n-1])?!0:this.fs.isSeparator(e[n])})}loadJS(e,r,n){if(this.pathContext(n,"js")!=="host")return super.loadJS(e,r,n);let i=this.hostRequire(n);r.exports=e.readonly(i)}loadNode(e,r,n){if(this.pathContext(n,"node")!=="host")return super.loadNode(e,r,n);let i=this.hostRequire(n);r.exports=e.readonly(i)}customResolve(e,r,n){if(this.customResolver===void 0)return;let i=this.customResolver(e,r);if(!i)return;if(typeof i=="string")return this.loadAsFileOrDirectory(i,n);let{module:s=e,path:o}=i;return this.loadNodeModules(s,[o],n)}getCompiler(e){return this.compiler}isStrict(e){return this.strict}},hx=class extends rg{constructor(e,r,n,i,s,o,a,u,f,c,d){super(e,r,n,i,s,o,a,u,f),this.externals=c.map(qZ),this.externalCache=c.map(p=>new RegExp(fL(p))),this.currMod=void 0,this.trustedMods=new WeakMap,this.allowTransitive=d}isPathAllowed(e){return this.isPathAllowedForModule(e,this.currMod)}isPathAllowedForModule(e,r){if(!super.isPathAllowed(e))return!1;if(r){if(r.allowTransitive)return!0;if(e.startsWith(r.path)){let n=e.slice(r.path.length);if(!/(?:^|[\\\\/])node_modules(?:$|[\\\\/])/.test(n))return!0}}return this.externals.some(n=>n.test(e))}registerModule(e,r,n,i,s){let o=this.trustedMods.get(i);this.trustedMods.set(e,{filename:r,path:n,paths:this.genLookupPaths(n),allowTransitive:this.allowTransitive&&(s&&o&&o.allowTransitive||this.externals.some(a=>a.test(r)))})}resolveFull(e,r,n,i,s){if(this.currMod=void 0,!s)return super.resolveFull(e,r,n,i,!1);let o=this.trustedMods.get(e);if(!o||e.path!==o.path)return super.resolveFull(e,r,n,i,!1);let a=[...e.paths];if(a.length!==o.paths.length)return super.resolveFull(e,r,n,i,!1);for(let u=0;u<a.length;u++)if(a[u]!==o.paths[u])return super.resolveFull(e,r,n,i,!1);try{return this.currMod=o,super.resolveFull(o,r,n,i,!0)}finally{this.currMod=void 0}}checkAccess(e,r){let n=this.trustedMods.get(e);if((!n||n.filename!==r)&&!this.isPathAllowedForModule(r,void 0))throw new jZ(`Module '${r}' is not allowed to be required. The path is outside the border!`,"EDENIED")}loadJS(e,r,n){if(this.pathContext(n,"js")!=="host"){let i=this.trustedMods.get(r),s=this.readScript(n);e.run(s,{filename:n,strict:this.isStrict(n),module:r,wrapper:"none",dirname:i?i.path:r.path})}else{let i=this.hostRequire(n);r.exports=e.readonly(i)}}customResolve(e,r,n){if(this.customResolver===void 0||!(this.pathIsAbsolute(e)||this.pathIsRelative(e))&&!this.externalCache.some(a=>a.test(e)))return;let i=this.customResolver(e,r);if(!i)return;if(typeof i=="string")return this.externals.push(new RegExp("^"+fx(i))),this.loadAsFileOrDirectory(i,n);let{module:s=e,path:o}=i;return this.externals.push(new RegExp("^"+fx(o))),this.loadNodeModules(s,[o],n)}},dx=new $Z,VZ=new cx(dx,[],new Map);function HZ(t,e,r){if(!t){if(!e)return VZ;let v=lL(void 0,cL,void 0,e);return new cx(dx,[],v)}let{builtin:n,mock:i,external:s,root:o,resolve:a,customRequire:u=cL,context:f="host",strict:c=!0,fs:d=dx}=t,p=lL(n,u,i,e);if(!s)return new cx(d,[],p);r||(r=UZ);let l=o?(Array.isArray(o)?o:[o]).map(v=>d.resolve(v)):void 0,h=typeof f=="function"?f:()=>f;if(typeof s!="object")return new rg(d,[],p,l,h,a,u,r,c);let y=!1,g;return Array.isArray(s)?g=s:(g=s.modules,y=f!=="host"&&s.transitive),new hx(d,[],p,l,h,a,u,r,c,g,y)}hL.makeResolverFromLegacyOptions=HZ});var bL=M(EL=>{"use strict";var ng=require("fs"),dL=require("path"),{Script:gL}=require("vm"),{VMError:pl}=Sa(),{VMScript:zZ,MODULE_PREFIX:WZ,STRICT_MODULE_PREFIX:GZ,MODULE_SUFFIX:JZ}=cl(),{transformer:KZ}=Xm(),{VM:yL}=Zm(),{makeResolverFromLegacyOptions:XZ}=px(),{Resolver:YZ}=eg(),pL=Object.defineProperty,ZZ=Object.defineProperties,mL=Object.freeze({__proto__:null,version:parseInt(process.versions.node.split(".")[0]),process,console,setTimeout,setInterval,setImmediate,clearTimeout,clearInterval,clearImmediate});function vL(t,e){return new gL(e,{__proto__:null,filename:t,displayErrors:!1})}var mx=null,gx=null,QZ=Object.freeze({__proto__:null,vm2:nQ});function eQ(t,e,r){let n={__proto__:null},i=e.makeExtensionHandler(t,"loadJS");for(let s=0;s<r.length;s++)n["."+r[s]]=i;return n[".json"]||(n[".json"]=e.makeExtensionHandler(t,"loadJSON")),n[".node"]||(n[".node"]=e.makeExtensionHandler(t,"loadNode")),n}function tQ(t){if(t===void 0)return;if(!Array.isArray(t))return!0;let e=[...t];return e.some(r=>typeof r!="string")?!0:e}function rQ(t){return t===void 0||t==null||typeof t!="object"&&typeof t!="function"?t:{unsafeOptions:t,paths:tQ(t.paths)}}var Fa=class extends yL{constructor(e={}){let{compiler:r,eval:n,wasm:i,console:s="inherit",require:o=!1,nesting:a=!1,wrapper:u="commonjs",sourceExtensions:f=["js"],argv:c,env:d,strict:p=!1,sandbox:l}=e;if(l&&typeof l!="object")throw new pl("Sandbox must be an object.");super({__proto__:null,compiler:r,eval:n,wasm:i});let h=o instanceof YZ,y=h?o:XZ(o,a&&QZ,this._compiler);pL(this,"options",{__proto__:null,value:{console:s,require:o,nesting:a,wrapper:u,sourceExtensions:f,strict:p}}),pL(this,"resolver",{__proto__:null,value:y,enumerable:!0}),mx||(mx=vL(`${__dirname}/setup-node-sandbox.js`,`(function (host, data) { ${ng.readFileSync(`${__dirname}/setup-node-sandbox.js`,"utf8")}
})`));let g=this._runScript(mx),v=eQ(this,y,f);this.readonly(mL);let{Module:b,jsonParse:x,createRequireForModule:E,requireImpl:S}=g(mL,{__proto__:null,argv:c,env:d,console:s,extensions:v,emitArgs:(F,P)=>{if(typeof F!="string"&&typeof F!="symbol")throw new Error("Event is not a string");return this.emit(F,...P)},globalPaths:[...y.globalPaths],getLookupPathsFor:F=>typeof F!="string"?[]:[...y.genLookupPaths(F)],resolve:(F,P,V,H,j)=>{if(typeof P!="string")throw new Error("Id is not a string");let R=Object.getOwnPropertyNames(H);return y.resolve(F,P,rQ(V),R,!!j)},lookupPaths:(F,P)=>{if(typeof P!="string")throw new Error("Id is not a string");return[...y.lookupPaths(F,P)]},loadBuiltinModule:F=>{if(typeof F!="string")throw new Error("Id is not a string");return y.loadBuiltinModule(this,F)},registerModule:(F,P,V,H,j)=>y.registerModule(F,P,V,H,j),builtinModules:[...y.getBuiltinModulesList(this)],dirname:F=>typeof F!="string"?F:y.fs.dirname(F),basename:F=>typeof F!="string"?F:y.fs.basename(F)});if(ZZ(this,{__proto__:null,_Module:{__proto__:null,value:b},_jsonParse:{__proto__:null,value:x},_createRequireForModule:{__proto__:null,value:E},_requireImpl:{__proto__:null,value:S},_cacheRequireModule:{__proto__:null,value:null,writable:!0}}),y.init(this),l&&this.setGlobals(l),!h&&o&&o.import)if(Array.isArray(o.import))for(let F=0,P=o.import.length;F<P;F++)this.require(o.import[F]);else this.require(o.import)}get _resolver(){return this.resolver}call(e,...r){if(typeof e=="function")return e(...r);throw new pl("Unrecognized method type.")}require(e){let r=this.resolver.fs.resolve("."),n=this._cacheRequireModule;if(!n||n.path!==r){let i=this.resolver.fs.join(r,"/vm.js");n=new this._Module(i,r),this.resolver.registerModule(n,i,r,null,!1),this._cacheRequireModule=n}return this._requireImpl(n,e,!0)}run(e,r){let n,i;typeof r=="object"?i=r.filename:(i=r,r={__proto__:null});let{strict:s=this.options.strict,wrapper:o=this.options.wrapper,module:a,require:u,dirname:f=null}=r,c=a,d=f;if(e instanceof zZ){if(n=s?e._compileNodeVMStrict():e._compileNodeVM(),!c){let y=this.resolver.fs.resolve(e.filename);d=this.resolver.fs.dirname(y),c=new this._Module(y,d),this.resolver.registerModule(c,y,d,null,!1)}}else{let y=i||"vm.js";if(!c)if(i){let b=this.resolver.fs.resolve(i);d=this.resolver.fs.dirname(b),c=new this._Module(b,d),this.resolver.registerModule(c,b,d,null,!1)}else c=new this._Module(null,null),c.id=y;let g=s?GZ:WZ,v=this._compiler(e,y);v=KZ(null,v,!1,!1,y).code,n=new gL(g+v+JZ,{__proto__:null,filename:y,displayErrors:!1})}let p=this._runScript(n),l=u||this._createRequireForModule(c),h=Reflect.apply(p,this.sandbox,[c.exports,l,c,i,d]);return o==="commonjs"?c.exports:h}static code(e,r,n){let i;if(r!=null)if(typeof r=="object")n=r,i=n.filename;else if(typeof r=="string")i=r;else throw new pl("Invalid arguments.");else typeof n=="object"&&(i=n.filename);if(arguments.length>3)throw new pl("Invalid number of arguments.");let s=typeof i=="string"?dL.resolve(i):void 0;return new Fa(n).run(e,s)}static file(e,r){let n=dL.resolve(e);if(!ng.existsSync(n))throw new pl(`Script '${e}' not found.`);if(ng.statSync(n).isDirectory())throw new pl("Script must be file, got directory.");return new Fa(r).run(ng.readFileSync(n,"utf8"),n)}};function nQ(t){return gx||(gx=vL("nesting.js","(vm, nodevm) => ({VM: vm, NodeVM: nodevm})")),t._runScript(gx)(t.readonly(yL),t.readonly(Fa))}EL.NodeVM=Fa});var wL=M(fo=>{"use strict";var{VMError:iQ}=Sa(),{VMScript:sQ}=cl(),{VM:oQ}=Zm(),{NodeVM:aQ}=bL(),{VMFileSystem:uQ}=ix(),{Resolver:lQ}=eg(),{makeResolverFromLegacyOptions:cQ}=px();fo.VMError=iQ;fo.VMScript=sQ;fo.NodeVM=aQ;fo.VM=oQ;fo.VMFileSystem=uQ;fo.Resolver=lQ;fo.makeResolverFromLegacyOptions=cQ});var CL=M((Tfe,xL)=>{if(parseInt(process.versions.node.split(".")[0])<6)throw new Error("vm2 requires Node.js version 6 or newer.");xL.exports=wL()});var FL=M(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.compile=gl.degenerator=void 0;var fQ=require("util"),hQ=K2(),dQ=X2(),Ur=jB(),SL=CL();function AL(t,e){if(!Array.isArray(e))throw new TypeError('an array of async function "names" is required');let r=e.slice(0),n=(0,dQ.parseScript)(t),i=0;do i=r.length,(0,Ur.visit)(n,{visitVariableDeclaration(s){if(s.node.declarations)for(let o=0;o<s.node.declarations.length;o++){let a=s.node.declarations[o];Ur.namedTypes.VariableDeclarator.check(a)&&Ur.namedTypes.Identifier.check(a.init)&&Ur.namedTypes.Identifier.check(a.id)&&ml(a.init.name,r)&&!ml(a.id.name,r)&&r.push(a.id.name)}return!1},visitAssignmentExpression(s){return Ur.namedTypes.Identifier.check(s.node.left)&&Ur.namedTypes.Identifier.check(s.node.right)&&ml(s.node.right.name,r)&&!ml(s.node.left.name,r)&&r.push(s.node.left.name),!1},visitFunction(s){if(s.node.id){let o=!1;if((0,Ur.visit)(s.node,{visitCallExpression(a){return DL(a.node,r)&&(o=!0),!1}}),!o)return!1;s.node.async=!0,ml(s.node.id.name,r)||r.push(s.node.id.name)}this.traverse(s)}});while(i!==r.length);return(0,Ur.visit)(n,{visitCallExpression(s){if(DL(s.node,r)){let{name:a,parent:{node:u}}=s,f=Ur.builders.awaitExpression(s.node,!1);Ur.namedTypes.CallExpression.check(u)?u.arguments[a]=f:u[a]=f}this.traverse(s)}}),(0,hQ.generate)(n)}gl.degenerator=AL;function pQ(t,e,r,n={}){let i=AL(t,r),s=new SL.VM(n),o=new SL.VMScript(`${i};${e}`,{filename:n.filename}),a=s.run(o);if(typeof a!="function")throw new Error(`Expected a "function" to be returned for \`${e}\`, but got "${typeof a}"`);let u=function(...f){try{let c=a.apply(this,f);return typeof(c==null?void 0:c.then)=="function"?c:Promise.resolve(c)}catch(c){return Promise.reject(c)}};return Object.defineProperty(u,"toString",{value:a.toString.bind(a),enumerable:!1}),u}gl.compile=pQ;function DL({callee:t},e){let r;if(Ur.namedTypes.Identifier.check(t))r=t.name;else if(Ur.namedTypes.MemberExpression.check(t))if(Ur.namedTypes.Identifier.check(t.object)&&Ur.namedTypes.Identifier.check(t.property))r=`${t.object.name}.${t.property.name}`;else return!1;else if(Ur.namedTypes.FunctionExpression.check(t))if(t.id)r=t.id.name;else return!1;else throw new Error(`Don't know how to get name for: ${t.type}`);return ml(r,e)}function ml(t,e){for(let r=0;r<e.length;r++){let n=e[r];if(fQ.types.isRegExp(n)){if(n.test(t))return!0}else if(t===n)return!0}return!1}});var _L=M(yx=>{"use strict";Object.defineProperty(yx,"__esModule",{value:!0});function mQ(){return!1}yx.default=mQ});var kL=M(vx=>{"use strict";Object.defineProperty(vx,"__esModule",{value:!0});function gQ(t,e){return t=String(t),e=String(e),t.substr(e.length*-1)===e}vx.default=gQ});var IL=M(Ex=>{"use strict";Object.defineProperty(Ex,"__esModule",{value:!0});function yQ(t){let e=String(t).match(/\./g),r=0;return e&&(r=e.length),r}Ex.default=yQ});var _f=M(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.isGMT=yl.dnsLookup=void 0;var vQ=require("dns");function EQ(t,e){return new Promise((r,n)=>{(0,vQ.lookup)(t,e,(i,s)=>{i?n(i):r(s)})})}yl.dnsLookup=EQ;function bQ(t){return t==="GMT"}yl.isGMT=bQ});var PL=M(bx=>{"use strict";Object.defineProperty(bx,"__esModule",{value:!0});var wQ=_f();async function xQ(t){try{let r=await(0,wQ.dnsLookup)(t,{family:4});if(typeof r=="string")return r}catch{}return null}bx.default=xQ});var TL=M(kf=>{(function(){var t,e,r,n,i,s,o,a;a=function(u){var f,c,d,p;return f=(u&255<<24)>>>24,c=(u&255<<16)>>>16,d=(u&255<<8)>>>8,p=u&255,[f,c,d,p].join(".")},o=function(u){var f,c,d,p,l,h;for(f=[],d=p=0;p<=3&&u.length!==0;d=++p){if(d>0){if(u[0]!==".")throw new Error("Invalid IP");u=u.substring(1)}h=e(u),l=h[0],c=h[1],u=u.substring(c),f.push(l)}if(u.length!==0)throw new Error("Invalid IP");switch(f.length){case 1:if(f[0]>4294967295)throw new Error("Invalid IP");return f[0]>>>0;case 2:if(f[0]>255||f[1]>16777215)throw new Error("Invalid IP");return(f[0]<<24|f[1])>>>0;case 3:if(f[0]>255||f[1]>255||f[2]>65535)throw new Error("Invalid IP");return(f[0]<<24|f[1]<<16|f[2])>>>0;case 4:if(f[0]>255||f[1]>255||f[2]>255||f[3]>255)throw new Error("Invalid IP");return(f[0]<<24|f[1]<<16|f[2]<<8|f[3])>>>0;default:throw new Error("Invalid IP")}},r=function(u){return u.charCodeAt(0)},n=r("0"),s=r("a"),i=r("A"),e=function(u){var f,c,d,p,l;for(p=0,f=10,c="9",d=0,u.length>1&&u[d]==="0"&&(u[d+1]==="x"||u[d+1]==="X"?(d+=2,f=16):"0"<=u[d+1]&&u[d+1]<="9"&&(d++,f=8,c="7")),l=d;d<u.length;){if("0"<=u[d]&&u[d]<=c)p=p*f+(r(u[d])-n)>>>0;else if(f===16)if("a"<=u[d]&&u[d]<="f")p=p*f+(10+r(u[d])-s)>>>0;else if("A"<=u[d]&&u[d]<="F")p=p*f+(10+r(u[d])-i)>>>0;else break;else break;if(p>4294967295)throw new Error("too large");d++}if(d===l)throw new Error("empty octet");return[p,d]},t=function(){function u(f,c){var d,p,l,h;if(typeof f!="string")throw new Error("Missing `net' parameter");if(c||(h=f.split("/",2),f=h[0],c=h[1]),c||(c=32),typeof c=="string"&&c.indexOf(".")>-1){try{this.maskLong=o(c)}catch(y){throw d=y,new Error("Invalid mask: "+c)}for(p=l=32;l>=0;p=--l)if(this.maskLong===4294967295<<32-p>>>0){this.bitmask=p;break}}else if(c||c===0)this.bitmask=parseInt(c,10),this.maskLong=0,this.bitmask>0&&(this.maskLong=4294967295<<32-this.bitmask>>>0);else throw new Error("Invalid mask: empty");try{this.netLong=(o(f)&this.maskLong)>>>0}catch(y){throw d=y,new Error("Invalid net address: "+f)}if(!(this.bitmask<=32))throw new Error("Invalid mask for ip4: "+c);this.size=Math.pow(2,32-this.bitmask),this.base=a(this.netLong),this.mask=a(this.maskLong),this.hostmask=a(~this.maskLong),this.first=this.bitmask<=30?a(this.netLong+1):this.base,this.last=this.bitmask<=30?a(this.netLong+this.size-2):a(this.netLong+this.size-1),this.broadcast=this.bitmask<=30?a(this.netLong+this.size-1):void 0}return u.prototype.contains=function(f){return typeof f=="string"&&(f.indexOf("/")>0||f.split(".").length!==4)&&(f=new u(f)),f instanceof u?this.contains(f.base)&&this.contains(f.broadcast||f.last):(o(f)&this.maskLong)>>>0===(this.netLong&this.maskLong)>>>0},u.prototype.next=function(f){return f==null&&(f=1),new u(a(this.netLong+this.size*f),this.mask)},u.prototype.forEach=function(f){var c,d,p;for(p=o(this.first),d=o(this.last),c=0;p<=d;)f(a(p),p,c),c++,p++},u.prototype.toString=function(){return this.base+"/"+this.bitmask},u}(),kf.ip2long=o,kf.long2ip=a,kf.Netmask=t}).call(kf)});var OL=M(wx=>{"use strict";Object.defineProperty(wx,"__esModule",{value:!0});var CQ=TL(),SQ=_f();async function DQ(t,e,r){try{let i=await(0,SQ.dnsLookup)(t,{family:4});if(typeof i=="string")return new CQ.Netmask(e,r).contains(i)}catch{}return!1}wx.default=DQ});var RL=M(xx=>{"use strict";Object.defineProperty(xx,"__esModule",{value:!0});function AQ(t){return!/\./.test(t)}xx.default=AQ});var BL=M(Cx=>{"use strict";Object.defineProperty(Cx,"__esModule",{value:!0});var FQ=_f();async function _Q(t){try{if(await(0,FQ.dnsLookup)(t,{family:4}))return!0}catch{}return!1}Cx.default=_Q});var LL=M(Sx=>{"use strict";Object.defineProperty(Sx,"__esModule",{value:!0});function kQ(t,e){let r=t.split("."),n=e.split("."),i=!0;for(let s=0;s<r.length;s++)if(r[s]!==n[s]){i=!1;break}return i}Sx.default=kQ});var ML=M(NL=>{var Ve=NL,{Buffer:ig}=require("buffer"),IQ=require("os");Ve.toBuffer=function(t,e,r){r=~~r;var n;if(this.isV4Format(t))n=e||new ig(r+4),t.split(/\./g).map(c=>{n[r++]=parseInt(c,10)&255});else if(this.isV6Format(t)){var i=t.split(":",8),s;for(s=0;s<i.length;s++){var o=this.isV4Format(i[s]),a;o&&(a=this.toBuffer(i[s]),i[s]=a.slice(0,2).toString("hex")),a&&++s<8&&i.splice(s,0,a.slice(2,4).toString("hex"))}if(i[0]==="")for(;i.length<8;)i.unshift("0");else if(i[i.length-1]==="")for(;i.length<8;)i.push("0");else if(i.length<8){for(s=0;s<i.length&&i[s]!=="";s++);var u=[s,1];for(s=9-i.length;s>0;s--)u.push("0");i.splice.apply(i,u)}for(n=e||new ig(r+16),s=0;s<i.length;s++){var f=parseInt(i[s],16);n[r++]=f>>8&255,n[r++]=f&255}}if(!n)throw Error(`Invalid ip address: ${t}`);return n};Ve.toString=function(t,e,r){e=~~e,r=r||t.length-e;var n=[],i;if(r===4){for(i=0;i<r;i++)n.push(t[e+i]);n=n.join(".")}else if(r===16){for(i=0;i<r;i+=2)n.push(t.readUInt16BE(e+i).toString(16));n=n.join(":"),n=n.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),n=n.replace(/:{3,4}/,"::")}return n};var PQ=/^(\d{1,3}\.){3,3}\d{1,3}$/,TQ=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;Ve.isV4Format=function(t){return PQ.test(t)};Ve.isV6Format=function(t){return TQ.test(t)};function If(t){return t===4?"ipv4":t===6?"ipv6":t?t.toLowerCase():"ipv4"}Ve.fromPrefixLen=function(t,e){t>32?e="ipv6":e=If(e);var r=4;e==="ipv6"&&(r=16);for(var n=new ig(r),i=0,s=n.length;i<s;++i){var o=8;t<8&&(o=t),t-=o,n[i]=~(255>>o)&255}return Ve.toString(n)};Ve.mask=function(t,e){t=Ve.toBuffer(t),e=Ve.toBuffer(e);var r=new ig(Math.max(t.length,e.length)),n;if(t.length===e.length)for(n=0;n<t.length;n++)r[n]=t[n]&e[n];else if(e.length===4)for(n=0;n<e.length;n++)r[n]=t[t.length-4+n]&e[n];else{for(n=0;n<r.length-6;n++)r[n]=0;for(r[10]=255,r[11]=255,n=0;n<t.length;n++)r[n+12]=t[n]&e[n+12];n+=12}for(;n<r.length;n++)r[n]=0;return Ve.toString(r)};Ve.cidr=function(t){var e=t.split("/"),r=e[0];if(e.length!==2)throw new Error(`invalid CIDR subnet: ${r}`);var n=Ve.fromPrefixLen(parseInt(e[1],10));return Ve.mask(r,n)};Ve.subnet=function(t,e){for(var r=Ve.toLong(Ve.mask(t,e)),n=Ve.toBuffer(e),i=0,s=0;s<n.length;s++)if(n[s]===255)i+=8;else for(var o=n[s]&255;o;)o=o<<1&255,i++;var a=Math.pow(2,32-i);return{networkAddress:Ve.fromLong(r),firstAddress:a<=2?Ve.fromLong(r):Ve.fromLong(r+1),lastAddress:a<=2?Ve.fromLong(r+a-1):Ve.fromLong(r+a-2),broadcastAddress:Ve.fromLong(r+a-1),subnetMask:e,subnetMaskLength:i,numHosts:a<=2?a:a-2,length:a,contains(u){return r===Ve.toLong(Ve.mask(u,e))}}};Ve.cidrSubnet=function(t){var e=t.split("/"),r=e[0];if(e.length!==2)throw new Error(`invalid CIDR subnet: ${r}`);var n=Ve.fromPrefixLen(parseInt(e[1],10));return Ve.subnet(r,n)};Ve.not=function(t){for(var e=Ve.toBuffer(t),r=0;r<e.length;r++)e[r]=255^e[r];return Ve.toString(e)};Ve.or=function(t,e){var r;if(t=Ve.toBuffer(t),e=Ve.toBuffer(e),t.length===e.length){for(r=0;r<t.length;++r)t[r]|=e[r];return Ve.toString(t)}var n=t,i=e;e.length>t.length&&(n=e,i=t);var s=n.length-i.length;for(r=s;r<n.length;++r)n[r]|=i[r-s];return Ve.toString(n)};Ve.isEqual=function(t,e){var r;if(t=Ve.toBuffer(t),e=Ve.toBuffer(e),t.length===e.length){for(r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}if(e.length===4){var n=e;e=t,t=n}for(r=0;r<10;r++)if(e[r]!==0)return!1;var i=e.readUInt16BE(10);if(i!==0&&i!==65535)return!1;for(r=0;r<4;r++)if(t[r]!==e[r+12])return!1;return!0};Ve.isPrivate=function(t){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^f[cd][0-9a-f]{2}:/i.test(t)||/^fe80:/i.test(t)||/^::1$/.test(t)||/^::$/.test(t)};Ve.isPublic=function(t){return!Ve.isPrivate(t)};Ve.isLoopback=function(t){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(t)||/^fe80::1$/.test(t)||/^::1$/.test(t)||/^::$/.test(t)};Ve.loopback=function(t){if(t=If(t),t!=="ipv4"&&t!=="ipv6")throw new Error("family must be ipv4 or ipv6");return t==="ipv4"?"127.0.0.1":"fe80::1"};Ve.address=function(t,e){var r=IQ.networkInterfaces();if(e=If(e),t&&t!=="private"&&t!=="public"){var n=r[t].filter(s=>{var o=If(s.family);return o===e});return n.length===0?void 0:n[0].address}var i=Object.keys(r).map(s=>{var o=r[s].filter(a=>(a.family=If(a.family),a.family!==e||Ve.isLoopback(a.address)?!1:t?t==="public"?Ve.isPrivate(a.address):Ve.isPublic(a.address):!0));return o.length?o[0].address:void 0}).filter(Boolean);return i.length?i[0]:Ve.loopback(e)};Ve.toLong=function(t){var e=0;return t.split(".").forEach(r=>{e<<=8,e+=parseInt(r)}),e>>>0};Ve.fromLong=function(t){return`${t>>>24}.${t>>16&255}.${t>>8&255}.${t&255}`}});var $L=M(Pf=>{"use strict";var jL=Pf&&Pf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pf,"__esModule",{value:!0});var OQ=jL(ML()),RQ=jL(require("net"));async function BQ(){return new Promise((t,e)=>{let r=RQ.default.connect({host:"8.8.8.8",port:53}),n=()=>{t(OQ.default.address())};r.once("error",n),r.once("connect",()=>{r.removeListener("error",n);let i=r.address();r.destroy(),typeof i=="string"?t(i):i.address?t(i.address):e(new Error("Expected a `string`"))})})}Pf.default=BQ});var UL=M(Dx=>{"use strict";Object.defineProperty(Dx,"__esModule",{value:!0});function LQ(t,e){return NQ(e).test(t)}Dx.default=LQ;function NQ(t){return t=String(t).replace(/\./g,"\\.").replace(/\?/g,".").replace(/\*/g,".*"),new RegExp(`^${t}$`)}});var HL=M(Ax=>{"use strict";Object.defineProperty(Ax,"__esModule",{value:!0});function MQ(){let t=Array.prototype.slice.call(arguments),e=t.pop(),r=e==="GMT",n=new Date;r||t.push(e);let i=!1,s=t.length,o=t.map(a=>parseInt(a,10));if(s===1)i=sg(r,n)===o[0];else if(s===2){let a=sg(r,n);i=o[0]<=a&&a<o[1]}else s===4?i=VL(vl(o[0],o[1],0),vl(sg(r,n),qL(r,n),0),vl(o[2],o[3],59)):s===6&&(i=VL(vl(o[0],o[1],o[2]),vl(sg(r,n),qL(r,n),jQ(r,n)),vl(o[3],o[4],o[5])));return i}Ax.default=MQ;function vl(t,e,r){return t*3600+e*60+r}function sg(t,e){return t?e.getUTCHours():e.getHours()}function qL(t,e){return t?e.getUTCMinutes():e.getMinutes()}function jQ(t,e){return t?e.getUTCSeconds():e.getSeconds()}function VL(t,e,r){return t<=e&&e<=r}});var WL=M(kx=>{"use strict";Object.defineProperty(kx,"__esModule",{value:!0});var zL=_f(),_x=["SUN","MON","TUE","WED","THU","FRI","SAT"];function $Q(t,e,r){let n=!1,i=-1,s=-1,o=!1;(0,zL.isGMT)(r)?n=!0:(0,zL.isGMT)(e)&&(n=!0,o=!0),i=_x.indexOf(t),!o&&qQ(e)&&(s=_x.indexOf(e));let a=UQ(n),u;return s<0?u=a===i:i<=s?u=Fx(i,a,s):u=Fx(i,a,6)||Fx(0,a,s),u}kx.default=$Q;function UQ(t){return t?new Date().getUTCDay():new Date().getDay()}function Fx(t,e,r){return t<=e&&e<=r}function qQ(t){return t?_x.includes(t):!1}});var GL=M(Cs=>{"use strict";var ni=Cs&&Cs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.sandbox=Cs.createPacResolver=void 0;var VQ=FL(),HQ=ni(_L()),zQ=ni(kL()),WQ=ni(IL()),GQ=ni(PL()),JQ=ni(OL()),KQ=ni(RL()),XQ=ni(BL()),YQ=ni(LL()),ZQ=ni($L()),QQ=ni(UL()),eee=ni(HL()),tee=ni(WL());function ree(t,e={}){let r=Buffer.isBuffer(t)?t.toString("utf8"):t,n={...Cs.sandbox,...e.sandbox},i={filename:"proxy.pac",...e,sandbox:n},s=Object.keys(n).filter(u=>nee(n[u])),o=(0,VQ.compile)(r,"FindProxyForURL",s,i);function a(u,f){let c=typeof u=="string"?new URL(u):u,d=f||c.hostname;if(!d)throw new TypeError("Could not determine `host`");return o(c.href,d)}return Object.defineProperty(a,"toString",{value:()=>o.toString(),enumerable:!1}),a}Cs.createPacResolver=ree;Cs.sandbox=Object.freeze({alert:(t="")=>console.log("%s",t),dateRange:HQ.default,dnsDomainIs:zQ.default,dnsDomainLevels:WQ.default,dnsResolve:GQ.default,isInNet:JQ.default,isPlainHostName:KQ.default,isResolvable:XQ.default,localHostOrDomainIs:YQ.default,myIpAddress:ZQ.default,shExpMatch:QQ.default,timeRange:eee.default,weekdayRange:tee.default});function nee(t){return typeof t!="function"?!1:t.constructor.name==="AsyncFunction"||String(t).indexOf("__awaiter(")!==-1?!0:!!t.async}});var XL=M(ii=>{"use strict";var iee=ii&&ii.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),see=ii&&ii.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Px=ii&&ii.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&iee(e,t,r);return see(e,t),e},oee=ii&&ii.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ii,"__esModule",{value:!0});ii.PacProxyAgent=void 0;var Ix=Px(require("net")),aee=Px(require("tls")),uee=Px(require("crypto")),lee=require("events"),cee=oee(Sn()),fee=require("url"),JL=Bu(),hee=LE(),dee=NE(),KL=ZE(),pee=p2(),mee=GL(),zi=(0,cee.default)("pac-proxy-agent"),og=class extends JL.Agent{constructor(e,r){super(r),this.clearResolverPromise=()=>{this.resolverPromise=void 0};let n=typeof e=="string"?e:e.href;this.uri=new URL(n.replace(/^pac\+/i,"")),zi("Creating PacProxyAgent with URI %o",this.uri.href),this.opts={...r},this.cache=void 0,this.resolver=void 0,this.resolverHash="",this.resolverPromise=void 0,this.opts.filename||(this.opts.filename=this.uri.href)}getResolver(){return this.resolverPromise||(this.resolverPromise=this.loadResolver(),this.resolverPromise.then(this.clearResolverPromise,this.clearResolverPromise)),this.resolverPromise}async loadResolver(){try{let e=await this.loadPacFile(),r=uee.createHash("sha1").update(e).digest("hex");return this.resolver&&this.resolverHash===r?(zi("Same sha1 hash for code - contents have not changed, reusing previous proxy resolver"),this.resolver):(zi("Creating new proxy resolver instance"),this.resolver=(0,mee.createPacResolver)(e,this.opts),this.resolverHash=r,this.resolver)}catch(e){if(this.resolver&&e.code==="ENOTMODIFIED")return zi("Got ENOTMODIFIED response, reusing previous proxy resolver"),this.resolver;throw e}}async loadPacFile(){zi("Loading PAC file: %o",this.uri);let e=await(0,pee.getUri)(this.uri,{...this.opts,cache:this.cache});zi("Got `Readable` instance for URI"),this.cache=e;let r=await(0,JL.toBuffer)(e);return zi("Read %o byte PAC file from URI",r.length),r.toString("utf8")}async connect(e,r){let{secureEndpoint:n}=r,i=await this.getResolver(),s=n?443:80,o=e.path,a=null,u=o.indexOf("?");u!==-1&&(a=o.substring(u),o=o.substring(0,u));let f={...r,protocol:n?"https:":"http:",pathname:o,search:a,hostname:r.host,host:null,href:null,port:s===r.port?null:r.port},c=(0,fee.format)(f);zi("url: %o",c);let d=await i(c);d||(d="DIRECT");let p=String(d).trim().split(/\s*;\s*/g).filter(Boolean);this.opts.fallbackToDirect&&!p.includes("DIRECT")&&p.push("DIRECT");for(let l of p){let h=null,y=null,[g,v]=l.split(/\s+/);if(zi("Attempting to use proxy: %o",l),g==="DIRECT")if(n){let b=r.servername||r.host;y=aee.connect({...r,servername:!b||Ix.isIP(b)?void 0:b})}else y=Ix.connect(r);else if(g==="SOCKS"||g==="SOCKS5")h=new KL.SocksProxyAgent(`socks://${v}`,this.opts);else if(g==="SOCKS4")h=new KL.SocksProxyAgent(`socks4a://${v}`,this.opts);else if(g==="PROXY"||g==="HTTP"||g==="HTTPS"){let b=`${g==="HTTPS"?"https":"http"}://${v}`;n?h=new dee.HttpsProxyAgent(b,this.opts):h=new hee.HttpProxyAgent(b,this.opts)}try{if(y)return await(0,lee.once)(y,"connect"),e.emit("proxy",{proxy:l,socket:y}),y;if(h){let b=await h.connect(e,r);if(!(b instanceof Ix.Socket))throw new Error("Expected a `net.Socket` to be returned from agent");return e.emit("proxy",{proxy:l,socket:b}),b}throw new Error(`Could not determine proxy type for: ${l}`)}catch(b){zi("Got error for proxy %o: %o",l,b),e.emit("proxy",{proxy:l,error:b})}}throw new Error(`Failed to establish a socket connection to proxies: ${JSON.stringify(p)}`)}};og.protocols=["pac-data","pac-file","pac-ftp","pac-http","pac-https"];ii.PacProxyAgent=og});var eN=M(qr=>{"use strict";var gee=qr&&qr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yee=qr&&qr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ZL=qr&&qr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gee(e,t,r);return yee(e,t),e},QL=qr&&qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qr,"__esModule",{value:!0});qr.ProxyAgent=qr.proxies=void 0;var vee=ZL(require("http")),Eee=ZL(require("https")),bee=QL(MP()),wee=Bu(),xee=QL(Sn()),Cee=WP(),Ei=XL(),Tx=LE(),YL=NE(),bi=ZE(),Tf=(0,xee.default)("proxy-agent"),See=[...Tx.HttpProxyAgent.protocols,...bi.SocksProxyAgent.protocols,...Ei.PacProxyAgent.protocols];qr.proxies={http:[Tx.HttpProxyAgent,YL.HttpsProxyAgent],https:[Tx.HttpProxyAgent,YL.HttpsProxyAgent],socks:[bi.SocksProxyAgent,bi.SocksProxyAgent],socks4:[bi.SocksProxyAgent,bi.SocksProxyAgent],socks4a:[bi.SocksProxyAgent,bi.SocksProxyAgent],socks5:[bi.SocksProxyAgent,bi.SocksProxyAgent],socks5h:[bi.SocksProxyAgent,bi.SocksProxyAgent],"pac-data":[Ei.PacProxyAgent,Ei.PacProxyAgent],"pac-file":[Ei.PacProxyAgent,Ei.PacProxyAgent],"pac-ftp":[Ei.PacProxyAgent,Ei.PacProxyAgent],"pac-http":[Ei.PacProxyAgent,Ei.PacProxyAgent],"pac-https":[Ei.PacProxyAgent,Ei.PacProxyAgent]};function Dee(t){return See.includes(t)}var Ox=class extends wee.Agent{constructor(e){super(e),this.cache=new bee.default({max:20}),Tf("Creating new ProxyAgent instance: %o",e),this.connectOpts=e,this.httpAgent=(e==null?void 0:e.httpAgent)||new vee.Agent(e),this.httpsAgent=(e==null?void 0:e.httpsAgent)||new Eee.Agent(e),this.getProxyForUrl=(e==null?void 0:e.getProxyForUrl)||Cee.getProxyForUrl}async connect(e,r){let{secureEndpoint:n}=r,i=n?"https:":"http:",s=e.getHeader("host"),o=new URL(e.path,`${i}//${s}`).href,a=this.getProxyForUrl(o);if(!a)return Tf("Proxy not enabled for URL: %o",o),n?this.httpsAgent:this.httpAgent;Tf("Request URL: %o",o),Tf("Proxy URL: %o",a);let u=`${i}+${a}`,f=this.cache.get(u);if(f)Tf("Cache hit for proxy URL: %o",a);else{let d=new URL(a).protocol.replace(":","");if(!Dee(d))throw new Error(`Unsupported protocol for proxy URL: ${a}`);let p=qr.proxies[d][n?1:0];f=new p(a,this.connectOpts),this.cache.set(u,f)}return f}destroy(){for(let e of this.cache.values())e.destroy();super.destroy()}};qr.ProxyAgent=Ox});var TN=M((tde,nte)=>{nte.exports={name:"@devcontainers/cli",description:"Dev Containers CLI",version:"0.46.0",bin:{devcontainer:"devcontainer.js"},author:"Microsoft Corporation",repository:{type:"git",url:"https://github.com/devcontainers/cli.git"},bugs:{url:"https://github.com/devcontainers/cli/issues"},license:"SEE LICENSE IN LICENSE.txt",engines:{node:">=14.17.0"},scripts:{compile:"npm-run-all clean-dist definitions compile-dev",watch:"npm-run-all clean-dist definitions compile-watch",package:"npm-run-all clean-dist definitions compile-prod store-packagejson patch-packagejson npm-pack restore-packagejson","store-packagejson":"copyfiles package.json build-tmp/","patch-packagejson":"node build/patch-packagejson.js","restore-packagejson":"copyfiles --up 1 build-tmp/package.json .","type-check":"npm-run-all clean-built tsc-b","type-check-watch":"npm-run-all clean-built tsc-b-w","compile-prod":"node esbuild.js --production","compile-dev":"node esbuild.js","compile-watch":"node esbuild.js --watch","tsc-b":"tsc -b","tsc-b-w":"tsc -b -w",precommit:"node build/hygiene.js",definitions:"npm-run-all definitions-clean definitions-copy",lint:"eslint -c .eslintrc.js --rulesdir ./build/eslint --max-warnings 0 --ext .ts ./src","definitions-clean":"rimraf dist/node_modules/vscode-dev-containers","definitions-copy":'copyfiles "node_modules/vscode-dev-containers/container-features/{devcontainer-features.json,feature-scripts.env,fish-debian.sh,homebrew-debian.sh,install.sh}" dist',"npm-pack":"npm pack",clean:"npm-run-all clean-dist clean-built","clean-dist":"rimraf dist","clean-built":"rimraf built",test:"env TS_NODE_PROJECT=src/test/tsconfig.json mocha -r ts-node/register --exit src/test/*.test.ts","test-matrix":"env TS_NODE_PROJECT=src/test/tsconfig.json mocha -r ts-node/register --exit","test-container-features":"env TS_NODE_PROJECT=src/test/tsconfig.json mocha -r ts-node/register --exit src/test/container-features/*.test.ts","test-container-templates":"env TS_NODE_PROJECT=src/test/tsconfig.json mocha -r ts-node/register --exit src/test/container-templates/*.test.ts"},files:["CHANGELOG.md","LICENSE.txt","README.md","ThirdPartyNotices.txt","devcontainer.js","dist/spec-node/devContainersSpecCLI.js","dist/node_modules/vscode-dev-containers","package.json","scripts/updateUID.Dockerfile"],devDependencies:{"@types/chai":"^4.3.4","@types/chalk":"^2.2.0","@types/follow-redirects":"^1.14.1","@types/js-yaml":"^4.0.5","@types/mocha":"^10.0.1","@types/ncp":"^2.0.5","@types/node":"^18.15.3","@types/pull-stream":"^3.6.2","@types/recursive-readdir":"^2.2.1","@types/semver":"^7.3.13","@types/shell-quote":"^1.7.1","@types/tar":"^6.1.4","@types/yargs":"^17.0.22","@typescript-eslint/eslint-plugin":"^5.55.0","@typescript-eslint/experimental-utils":"^5.55.0","@typescript-eslint/parser":"^5.55.0",chai:"^4.3.7",copyfiles:"^2.4.1",esbuild:"^0.17.12",eslint:"^8.36.0","event-stream":"^4.0.1","gulp-eslint":"^6.0.0","gulp-filter":"^7.0.0",mocha:"^10.2.0","npm-run-all":"^4.1.5","p-all":"^4.0.0",rimraf:"^4.4.0","ts-node":"^10.9.1",typescript:"^5.0.2","typescript-formatter":"^7.2.2",vinyl:"^3.0.0","vinyl-fs":"^3.0.3"},dependencies:{chalk:"^5.2.0","follow-redirects":"^1.15.2","js-yaml":"^4.1.0","jsonc-parser":"^3.2.0",ncp:"^2.0.0","node-pty":"^0.10.1","proxy-agent":"^6.2.0","pull-stream":"^3.7.0","recursive-readdir":"^2.2.3",semver:"^7.3.8","shell-quote":"^1.8.0","stream-to-pull-stream":"^1.7.3",tar:"^6.1.13","vscode-dev-containers":"https://github.com/microsoft/vscode-dev-containers/releases/download/v0.245.2/vscode-dev-containers-0.245.2.tgz","vscode-uri":"^3.0.7",yargs:"~17.7.1"}}});var $3=M((e0e,j3)=>{j3.exports=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);_re(i)?r.push.apply(r,i):r.push(i)}return r};var _re=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var z3=M((t0e,H3)=>{"use strict";H3.exports=q3;function q3(t,e,r){t instanceof RegExp&&(t=U3(t,r)),e instanceof RegExp&&(e=U3(e,r));var n=V3(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function U3(t,e){var r=e.match(t);return r?r[0]:null}q3.range=V3;function V3(t,e,r){var n,i,s,o,a,u=r.indexOf(t),f=r.indexOf(e,u+1),c=u;if(u>=0&&f>0){if(t===e)return[u,f];for(n=[],s=r.length;c>=0&&!a;)c==u?(n.push(c),u=r.indexOf(t,c+1)):n.length==1?a=[n.pop(),f]:(i=n.pop(),i<s&&(s=i,o=f),f=r.indexOf(e,c+1)),c=u<f&&u>=0?u:f;n.length&&(a=[s,o])}return a}});var Q3=M((r0e,Z3)=>{var kre=$3(),W3=z3();Z3.exports=Tre;var G3="\0SLASH"+Math.random()+"\0",J3="\0OPEN"+Math.random()+"\0",DC="\0CLOSE"+Math.random()+"\0",K3="\0COMMA"+Math.random()+"\0",X3="\0PERIOD"+Math.random()+"\0";function SC(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Ire(t){return t.split("\\\\").join(G3).split("\\{").join(J3).split("\\}").join(DC).split("\\,").join(K3).split("\\.").join(X3)}function Pre(t){return t.split(G3).join("\\").split(J3).join("{").split(DC).join("}").split(K3).join(",").split(X3).join(".")}function Y3(t){if(!t)return[""];var e=[],r=W3("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=Y3(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Tre(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Tl(Ire(t),!0).map(Pre)):[]}function Ore(t){return"{"+t+"}"}function Rre(t){return/^-?0\d/.test(t)}function Bre(t,e){return t<=e}function Lre(t,e){return t>=e}function Tl(t,e){var r=[],n=W3("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),o=i||s,a=n.body.indexOf(",")>=0;if(!o&&!a)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+DC+n.post,Tl(t)):[t];var u;if(o)u=n.body.split(/\.\./);else if(u=Y3(n.body),u.length===1&&(u=Tl(u[0],!1).map(Ore),u.length===1)){var c=n.post.length?Tl(n.post,!1):[""];return c.map(function(R){return n.pre+u[0]+R})}var f=n.pre,c=n.post.length?Tl(n.post,!1):[""],d;if(o){var p=SC(u[0]),l=SC(u[1]),h=Math.max(u[0].length,u[1].length),y=u.length==3?Math.abs(SC(u[2])):1,g=Bre,v=l<p;v&&(y*=-1,g=Lre);var b=u.some(Rre);d=[];for(var x=p;g(x,l);x+=y){var E;if(s)E=String.fromCharCode(x),E==="\\"&&(E="");else if(E=String(x),b){var S=h-E.length;if(S>0){var F=new Array(S+1).join("0");x<0?E="-"+F+E.slice(1):E=F+E}}d.push(E)}}else d=kre(u,function(j){return Tl(j,!1)});for(var P=0;P<d.length;P++)for(var V=0;V<c.length;V++){var H=f+d[P]+c[V];(!e||o||H)&&r.push(H)}return r}});var sM=M((n0e,iM)=>{iM.exports=Pn;Pn.Minimatch=mr;var eh=function(){try{return require("path")}catch{}}()||{sep:"/"};Pn.sep=eh.sep;var _C=Pn.GLOBSTAR=mr.GLOBSTAR={},Nre=Q3(),eM={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},AC="[^/]",FC=AC+"*?",Mre="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",jre="(?:(?!(?:\\/|^)\\.).)*?",tM=$re("().*{}+?[]^$\\!");function $re(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var rM=/\/+/;Pn.filter=Ure;function Ure(t,e){return e=e||{},function(r,n,i){return Pn(r,t,e)}}function vo(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}Pn.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return Pn;var e=Pn,r=function(i,s,o){return e(i,s,vo(t,o))};return r.Minimatch=function(i,s){return new e.Minimatch(i,vo(t,s))},r.Minimatch.defaults=function(i){return e.defaults(vo(t,i)).Minimatch},r.filter=function(i,s){return e.filter(i,vo(t,s))},r.defaults=function(i){return e.defaults(vo(t,i))},r.makeRe=function(i,s){return e.makeRe(i,vo(t,s))},r.braceExpand=function(i,s){return e.braceExpand(i,vo(t,s))},r.match=function(n,i,s){return e.match(n,i,vo(t,s))},r};mr.defaults=function(t){return Pn.defaults(t).Minimatch};function Pn(t,e,r){return Hg(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new mr(e,r).match(t)}function mr(t,e){if(!(this instanceof mr))return new mr(t,e);Hg(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&eh.sep!=="/"&&(t=t.split(eh.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}mr.prototype.debug=function(){};mr.prototype.make=qre;function qre(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(rM)}),this.debug(this.pattern,r),r=r.map(function(n,i,s){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}mr.prototype.parseNegate=Vre;function Vre(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,s=t.length;i<s&&t.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}Pn.braceExpand=function(t,e){return nM(t,e)};mr.prototype.braceExpand=nM;function nM(t,e){return e||(this instanceof mr?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,Hg(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Nre(t)}var Hre=1024*64,Hg=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Hre)throw new TypeError("pattern is too long")};mr.prototype.parse=zre;var Vg={};function zre(t,e){Hg(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return _C;if(t==="")return"";var n="",i=!!r.nocase,s=!1,o=[],a=[],u,f=!1,c=-1,d=-1,p=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",l=this;function h(){if(u){switch(u){case"*":n+=FC,i=!0;break;case"?":n+=AC,i=!0;break;default:n+="\\"+u;break}l.debug("clearStateChar %j %j",u,n),u=!1}}for(var y=0,g=t.length,v;y<g&&(v=t.charAt(y));y++){if(this.debug("%s	%s %s %j",t,y,n,v),s&&tM[v]){n+="\\"+v,s=!1;continue}switch(v){case"/":return!1;case"\\":h(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,y,n,v),f){this.debug("  in class"),v==="!"&&y===d+1&&(v="^"),n+=v;continue}l.debug("call clearStateChar %j",u),h(),u=v,r.noext&&h();continue;case"(":if(f){n+="(";continue}if(!u){n+="\\(";continue}o.push({type:u,start:y-1,reStart:n.length,open:eM[u].open,close:eM[u].close}),n+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,n),u=!1;continue;case")":if(f||!o.length){n+="\\)";continue}h(),i=!0;var b=o.pop();n+=b.close,b.type==="!"&&a.push(b),b.reEnd=n.length;continue;case"|":if(f||!o.length||s){n+="\\|",s=!1;continue}h(),n+="|";continue;case"[":if(h(),f){n+="\\"+v;continue}f=!0,d=y,c=n.length,n+=v;continue;case"]":if(y===d+1||!f){n+="\\"+v,s=!1;continue}var x=t.substring(d+1,y);try{RegExp("["+x+"]")}catch{var E=this.parse(x,Vg);n=n.substr(0,c)+"\\["+E[0]+"\\]",i=i||E[1],f=!1;continue}i=!0,f=!1,n+=v;continue;default:h(),s?s=!1:tM[v]&&!(v==="^"&&f)&&(n+="\\"),n+=v}}for(f&&(x=t.substr(d+1),E=this.parse(x,Vg),n=n.substr(0,c)+"\\["+E[0],i=i||E[1]),b=o.pop();b;b=o.pop()){var S=n.slice(b.reStart+b.open.length);this.debug("setting tail",n,b),S=S.replace(/((?:\\{2}){0,64})(\\?)\|/g,function($,Z,ie){return ie||(ie="\\"),Z+Z+ie+"|"}),this.debug(`tail=%j
   %s`,S,S,b,n);var F=b.type==="*"?FC:b.type==="?"?AC:"\\"+b.type;i=!0,n=n.slice(0,b.reStart)+F+"\\("+S}h(),s&&(n+="\\\\");var P=!1;switch(n.charAt(0)){case"[":case".":case"(":P=!0}for(var V=a.length-1;V>-1;V--){var H=a[V],j=n.slice(0,H.reStart),R=n.slice(H.reStart,H.reEnd-8),N=n.slice(H.reEnd-8,H.reEnd),J=n.slice(H.reEnd);N+=J;var K=j.split("(").length-1,X=J;for(y=0;y<K;y++)X=X.replace(/\)[+*?]?/,"");J=X;var z="";J===""&&e!==Vg&&(z="$");var T=j+R+J+z+N;n=T}if(n!==""&&i&&(n="(?=.)"+n),P&&(n=p+n),e===Vg)return[n,i];if(!i)return Gre(t);var W=r.nocase?"i":"";try{var L=new RegExp("^"+n+"$",W)}catch{return new RegExp("$.")}return L._glob=t,L._src=n,L}Pn.makeRe=function(t,e){return new mr(t,e||{}).makeRe()};mr.prototype.makeRe=Wre;function Wre(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?FC:e.dot?Mre:jre,n=e.nocase?"i":"",i=t.map(function(s){return s.map(function(o){return o===_C?r:typeof o=="string"?Jre(o):o._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}Pn.match=function(t,e,r){r=r||{};var n=new mr(e,r);return t=t.filter(function(i){return n.match(i)}),n.options.nonull&&!t.length&&t.push(e),t};mr.prototype.match=function(e,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var n=this.options;eh.sep!=="/"&&(e=e.split(eh.sep).join("/")),e=e.split(rM),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var s,o;for(o=e.length-1;o>=0&&(s=e[o],!s);o--);for(o=0;o<i.length;o++){var a=i[o],u=e;n.matchBase&&a.length===1&&(u=[s]);var f=this.matchOne(u,a,r);if(f)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};mr.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,s=0,o=t.length,a=e.length;i<o&&s<a;i++,s++){this.debug("matchOne loop");var u=e[s],f=t[i];if(this.debug(e,u,f),u===!1)return!1;if(u===_C){this.debug("GLOBSTAR",[e,u,f]);var c=i,d=s+1;if(d===a){for(this.debug("** at the end");i<o;i++)if(t[i]==="."||t[i]===".."||!n.dot&&t[i].charAt(0)===".")return!1;return!0}for(;c<o;){var p=t[c];if(this.debug(`
globstar while`,t,c,e,d,p),this.matchOne(t.slice(c),e.slice(d),r))return this.debug("globstar found match!",c,o,p),!0;if(p==="."||p===".."||!n.dot&&p.charAt(0)==="."){this.debug("dot detected!",t,c,e,d);break}this.debug("globstar swallow a segment, and continue"),c++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,c,e,d),c===o))}var l;if(typeof u=="string"?(l=f===u,this.debug("string match",u,f,l)):(l=f.match(u),this.debug("pattern match",u,f,l)),!l)return!1}if(i===o&&s===a)return!0;if(i===o)return r;if(s===a)return i===o-1&&t[i]==="";throw new Error("wtf?")};function Gre(t){return t.replace(/\\(.)/g,"$1")}function Jre(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var uM=M((i0e,aM)=>{var oM=require("fs"),Kre=require("path"),Xre=sM();function Yre(t){return function(e,r){var n=new Xre.Minimatch(t,{matchBase:!0});return(!n.negate||r.isFile())&&n.match(e)}}function Zre(t){return typeof t=="function"?t:Yre(t)}function kC(t,e,r){if(typeof e=="function"&&(r=e,e=[]),!r)return new Promise(function(i,s){kC(t,e||[],function(o,a){o?s(o):i(a)})});e=e.map(Zre);var n=[];oM.readdir(t,function(i,s){if(i)return r(i);var o=s.length;if(!o)return r(null,n);s.forEach(function(a){var u=Kre.join(t,a);oM.stat(u,function(f,c){if(f)return r(f);if(e.some(function(d){return d(u,c)}))return o-=1,o?null:r(null,n);if(c.isDirectory())kC(u,e,function(d,p){if(d)return r(d);if(n=n.concat(p),o-=1,!o)return r(null,n)});else if(n.push(u),o-=1,!o)return r(null,n)})})})}aM.exports=kC});var Kne={};ZC(Kne,{doExec:()=>qg});module.exports=Pt(Kne);var Nt=Ce(require("path"));var dh=require("assert");var h6={right:y6,center:v6},d6=0,oh=1,p6=2,ah=3,i0=class{constructor(e){var r;this.width=e.width,this.wrap=(r=e.wrap)!==null&&r!==void 0?r:!0,this.rows=[]}span(...e){let r=this.div(...e);r.span=!0}resetOutput(){this.rows=[]}div(...e){if(e.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...e)&&typeof e[0]=="string")return this.applyLayoutDSL(e[0]);let r=e.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(r),r}shouldApplyLayoutDSL(...e){return e.length===1&&typeof e[0]=="string"&&/[\t\n]/.test(e[0])}applyLayoutDSL(e){let r=e.split(`
`).map(i=>i.split("	")),n=0;return r.forEach(i=>{i.length>1&&cn.stringWidth(i[0])>n&&(n=Math.min(Math.floor(this.width*.5),cn.stringWidth(i[0])))}),r.forEach(i=>{this.div(...i.map((s,o)=>({text:s.trim(),padding:this.measurePadding(s),width:o===0&&i.length>1?n:void 0})))}),this.rows[this.rows.length-1]}colFromString(e){return{text:e,padding:this.measurePadding(e)}}measurePadding(e){let r=cn.stripAnsi(e);return[0,r.match(/\s*$/)[0].length,0,r.match(/^\s*/)[0].length]}toString(){let e=[];return this.rows.forEach(r=>{this.rowToString(r,e)}),e.filter(r=>!r.hidden).map(r=>r.text).join(`
`)}rowToString(e,r){return this.rasterize(e).forEach((n,i)=>{let s="";n.forEach((o,a)=>{let{width:u}=e[a],f=this.negatePadding(e[a]),c=o;if(f>cn.stringWidth(o)&&(c+=" ".repeat(f-cn.stringWidth(o))),e[a].align&&e[a].align!=="left"&&this.wrap){let p=h6[e[a].align];c=p(c,f),cn.stringWidth(c)<f&&(c+=" ".repeat((u||0)-cn.stringWidth(c)-1))}let d=e[a].padding||[0,0,0,0];d[ah]&&(s+=" ".repeat(d[ah])),s+=eS(e[a],c,"| "),s+=c,s+=eS(e[a],c," |"),d[oh]&&(s+=" ".repeat(d[oh])),i===0&&r.length>0&&(s=this.renderInline(s,r[r.length-1]))}),r.push({text:s.replace(/ +$/,""),span:e.span})}),r}renderInline(e,r){let n=e.match(/^ */),i=n?n[0].length:0,s=r.text,o=cn.stringWidth(s.trimRight());return r.span?this.wrap?i<o?e:(r.hidden=!0,s.trimRight()+" ".repeat(i-o)+e.trimLeft()):(r.hidden=!0,s+e):e}rasterize(e){let r=[],n=this.columnWidths(e),i;return e.forEach((s,o)=>{s.width=n[o],this.wrap?i=cn.wrap(s.text,this.negatePadding(s),{hard:!0}).split(`
`):i=s.text.split(`
`),s.border&&(i.unshift("."+"-".repeat(this.negatePadding(s)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(s)+2)+"'")),s.padding&&(i.unshift(...new Array(s.padding[d6]||0).fill("")),i.push(...new Array(s.padding[p6]||0).fill(""))),i.forEach((a,u)=>{r[u]||r.push([]);let f=r[u];for(let c=0;c<o;c++)f[c]===void 0&&f.push("");f.push(a)})}),r}negatePadding(e){let r=e.width||0;return e.padding&&(r-=(e.padding[ah]||0)+(e.padding[oh]||0)),e.border&&(r-=4),r}columnWidths(e){if(!this.wrap)return e.map(o=>o.width||cn.stringWidth(o.text));let r=e.length,n=this.width,i=e.map(o=>{if(o.width)return r--,n-=o.width,o.width}),s=r?Math.floor(n/r):0;return i.map((o,a)=>o===void 0?Math.max(s,m6(e[a])):o)}};function eS(t,e,r){return t.border?/[.']-+[.']/.test(e)?"":e.trim().length!==0?r:"  ":""}function m6(t){let e=t.padding||[],r=1+(e[ah]||0)+(e[oh]||0);return t.border?r+4:r}function g6(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function y6(t,e){t=t.trim();let r=cn.stringWidth(t);return r<e?" ".repeat(e-r)+t:t}function v6(t,e){t=t.trim();let r=cn.stringWidth(t);return r>=e?t:" ".repeat(e-r>>1)+t}var cn;function tS(t,e){return cn=e,new i0({width:(t==null?void 0:t.width)||g6(),wrap:t==null?void 0:t.wrap})}var rS=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function s0(t){return t.replace(rS,"")}function nS(t,e){let[r,n]=t.match(rS)||["",""];t=s0(t);let i="";for(let s=0;s<t.length;s++)s!==0&&s%e===0&&(i+=`
`),i+=t.charAt(s);return r&&n&&(i=`${r}${i}${n}`),i}function o0(t){return tS(t,{stringWidth:e=>[...e].length,stripAnsi:s0,wrap:nS})}var La=require("path"),uh=require("fs");function iS(t,e){let r=(0,La.resolve)(".",t),n;for((0,uh.statSync)(r).isDirectory()||(r=(0,La.dirname)(r));;){if(n=e(r,(0,uh.readdirSync)(r)),n)return(0,La.resolve)(r,n);if(r=(0,La.dirname)(n=r),n===r)break}}var bS=require("util"),wS=require("fs"),xS=require("url");var lS=require("util"),hh=require("path");function xo(t){if(t!==t.toLowerCase()&&t!==t.toUpperCase()||(t=t.toLowerCase()),t.indexOf("-")===-1&&t.indexOf("_")===-1)return t;{let r="",n=!1,i=t.match(/^-+/);for(let s=i?i[0].length:0;s<t.length;s++){let o=t.charAt(s);n&&(n=!1,o=o.toUpperCase()),s!==0&&(o==="-"||o==="_")?n=!0:o!=="-"&&o!=="_"&&(r+=o)}return r}}function lh(t,e){let r=t.toLowerCase();e=e||"-";let n="";for(let i=0;i<t.length;i++){let s=r.charAt(i),o=t.charAt(i);s!==o&&i>0?n+=`${e}${r.charAt(i)}`:n+=o}return n}function ch(t){return t==null?!1:typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^0[^.]/.test(t)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function sS(t){if(Array.isArray(t))return t.map(o=>typeof o!="string"?o+"":o);t=t.trim();let e=0,r=null,n=null,i=null,s=[];for(let o=0;o<t.length;o++){if(r=n,n=t.charAt(o),n===" "&&!i){r!==" "&&e++;continue}n===i?i=null:(n==="'"||n==='"')&&!i&&(i=n),s[e]||(s[e]=""),s[e]+=n}return s}var Tn;(function(t){t.BOOLEAN="boolean",t.STRING="string",t.NUMBER="number",t.ARRAY="array"})(Tn||(Tn={}));var Ji,fh=class{constructor(e){Ji=e}parse(e,r){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},r),i=sS(e),s=typeof e=="string",o=E6(Object.assign(Object.create(null),n.alias)),a=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),u=Object.assign(Object.create(null),n.default),f=n.configObjects||[],c=n.envPrefix,d=a["populate--"],p=d?"--":"_",l=Object.create(null),h=Object.create(null),y=n.__||Ji.format,g={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},v=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,b=new RegExp("^--"+a["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(U){let G=typeof U=="object"?U.key:U,ge=Object.keys(U).map(function(ae){return{boolean:"bools",string:"strings",number:"numbers"}[ae]}).filter(Boolean).pop();ge&&(g[ge][G]=!0),g.arrays[G]=!0,g.keys.push(G)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(U){g.bools[U]=!0,g.keys.push(U)}),[].concat(n.string||[]).filter(Boolean).forEach(function(U){g.strings[U]=!0,g.keys.push(U)}),[].concat(n.number||[]).filter(Boolean).forEach(function(U){g.numbers[U]=!0,g.keys.push(U)}),[].concat(n.count||[]).filter(Boolean).forEach(function(U){g.counts[U]=!0,g.keys.push(U)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(U){g.normalize[U]=!0,g.keys.push(U)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([U,G])=>{typeof G=="number"&&(g.nargs[U]=G,g.keys.push(U))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([U,G])=>{typeof G=="function"&&(g.coercions[U]=G,g.keys.push(U))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(U){g.configs[U]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([U,G])=>{(typeof G=="boolean"||typeof G=="function")&&(g.configs[U]=G)})),he(n.key,o,n.default,g.arrays),Object.keys(u).forEach(function(U){(g.aliases[U]||[]).forEach(function(G){u[G]=u[U]})});let x=null;ve();let E=[],S=Object.assign(Object.create(null),{_:[]}),F={};for(let U=0;U<i.length;U++){let G=i[U],ge=G.replace(/^-{3,}/,"---"),ae,Q,_e,Se,Pe,Ae;if(G!=="--"&&/^-/.test(G)&&Le(G))P(G);else if(ge.match(/^---+(=|$)/)){P(G);continue}else if(G.match(/^--.+=/)||!a["short-option-groups"]&&G.match(/^-.+=/))Se=G.match(/^--?([^=]+)=([\s\S]*)$/),Se!==null&&Array.isArray(Se)&&Se.length>=3&&(ee(Se[1],g.arrays)?U=H(U,Se[1],i,Se[2]):ee(Se[1],g.nargs)!==!1?U=V(U,Se[1],i,Se[2]):j(Se[1],Se[2],!0));else if(G.match(b)&&a["boolean-negation"])Se=G.match(b),Se!==null&&Array.isArray(Se)&&Se.length>=2&&(Q=Se[1],j(Q,ee(Q,g.arrays)?[!1]:!1));else if(G.match(/^--.+/)||!a["short-option-groups"]&&G.match(/^-[^-]+/))Se=G.match(/^--?(.+)/),Se!==null&&Array.isArray(Se)&&Se.length>=2&&(Q=Se[1],ee(Q,g.arrays)?U=H(U,Q,i):ee(Q,g.nargs)!==!1?U=V(U,Q,i):(Pe=i[U+1],Pe!==void 0&&(!Pe.match(/^-/)||Pe.match(v))&&!ee(Q,g.bools)&&!ee(Q,g.counts)||/^(true|false)$/.test(Pe)?(j(Q,Pe),U++):j(Q,se(Q))));else if(G.match(/^-.\..+=/))Se=G.match(/^-([^=]+)=([\s\S]*)$/),Se!==null&&Array.isArray(Se)&&Se.length>=3&&j(Se[1],Se[2]);else if(G.match(/^-.\..+/)&&!G.match(v))Pe=i[U+1],Se=G.match(/^-(.\..+)/),Se!==null&&Array.isArray(Se)&&Se.length>=2&&(Q=Se[1],Pe!==void 0&&!Pe.match(/^-/)&&!ee(Q,g.bools)&&!ee(Q,g.counts)?(j(Q,Pe),U++):j(Q,se(Q)));else if(G.match(/^-[^-]+/)&&!G.match(v)){_e=G.slice(1,-1).split(""),ae=!1;for(let ze=0;ze<_e.length;ze++){if(Pe=G.slice(ze+2),_e[ze+1]&&_e[ze+1]==="="){Ae=G.slice(ze+3),Q=_e[ze],ee(Q,g.arrays)?U=H(U,Q,i,Ae):ee(Q,g.nargs)!==!1?U=V(U,Q,i,Ae):j(Q,Ae),ae=!0;break}if(Pe==="-"){j(_e[ze],Pe);continue}if(/[A-Za-z]/.test(_e[ze])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(Pe)&&ee(Pe,g.bools)===!1){j(_e[ze],Pe),ae=!0;break}if(_e[ze+1]&&_e[ze+1].match(/\W/)){j(_e[ze],Pe),ae=!0;break}else j(_e[ze],se(_e[ze]))}Q=G.slice(-1)[0],!ae&&Q!=="-"&&(ee(Q,g.arrays)?U=H(U,Q,i):ee(Q,g.nargs)!==!1?U=V(U,Q,i):(Pe=i[U+1],Pe!==void 0&&(!/^(-|--)[^-]/.test(Pe)||Pe.match(v))&&!ee(Q,g.bools)&&!ee(Q,g.counts)||/^(true|false)$/.test(Pe)?(j(Q,Pe),U++):j(Q,se(Q))))}else if(G.match(/^-[0-9]$/)&&G.match(v)&&ee(G.slice(1),g.bools))Q=G.slice(1),j(Q,se(Q));else if(G==="--"){E=i.slice(U+1);break}else if(a["halt-at-non-option"]){E=i.slice(U);break}else P(G)}T(S,!0),T(S,!1),K(S),z(),$(S,g.aliases,u,!0),W(S),a["set-placeholder-key"]&&L(S),Object.keys(g.counts).forEach(function(U){Z(S,U.split("."))||j(U,0)}),d&&E.length&&(S[p]=[]),E.forEach(function(U){S[p].push(U)}),a["camel-case-expansion"]&&a["strip-dashed"]&&Object.keys(S).filter(U=>U!=="--"&&U.includes("-")).forEach(U=>{delete S[U]}),a["strip-aliased"]&&[].concat(...Object.keys(o).map(U=>o[U])).forEach(U=>{a["camel-case-expansion"]&&U.includes("-")&&delete S[U.split(".").map(G=>xo(G)).join(".")],delete S[U]});function P(U){let G=J("_",U);(typeof G=="string"||typeof G=="number")&&S._.push(G)}function V(U,G,ge,ae){let Q,_e=ee(G,g.nargs);if(_e=typeof _e!="number"||isNaN(_e)?1:_e,_e===0)return pe(ae)||(x=Error(y("Argument unexpected for: %s",G))),j(G,se(G)),U;let Se=pe(ae)?0:1;if(a["nargs-eats-options"])ge.length-(U+1)+Se<_e&&(x=Error(y("Not enough arguments following: %s",G))),Se=_e;else{for(Q=U+1;Q<ge.length&&(!ge[Q].match(/^-[^0-9]/)||ge[Q].match(v)||Le(ge[Q]));Q++)Se++;Se<_e&&(x=Error(y("Not enough arguments following: %s",G)))}let Pe=Math.min(Se,_e);for(!pe(ae)&&Pe>0&&(j(G,ae),Pe--),Q=U+1;Q<Pe+U+1;Q++)j(G,ge[Q]);return U+Pe}function H(U,G,ge,ae){let Q=[],_e=ae||ge[U+1],Se=ee(G,g.nargs);if(ee(G,g.bools)&&!/^(true|false)$/.test(_e))Q.push(!0);else if(pe(_e)||pe(ae)&&/^-/.test(_e)&&!v.test(_e)&&!Le(_e)){if(u[G]!==void 0){let Pe=u[G];Q=Array.isArray(Pe)?Pe:[Pe]}}else{pe(ae)||Q.push(N(G,ae,!0));for(let Pe=U+1;Pe<ge.length&&!(!a["greedy-arrays"]&&Q.length>0||Se&&typeof Se=="number"&&Q.length>=Se||(_e=ge[Pe],/^-/.test(_e)&&!v.test(_e)&&!Le(_e)));Pe++)U=Pe,Q.push(N(G,_e,s))}return typeof Se=="number"&&(Se&&Q.length<Se||isNaN(Se)&&Q.length===0)&&(x=Error(y("Not enough arguments following: %s",G))),j(G,Q),U}function j(U,G,ge=s){if(/-/.test(U)&&a["camel-case-expansion"]){let _e=U.split(".").map(function(Se){return xo(Se)}).join(".");R(U,_e)}let ae=N(U,G,ge),Q=U.split(".");ie(S,Q,ae),g.aliases[U]&&g.aliases[U].forEach(function(_e){let Se=_e.split(".");ie(S,Se,ae)}),Q.length>1&&a["dot-notation"]&&(g.aliases[Q[0]]||[]).forEach(function(_e){let Se=_e.split("."),Pe=[].concat(Q);Pe.shift(),Se=Se.concat(Pe),(g.aliases[U]||[]).includes(Se.join("."))||ie(S,Se,ae)}),ee(U,g.normalize)&&!ee(U,g.arrays)&&[U].concat(g.aliases[U]||[]).forEach(function(Se){Object.defineProperty(F,Se,{enumerable:!0,get(){return G},set(Pe){G=typeof Pe=="string"?Ji.normalize(Pe):Pe}})})}function R(U,G){g.aliases[U]&&g.aliases[U].length||(g.aliases[U]=[G],l[G]=!0),g.aliases[G]&&g.aliases[G].length||R(G,U)}function N(U,G,ge){ge&&(G=b6(G)),(ee(U,g.bools)||ee(U,g.counts))&&typeof G=="string"&&(G=G==="true");let ae=Array.isArray(G)?G.map(function(Q){return J(U,Q)}):J(U,G);return ee(U,g.counts)&&(pe(ae)||typeof ae=="boolean")&&(ae=a0()),ee(U,g.normalize)&&ee(U,g.arrays)&&(Array.isArray(G)?ae=G.map(Q=>Ji.normalize(Q)):ae=Ji.normalize(G)),ae}function J(U,G){return!a["parse-positional-numbers"]&&U==="_"||!ee(U,g.strings)&&!ee(U,g.bools)&&!Array.isArray(G)&&(ch(G)&&a["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${G}`)))||!pe(G)&&ee(U,g.numbers))&&(G=Number(G)),G}function K(U){let G=Object.create(null);$(G,g.aliases,u),Object.keys(g.configs).forEach(function(ge){let ae=U[ge]||G[ge];if(ae)try{let Q=null,_e=Ji.resolve(Ji.cwd(),ae),Se=g.configs[ge];if(typeof Se=="function"){try{Q=Se(_e)}catch(Pe){Q=Pe}if(Q instanceof Error){x=Q;return}}else Q=Ji.require(_e);X(Q)}catch(Q){Q.name==="PermissionDenied"?x=Q:U[ge]&&(x=Error(y("Invalid JSON config file: %s",ae)))}})}function X(U,G){Object.keys(U).forEach(function(ge){let ae=U[ge],Q=G?G+"."+ge:ge;typeof ae=="object"&&ae!==null&&!Array.isArray(ae)&&a["dot-notation"]?X(ae,Q):(!Z(S,Q.split("."))||ee(Q,g.arrays)&&a["combine-arrays"])&&j(Q,ae)})}function z(){typeof f<"u"&&f.forEach(function(U){X(U)})}function T(U,G){if(typeof c>"u")return;let ge=typeof c=="string"?c:"",ae=Ji.env();Object.keys(ae).forEach(function(Q){if(ge===""||Q.lastIndexOf(ge,0)===0){let _e=Q.split("__").map(function(Se,Pe){return Pe===0&&(Se=Se.substring(ge.length)),xo(Se)});(G&&g.configs[_e.join(".")]||!G)&&!Z(U,_e)&&j(_e.join("."),ae[Q])}})}function W(U){let G,ge=new Set;Object.keys(U).forEach(function(ae){if(!ge.has(ae)&&(G=ee(ae,g.coercions),typeof G=="function"))try{let Q=J(ae,G(U[ae]));[].concat(g.aliases[ae]||[],ae).forEach(_e=>{ge.add(_e),U[_e]=Q})}catch(Q){x=Q}})}function L(U){return g.keys.forEach(G=>{~G.indexOf(".")||typeof U[G]>"u"&&(U[G]=void 0)}),U}function $(U,G,ge,ae=!1){Object.keys(ge).forEach(function(Q){Z(U,Q.split("."))||(ie(U,Q.split("."),ge[Q]),ae&&(h[Q]=!0),(G[Q]||[]).forEach(function(_e){Z(U,_e.split("."))||ie(U,_e.split("."),ge[Q])}))})}function Z(U,G){let ge=U;a["dot-notation"]||(G=[G.join(".")]),G.slice(0,-1).forEach(function(Q){ge=ge[Q]||{}});let ae=G[G.length-1];return typeof ge!="object"?!1:ae in ge}function ie(U,G,ge){let ae=U;a["dot-notation"]||(G=[G.join(".")]),G.slice(0,-1).forEach(function(Ae){Ae=oS(Ae),typeof ae=="object"&&ae[Ae]===void 0&&(ae[Ae]={}),typeof ae[Ae]!="object"||Array.isArray(ae[Ae])?(Array.isArray(ae[Ae])?ae[Ae].push({}):ae[Ae]=[ae[Ae],{}],ae=ae[Ae][ae[Ae].length-1]):ae=ae[Ae]});let Q=oS(G[G.length-1]),_e=ee(G.join("."),g.arrays),Se=Array.isArray(ge),Pe=a["duplicate-arguments-array"];!Pe&&ee(Q,g.nargs)&&(Pe=!0,(!pe(ae[Q])&&g.nargs[Q]===1||Array.isArray(ae[Q])&&ae[Q].length===g.nargs[Q])&&(ae[Q]=void 0)),ge===a0()?ae[Q]=a0(ae[Q]):Array.isArray(ae[Q])?Pe&&_e&&Se?ae[Q]=a["flatten-duplicate-arrays"]?ae[Q].concat(ge):(Array.isArray(ae[Q][0])?ae[Q]:[ae[Q]]).concat([ge]):!Pe&&!!_e==!!Se?ae[Q]=ge:ae[Q]=ae[Q].concat([ge]):ae[Q]===void 0&&_e?ae[Q]=Se?ge:[ge]:Pe&&!(ae[Q]===void 0||ee(Q,g.counts)||ee(Q,g.bools))?ae[Q]=[ae[Q],ge]:ae[Q]=ge}function he(...U){U.forEach(function(G){Object.keys(G||{}).forEach(function(ge){g.aliases[ge]||(g.aliases[ge]=[].concat(o[ge]||[]),g.aliases[ge].concat(ge).forEach(function(ae){if(/-/.test(ae)&&a["camel-case-expansion"]){let Q=xo(ae);Q!==ge&&g.aliases[ge].indexOf(Q)===-1&&(g.aliases[ge].push(Q),l[Q]=!0)}}),g.aliases[ge].concat(ge).forEach(function(ae){if(ae.length>1&&/[A-Z]/.test(ae)&&a["camel-case-expansion"]){let Q=lh(ae,"-");Q!==ge&&g.aliases[ge].indexOf(Q)===-1&&(g.aliases[ge].push(Q),l[Q]=!0)}}),g.aliases[ge].forEach(function(ae){g.aliases[ae]=[ge].concat(g.aliases[ge].filter(function(Q){return ae!==Q}))}))})})}function ee(U,G){let ge=[].concat(g.aliases[U]||[],U),ae=Object.keys(G),Q=ge.find(_e=>ae.includes(_e));return Q?G[Q]:!1}function me(U){let G=Object.keys(g);return[].concat(G.map(ae=>g[ae])).some(function(ae){return Array.isArray(ae)?ae.includes(U):ae[U]})}function ce(U,...G){return[].concat(...G).some(function(ae){let Q=U.match(ae);return Q&&me(Q[1])})}function ye(U){if(U.match(v)||!U.match(/^-[^-]+/))return!1;let G=!0,ge,ae=U.slice(1).split("");for(let Q=0;Q<ae.length;Q++){if(ge=U.slice(Q+2),!me(ae[Q])){G=!1;break}if(ae[Q+1]&&ae[Q+1]==="="||ge==="-"||/[A-Za-z]/.test(ae[Q])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(ge)||ae[Q+1]&&ae[Q+1].match(/\W/))break}return G}function Le(U){return a["unknown-options-as-args"]&&fe(U)}function fe(U){return U=U.replace(/^-{3,}/,"--"),U.match(v)||ye(U)?!1:!ce(U,/^-+([^=]+?)=[\s\S]*$/,b,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function se(U){return!ee(U,g.bools)&&!ee(U,g.counts)&&`${U}`in u?u[U]:te(ue(U))}function te(U){return{[Tn.BOOLEAN]:!0,[Tn.STRING]:"",[Tn.NUMBER]:void 0,[Tn.ARRAY]:[]}[U]}function ue(U){let G=Tn.BOOLEAN;return ee(U,g.strings)?G=Tn.STRING:ee(U,g.numbers)?G=Tn.NUMBER:ee(U,g.bools)?G=Tn.BOOLEAN:ee(U,g.arrays)&&(G=Tn.ARRAY),G}function pe(U){return U===void 0}function ve(){Object.keys(g.counts).find(U=>ee(U,g.arrays)?(x=Error(y("Invalid configuration: %s, opts.count excludes opts.array.",U)),!0):ee(U,g.nargs)?(x=Error(y("Invalid configuration: %s, opts.count excludes opts.narg.",U)),!0):!1)}return{aliases:Object.assign({},g.aliases),argv:Object.assign(F,S),configuration:a,defaulted:Object.assign({},h),error:x,newAliases:Object.assign({},l)}}};function E6(t){let e=[],r=Object.create(null),n=!0;for(Object.keys(t).forEach(function(i){e.push([].concat(t[i],i))});n;){n=!1;for(let i=0;i<e.length;i++)for(let s=i+1;s<e.length;s++)if(e[i].filter(function(a){return e[s].indexOf(a)!==-1}).length){e[i]=e[i].concat(e[s]),e.splice(s,1),n=!0;break}}return e.forEach(function(i){i=i.filter(function(o,a,u){return u.indexOf(o)===a});let s=i.pop();s!==void 0&&typeof s=="string"&&(r[s]=i)}),r}function a0(t){return t!==void 0?t+1:1}function oS(t){return t==="__proto__"?"___proto___":t}function b6(t){return typeof t=="string"&&(t[0]==="'"||t[0]==='"')&&t[t.length-1]===t[0]?t.substring(1,t.length-1):t}var cS=require("fs");var u0,l0,c0,aS=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,uS=(l0=(u0=process==null?void 0:process.versions)===null||u0===void 0?void 0:u0.node)!==null&&l0!==void 0?l0:(c0=process==null?void 0:process.version)===null||c0===void 0?void 0:c0.slice(1);if(uS&&Number(uS.match(/^([^.]+)/)[1])<aS)throw Error(`yargs parser supports a minimum Node.js version of ${aS}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var w6=process?process.env:{},fS=new fh({cwd:process.cwd,env:()=>w6,format:lS.format,normalize:hh.normalize,resolve:hh.resolve,require:t=>{if(typeof require<"u")return require(t);if(t.match(/\.json$/))return JSON.parse((0,cS.readFileSync)(t,"utf8"));throw Error("only .json config files are supported in ESM")}}),jl=function(e,r){return fS.parse(e.slice(),r).argv};jl.detailed=function(t,e){return fS.parse(t.slice(),e)};jl.camelCase=xo;jl.decamelize=lh;jl.looksLikeNumber=ch;var hS=jl;var ai=require("path");function x6(){return C6()?0:1}function C6(){return S6()&&!process.defaultApp}function S6(){return!!process.versions.electron}function dS(){return process.argv[x6()]}var ht=class extends Error{constructor(e){super(e||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,ht)}};var Na=require("fs"),pS=require("util"),mS=require("path"),gS={fs:{readFileSync:Na.readFileSync,writeFile:Na.writeFile},format:pS.format,resolve:mS.resolve,exists:t=>{try{return(0,Na.statSync)(t).isFile()}catch{return!1}}};var oi,f0=class{constructor(e){e=e||{},this.directory=e.directory||"./locales",this.updateFiles=typeof e.updateFiles=="boolean"?e.updateFiles:!0,this.locale=e.locale||"en",this.fallbackToLanguage=typeof e.fallbackToLanguage=="boolean"?e.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...e){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let r=e.shift(),n=function(){};return typeof e[e.length-1]=="function"&&(n=e.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]=r,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),oi.format.apply(oi.format,[this.cache[this.locale][r]||r].concat(e))}__n(){let e=Array.prototype.slice.call(arguments),r=e.shift(),n=e.shift(),i=e.shift(),s=function(){};typeof e[e.length-1]=="function"&&(s=e.pop()),this.cache[this.locale]||this._readLocaleFile();let o=i===1?r:n;this.cache[this.locale][r]&&(o=this.cache[this.locale][r][i===1?"one":"other"]),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]={one:r,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s();let a=[o];return~o.indexOf("%d")&&a.push(i),oi.format.apply(oi.format,a.concat(e))}setLocale(e){this.locale=e}getLocale(){return this.locale}updateLocale(e){this.cache[this.locale]||this._readLocaleFile();for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this.cache[this.locale][r]=e[r])}_taggedLiteral(e,...r){let n="";return e.forEach(function(i,s){let o=r[s+1];n+=i,typeof o<"u"&&(n+="%s")}),this.__.apply(this,[n].concat([].slice.call(r,1)))}_enqueueWrite(e){this.writeQueue.push(e),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let e=this,r=this.writeQueue[0],n=r.directory,i=r.locale,s=r.cb,o=this._resolveLocaleFile(n,i),a=JSON.stringify(this.cache[i],null,2);oi.fs.writeFile(o,a,"utf-8",function(u){e.writeQueue.shift(),e.writeQueue.length>0&&e._processWriteQueue(),s(u)})}_readLocaleFile(){let e={},r=this._resolveLocaleFile(this.directory,this.locale);try{oi.fs.readFileSync&&(e=JSON.parse(oi.fs.readFileSync(r,"utf-8")))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+r),n.code==="ENOENT")e={};else throw n}this.cache[this.locale]=e}_resolveLocaleFile(e,r){let n=oi.resolve(e,"./",r+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~r.lastIndexOf("_")){let i=oi.resolve(e,"./",r.split("_")[0]+".json");this._fileExistsSync(i)&&(n=i)}return n}_fileExistsSync(e){return oi.exists(e)}};function yS(t,e){oi=e;let r=new f0(t);return{__:r.__.bind(r),__n:r.__n.bind(r),setLocale:r.setLocale.bind(r),getLocale:r.getLocale.bind(r),updateLocale:r.updateLocale.bind(r),locale:r.locale}}var D6=t=>yS(t,gS),vS=D6;var A6="require is not supported by ESM",ES="loading a directory of commands is not supported yet for ESM",$l;try{$l=(0,xS.fileURLToPath)("file:///c%3A/mnt/vss/_work/1/s/node_modules/%40devcontainers/cli/node_modules/yargs/lib/platform-shims/esm.mjs")}catch{$l=process.cwd()}var F6=$l.substring(0,$l.lastIndexOf("node_modules")),CS={assert:{notStrictEqual:dh.notStrictEqual,strictEqual:dh.strictEqual},cliui:o0,findUp:iS,getEnv:t=>process.env[t],inspect:bS.inspect,getCallerFile:()=>{throw new ht(ES)},getProcessArgvBin:dS,mainFilename:F6||process.cwd(),Parser:hS,path:{basename:ai.basename,dirname:ai.dirname,extname:ai.extname,relative:ai.relative,resolve:ai.resolve},process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(t,e)=>process.emitWarning(t,e),execPath:()=>process.execPath,exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:wS.readFileSync,require:()=>{throw new ht(A6)},requireDirectory:()=>{throw new ht(ES)},stringWidth:t=>[...t].length,y18n:vS({directory:(0,ai.resolve)($l,"../../../locales"),updateFiles:!1})};function Or(t,e,r,n){r.assert.notStrictEqual(t,e,n)}function h0(t,e){e.assert.strictEqual(typeof t,"string")}function Ma(t){return Object.keys(t)}function yt(t){return!!t&&!!t.then&&typeof t.then=="function"}function Is(t){let r=t.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,i=r.shift();if(!i)throw new Error(`No command found in: ${t}`);let s={cmd:i.replace(n,""),demanded:[],optional:[]};return r.forEach((o,a)=>{let u=!1;o=o.replace(/\s/g,""),/\.+[\]>]/.test(o)&&a===r.length-1&&(u=!0),/^\[/.test(o)?s.optional.push({cmd:o.replace(n,"").split("|"),variadic:u}):s.demanded.push({cmd:o.replace(n,"").split("|"),variadic:u})}),s}var _6=["first","second","third","fourth","fifth","sixth"];function Ie(t,e,r){function n(){return typeof t=="object"?[{demanded:[],optional:[]},t,e]:[Is(`cmd ${t}`),e,r]}try{let i=0,[s,o,a]=n(),u=[].slice.call(o);for(;u.length&&u[u.length-1]===void 0;)u.pop();let f=a||u.length;if(f<s.demanded.length)throw new ht(`Not enough arguments provided. Expected ${s.demanded.length} but received ${u.length}.`);let c=s.demanded.length+s.optional.length;if(f>c)throw new ht(`Too many arguments provided. Expected max ${c} but received ${f}.`);s.demanded.forEach(d=>{let p=u.shift(),l=SS(p);d.cmd.filter(y=>y===l||y==="*").length===0&&DS(l,d.cmd,i),i+=1}),s.optional.forEach(d=>{if(u.length===0)return;let p=u.shift(),l=SS(p);d.cmd.filter(y=>y===l||y==="*").length===0&&DS(l,d.cmd,i),i+=1})}catch(i){console.warn(i.stack)}}function SS(t){return Array.isArray(t)?"array":t===null?"null":typeof t}function DS(t,e,r){throw new ht(`Invalid ${_6[r]||"manyith"} argument. Expected ${e.join(" or ")} but received ${t}.`)}var ph=class{constructor(e){this.globalMiddleware=[],this.frozens=[],this.yargs=e}addMiddleware(e,r,n=!0,i=!1){if(Ie("<array|function> [boolean] [boolean] [boolean]",[e,r,n],arguments.length),Array.isArray(e)){for(let s=0;s<e.length;s++){if(typeof e[s]!="function")throw Error("middleware must be a function");let o=e[s];o.applyBeforeValidation=r,o.global=n}Array.prototype.push.apply(this.globalMiddleware,e)}else if(typeof e=="function"){let s=e;s.applyBeforeValidation=r,s.global=n,s.mutates=i,this.globalMiddleware.push(e)}return this.yargs}addCoerceMiddleware(e,r){let n=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let s=[...n[r]||[],r];return i.option?!s.includes(i.option):!0}),e.option=r,this.addMiddleware(e,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let e=this.frozens.pop();e!==void 0&&(this.globalMiddleware=e)}reset(){this.globalMiddleware=this.globalMiddleware.filter(e=>e.global)}};function AS(t){return t?t.map(e=>(e.applyBeforeValidation=!1,e)):[]}function Co(t,e,r,n){return r.reduce((i,s)=>{if(s.applyBeforeValidation!==n)return i;if(s.mutates){if(s.applied)return i;s.applied=!0}if(yt(i))return i.then(o=>Promise.all([o,s(o,e)])).then(([o,a])=>Object.assign(o,a));{let o=s(i,e);return yt(o)?o.then(a=>Object.assign(i,a)):Object.assign(i,o)}},t)}function So(t,e,r=n=>{throw n}){try{let n=k6(t)?t():t;return yt(n)?n.then(i=>e(i)):e(n)}catch(n){return r(n)}}function k6(t){return typeof t=="function"}function d0(t){if(typeof require>"u")return null;for(let e=0,r=Object.keys(require.cache),n;e<r.length;e++)if(n=require.cache[r[e]],n.exports===t)return n;return null}var ja=/(^\*)|(^\$0)/,p0=class{constructor(e,r,n,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=e,this.globalMiddleware=n,this.validation=r}addDirectory(e,r,n,i){i=i||{},typeof i.recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let s=typeof i.visit=="function"?i.visit:o=>o;i.visit=(o,a,u)=>{let f=s(o,a,u);if(f){if(this.requireCache.has(a))return f;this.requireCache.add(a),this.addHandler(f)}return f},this.shim.requireDirectory({require:r,filename:n},e,i)}addHandler(e,r,n,i,s,o){let a=[],u=AS(s);if(i=i||(()=>{}),Array.isArray(e))if(I6(e))[e,...a]=e;else for(let f of e)this.addHandler(f);else if(T6(e)){let f=Array.isArray(e.command)||typeof e.command=="string"?e.command:this.moduleName(e);e.aliases&&(f=[].concat(f).concat(e.aliases)),this.addHandler(f,this.extractDesc(e),e.builder,e.handler,e.middlewares,e.deprecated);return}else if(FS(n)){this.addHandler([e].concat(a),r,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof e=="string"){let f=Is(e);a=a.map(p=>Is(p).cmd);let c=!1,d=[f.cmd].concat(a).filter(p=>ja.test(p)?(c=!0,!1):!0);d.length===0&&c&&d.push("$0"),c&&(f.cmd=d[0],a=d.slice(1),e=e.replace(ja,f.cmd)),a.forEach(p=>{this.aliasMap[p]=f.cmd}),r!==!1&&this.usage.command(e,r,c,a,o),this.handlers[f.cmd]={original:e,description:r,handler:i,builder:n||{},middlewares:u,deprecated:o,demanded:f.demanded,optional:f.optional},c&&(this.defaultCommand=this.handlers[f.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(e,r,n,i,s,o){let a=this.handlers[e]||this.handlers[this.aliasMap[e]]||this.defaultCommand,u=r.getInternalMethods().getContext(),f=u.commands.slice(),c=!e;e&&(u.commands.push(e),u.fullCommands.push(a.original));let d=this.applyBuilderUpdateUsageAndParse(c,a,r,n.aliases,f,i,s,o);return yt(d)?d.then(p=>this.applyMiddlewareAndGetResult(c,a,p.innerArgv,u,s,p.aliases,r)):this.applyMiddlewareAndGetResult(c,a,d.innerArgv,u,s,d.aliases,r)}applyBuilderUpdateUsageAndParse(e,r,n,i,s,o,a,u){let f=r.builder,c=n;if(mh(f)){n.getInternalMethods().getUsageInstance().freeze();let d=f(n.getInternalMethods().reset(i),u);if(yt(d))return d.then(p=>(c=kS(p)?p:n,this.parseAndUpdateUsage(e,r,c,s,o,a)))}else P6(f)&&(n.getInternalMethods().getUsageInstance().freeze(),c=n.getInternalMethods().reset(i),Object.keys(r.builder).forEach(d=>{c.option(d,f[d])}));return this.parseAndUpdateUsage(e,r,c,s,o,a)}parseAndUpdateUsage(e,r,n,i,s,o){e&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,r),r.description);let a=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,s,o);return yt(a)?a.then(u=>({aliases:n.parsed.aliases,innerArgv:u})):{aliases:n.parsed.aliases,innerArgv:a}}shouldUpdateUsage(e){return!e.getInternalMethods().getUsageInstance().getUsageDisabled()&&e.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(e,r){let n=ja.test(r.original)?r.original.replace(ja,"").trim():r.original,i=e.filter(s=>!ja.test(s));return i.push(n),`$0 ${i.join(" ")}`}handleValidationAndGetResult(e,r,n,i,s,o,a,u){if(!o.getInternalMethods().getHasOutput()){let f=o.getInternalMethods().runValidation(s,u,o.parsed.error,e);n=So(n,c=>(f(c),c))}if(r.handler&&!o.getInternalMethods().getHasOutput()){o.getInternalMethods().setHasOutput();let f=!!o.getOptions().configuration["populate--"];o.getInternalMethods().postProcess(n,f,!1,!1),n=Co(n,o,a,!1),n=So(n,c=>{let d=r.handler(c);return yt(d)?d.then(()=>c):c}),e||o.getInternalMethods().getUsageInstance().cacheHelpMessage(),yt(n)&&!o.getInternalMethods().hasParseCallback()&&n.catch(c=>{try{o.getInternalMethods().getUsageInstance().fail(null,c)}catch{}})}return e||(i.commands.pop(),i.fullCommands.pop()),n}applyMiddlewareAndGetResult(e,r,n,i,s,o,a){let u={};if(s)return n;a.getInternalMethods().getHasOutput()||(u=this.populatePositionals(r,n,i,a));let f=this.globalMiddleware.getMiddleware().slice(0).concat(r.middlewares),c=Co(n,a,f,!0);return yt(c)?c.then(d=>this.handleValidationAndGetResult(e,r,d,i,o,a,f,u)):this.handleValidationAndGetResult(e,r,c,i,o,a,f,u)}populatePositionals(e,r,n,i){r._=r._.slice(n.commands.length);let s=e.demanded.slice(0),o=e.optional.slice(0),a={};for(this.validation.positionalCount(s.length,r._.length);s.length;){let u=s.shift();this.populatePositional(u,r,a)}for(;o.length;){let u=o.shift();this.populatePositional(u,r,a)}return r._=n.commands.concat(r._.map(u=>""+u)),this.postProcessPositionals(r,a,this.cmdToParseOptions(e.original),i),a}populatePositional(e,r,n){let i=e.cmd[0];e.variadic?n[i]=r._.splice(0).map(String):r._.length&&(n[i]=[String(r._.shift())])}cmdToParseOptions(e){let r={array:[],default:{},alias:{},demand:{}},n=Is(e);return n.demanded.forEach(i=>{let[s,...o]=i.cmd;i.variadic&&(r.array.push(s),r.default[s]=[]),r.alias[s]=o,r.demand[s]=!0}),n.optional.forEach(i=>{let[s,...o]=i.cmd;i.variadic&&(r.array.push(s),r.default[s]=[]),r.alias[s]=o}),r}postProcessPositionals(e,r,n,i){let s=Object.assign({},i.getOptions());s.default=Object.assign(n.default,s.default);for(let f of Object.keys(n.alias))s.alias[f]=(s.alias[f]||[]).concat(n.alias[f]);s.array=s.array.concat(n.array),s.config={};let o=[];if(Object.keys(r).forEach(f=>{r[f].map(c=>{s.configuration["unknown-options-as-args"]&&(s.key[f]=!0),o.push(`--${f}`),o.push(c)})}),!o.length)return;let a=Object.assign({},s.configuration,{"populate--":!1}),u=this.shim.Parser.detailed(o,Object.assign({},s,{configuration:a}));if(u.error)i.getInternalMethods().getUsageInstance().fail(u.error.message,u.error);else{let f=Object.keys(r);Object.keys(r).forEach(c=>{f.push(...u.aliases[c])}),Object.keys(u.argv).forEach(c=>{f.includes(c)&&(r[c]||(r[c]=u.argv[c]),!this.isInConfigs(i,c)&&!this.isDefaulted(i,c)&&Object.prototype.hasOwnProperty.call(e,c)&&Object.prototype.hasOwnProperty.call(u.argv,c)&&(Array.isArray(e[c])||Array.isArray(u.argv[c]))?e[c]=[].concat(e[c],u.argv[c]):e[c]=u.argv[c])})}}isDefaulted(e,r){let{default:n}=e.getOptions();return Object.prototype.hasOwnProperty.call(n,r)||Object.prototype.hasOwnProperty.call(n,this.shim.Parser.camelCase(r))}isInConfigs(e,r){let{configObjects:n}=e.getOptions();return n.some(i=>Object.prototype.hasOwnProperty.call(i,r))||n.some(i=>Object.prototype.hasOwnProperty.call(i,this.shim.Parser.camelCase(r)))}runDefaultBuilderOn(e){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(e)){let n=ja.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");e.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}let r=this.defaultCommand.builder;if(mh(r))return r(e,!0);FS(r)||Object.keys(r).forEach(n=>{e.option(n,r[n])})}moduleName(e){let r=d0(e);if(!r)throw new Error(`No command name given for module: ${this.shim.inspect(e)}`);return this.commandFromFilename(r.filename)}commandFromFilename(e){return this.shim.path.basename(e,this.shim.path.extname(e))}extractDesc({describe:e,description:r,desc:n}){for(let i of[e,r,n]){if(typeof i=="string"||i===!1)return i;Or(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let e=this.frozens.pop();Or(e,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=e}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function _S(t,e,r,n){return new p0(t,e,r,n)}function FS(t){return typeof t=="object"&&!!t.builder&&typeof t.handler=="function"}function I6(t){return t.every(e=>typeof e=="string")}function mh(t){return typeof t=="function"}function P6(t){return typeof t=="object"}function T6(t){return typeof t=="object"&&!Array.isArray(t)}function Ps(t={},e=()=>!0){let r={};return Ma(t).forEach(n=>{e(n,t[n])&&(r[n]=t[n])}),r}function Ts(t){typeof process>"u"||[process.stdout,process.stderr].forEach(e=>{let r=e;r._handle&&r.isTTY&&typeof r._handle.setBlocking=="function"&&r._handle.setBlocking(t)})}function O6(t){return typeof t=="boolean"}function PS(t,e){let r=e.y18n.__,n={},i=[];n.failFn=function(N){i.push(N)};let s=null,o=null,a=!0;n.showHelpOnFail=function(N=!0,J){let[K,X]=typeof N=="string"?[!0,N]:[N,J];return t.getInternalMethods().isGlobalContext()&&(o=X),s=X,a=K,n};let u=!1;n.fail=function(N,J){let K=t.getInternalMethods().getLoggerInstance();if(i.length)for(let X=i.length-1;X>=0;--X){let z=i[X];if(O6(z)){if(J)throw J;if(N)throw Error(N)}else z(N,J,n)}else{if(t.getExitProcess()&&Ts(!0),!u){u=!0,a&&(t.showHelp("error"),K.error()),(N||J)&&K.error(N||J);let X=s||o;X&&((N||J)&&K.error(""),K.error(X))}if(J=J||new ht(N),t.getExitProcess())return t.exit(1);if(t.getInternalMethods().hasParseCallback())return t.exit(1,J);throw J}};let f=[],c=!1;n.usage=(R,N)=>R===null?(c=!0,f=[],n):(c=!1,f.push([R,N||""]),n),n.getUsage=()=>f,n.getUsageDisabled=()=>c,n.getPositionalGroupName=()=>r("Positionals:");let d=[];n.example=(R,N)=>{d.push([R,N||""])};let p=[];n.command=function(N,J,K,X,z=!1){K&&(p=p.map(T=>(T[2]=!1,T))),p.push([N,J||"",K,X,z])},n.getCommands=()=>p;let l={};n.describe=function(N,J){Array.isArray(N)?N.forEach(K=>{n.describe(K,J)}):typeof N=="object"?Object.keys(N).forEach(K=>{n.describe(K,N[K])}):l[N]=J},n.getDescriptions=()=>l;let h=[];n.epilog=R=>{h.push(R)};let y=!1,g;n.wrap=R=>{y=!0,g=R},n.getWrap=()=>e.getEnv("YARGS_DISABLE_WRAP")?null:(y||(g=V(),y=!0),g);let v="__yargsString__:";n.deferY18nLookup=R=>v+R,n.help=function(){if(E)return E;x();let N=t.customScriptName?t.$0:e.path.basename(t.$0),J=t.getDemandedOptions(),K=t.getDemandedCommands(),X=t.getDeprecatedOptions(),z=t.getGroups(),T=t.getOptions(),W=[];W=W.concat(Object.keys(l)),W=W.concat(Object.keys(J)),W=W.concat(Object.keys(K)),W=W.concat(Object.keys(T.default)),W=W.filter(F),W=Object.keys(W.reduce((ce,ye)=>(ye!=="_"&&(ce[ye]=!0),ce),{}));let L=n.getWrap(),$=e.cliui({width:L,wrap:!!L});if(!c){if(f.length)f.forEach(ce=>{$.div({text:`${ce[0].replace(/\$0/g,N)}`}),ce[1]&&$.div({text:`${ce[1]}`,padding:[1,0,0,0]})}),$.div();else if(p.length){let ce=null;K._?ce=`${N} <${r("command")}>
`:ce=`${N} [${r("command")}]
`,$.div(`${ce}`)}}if(p.length>1||p.length===1&&!p[0][2]){$.div(r("Commands:"));let ce=t.getInternalMethods().getContext(),ye=ce.commands.length?`${ce.commands.join(" ")} `:"";t.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(p=p.sort((fe,se)=>fe[0].localeCompare(se[0])));let Le=N?`${N} `:"";p.forEach(fe=>{let se=`${Le}${ye}${fe[0].replace(/^\$0 ?/,"")}`;$.span({text:se,padding:[0,2,0,2],width:b(p,L,`${N}${ye}`)+4},{text:fe[1]});let te=[];fe[2]&&te.push(`[${r("default")}]`),fe[3]&&fe[3].length&&te.push(`[${r("aliases:")} ${fe[3].join(", ")}]`),fe[4]&&(typeof fe[4]=="string"?te.push(`[${r("deprecated: %s",fe[4])}]`):te.push(`[${r("deprecated")}]`)),te.length?$.div({text:te.join(" "),padding:[0,0,0,2],align:"right"}):$.div()}),$.div()}let Z=(Object.keys(T.alias)||[]).concat(Object.keys(t.parsed.newAliases)||[]);W=W.filter(ce=>!t.parsed.newAliases[ce]&&Z.every(ye=>(T.alias[ye]||[]).indexOf(ce)===-1));let ie=r("Options:");z[ie]||(z[ie]=[]),S(W,T.alias,z,ie);let he=ce=>/^--/.test(gh(ce)),ee=Object.keys(z).filter(ce=>z[ce].length>0).map(ce=>{let ye=z[ce].filter(F).map(Le=>{if(Z.includes(Le))return Le;for(let fe=0,se;(se=Z[fe])!==void 0;fe++)if((T.alias[se]||[]).includes(Le))return se;return Le});return{groupName:ce,normalizedKeys:ye}}).filter(({normalizedKeys:ce})=>ce.length>0).map(({groupName:ce,normalizedKeys:ye})=>{let Le=ye.reduce((fe,se)=>(fe[se]=[se].concat(T.alias[se]||[]).map(te=>ce===n.getPositionalGroupName()?te:(/^[0-9]$/.test(te)?T.boolean.includes(se)?"-":"--":te.length>1?"--":"-")+te).sort((te,ue)=>he(te)===he(ue)?0:he(te)?1:-1).join(", "),fe),{});return{groupName:ce,normalizedKeys:ye,switches:Le}});if(ee.filter(({groupName:ce})=>ce!==n.getPositionalGroupName()).some(({normalizedKeys:ce,switches:ye})=>!ce.every(Le=>he(ye[Le])))&&ee.filter(({groupName:ce})=>ce!==n.getPositionalGroupName()).forEach(({normalizedKeys:ce,switches:ye})=>{ce.forEach(Le=>{he(ye[Le])&&(ye[Le]=R6(ye[Le],4))})}),ee.forEach(({groupName:ce,normalizedKeys:ye,switches:Le})=>{$.div(ce),ye.forEach(fe=>{let se=Le[fe],te=l[fe]||"",ue=null;te.includes(v)&&(te=r(te.substring(v.length))),T.boolean.includes(fe)&&(ue=`[${r("boolean")}]`),T.count.includes(fe)&&(ue=`[${r("count")}]`),T.string.includes(fe)&&(ue=`[${r("string")}]`),T.normalize.includes(fe)&&(ue=`[${r("string")}]`),T.array.includes(fe)&&(ue=`[${r("array")}]`),T.number.includes(fe)&&(ue=`[${r("number")}]`);let pe=G=>typeof G=="string"?`[${r("deprecated: %s",G)}]`:`[${r("deprecated")}]`,ve=[fe in X?pe(X[fe]):null,ue,fe in J?`[${r("required")}]`:null,T.choices&&T.choices[fe]?`[${r("choices:")} ${n.stringifiedValues(T.choices[fe])}]`:null,P(T.default[fe],T.defaultDescription[fe])].filter(Boolean).join(" ");$.span({text:gh(se),padding:[0,2,0,2+IS(se)],width:b(Le,L)+4},te);let U=t.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;ve&&!U?$.div({text:ve,padding:[0,0,0,2],align:"right"}):$.div()}),$.div()}),d.length&&($.div(r("Examples:")),d.forEach(ce=>{ce[0]=ce[0].replace(/\$0/g,N)}),d.forEach(ce=>{ce[1]===""?$.div({text:ce[0],padding:[0,2,0,2]}):$.div({text:ce[0],padding:[0,2,0,2],width:b(d,L)+4},{text:ce[1]})}),$.div()),h.length>0){let ce=h.map(ye=>ye.replace(/\$0/g,N)).join(`
`);$.div(`${ce}
`)}return $.toString().replace(/\s*$/,"")};function b(R,N,J){let K=0;return Array.isArray(R)||(R=Object.values(R).map(X=>[X])),R.forEach(X=>{K=Math.max(e.stringWidth(J?`${J} ${gh(X[0])}`:gh(X[0]))+IS(X[0]),K)}),N&&(K=Math.min(K,parseInt((N*.5).toString(),10))),K}function x(){let R=t.getDemandedOptions(),N=t.getOptions();(Object.keys(N.alias)||[]).forEach(J=>{N.alias[J].forEach(K=>{l[K]&&n.describe(J,l[K]),K in R&&t.demandOption(J,R[K]),N.boolean.includes(K)&&t.boolean(J),N.count.includes(K)&&t.count(J),N.string.includes(K)&&t.string(J),N.normalize.includes(K)&&t.normalize(J),N.array.includes(K)&&t.array(J),N.number.includes(K)&&t.number(J)})})}let E;n.cacheHelpMessage=function(){E=this.help()},n.clearCachedHelpMessage=function(){E=void 0},n.hasCachedHelpMessage=function(){return!!E};function S(R,N,J,K){let X=[],z=null;return Object.keys(J).forEach(T=>{X=X.concat(J[T])}),R.forEach(T=>{z=[T].concat(N[T]),z.some(W=>X.indexOf(W)!==-1)||J[K].push(T)}),X}function F(R){return t.getOptions().hiddenOptions.indexOf(R)<0||t.parsed.argv[t.getOptions().showHiddenOpt]}n.showHelp=R=>{let N=t.getInternalMethods().getLoggerInstance();R||(R="error"),(typeof R=="function"?R:N[R])(n.help())},n.functionDescription=R=>["(",R.name?e.Parser.decamelize(R.name,"-"):r("generated-value"),")"].join(""),n.stringifiedValues=function(N,J){let K="",X=J||", ",z=[].concat(N);return!N||!z.length||z.forEach(T=>{K.length&&(K+=X),K+=JSON.stringify(T)}),K};function P(R,N){let J=`[${r("default:")} `;if(R===void 0&&!N)return null;if(N)J+=N;else switch(typeof R){case"string":J+=`"${R}"`;break;case"object":J+=JSON.stringify(R);break;default:J+=R}return`${J}]`}function V(){return e.process.stdColumns?Math.min(80,e.process.stdColumns):80}let H=null;n.version=R=>{H=R},n.showVersion=R=>{let N=t.getInternalMethods().getLoggerInstance();R||(R="error"),(typeof R=="function"?R:N[R])(H)},n.reset=function(N){return s=null,u=!1,f=[],c=!1,h=[],d=[],p=[],l=Ps(l,J=>!N[J]),n};let j=[];return n.freeze=function(){j.push({failMessage:s,failureOutput:u,usages:f,usageDisabled:c,epilogs:h,examples:d,commands:p,descriptions:l})},n.unfreeze=function(N=!1){let J=j.pop();J&&(N?(l={...J.descriptions,...l},p=[...J.commands,...p],f=[...J.usages,...f],d=[...J.examples,...d],h=[...J.epilogs,...h]):{failMessage:s,failureOutput:u,usages:f,usageDisabled:c,epilogs:h,examples:d,commands:p,descriptions:l}=J)},n}function m0(t){return typeof t=="object"}function R6(t,e){return m0(t)?{text:t.text,indentation:t.indentation+e}:{text:t,indentation:e}}function IS(t){return m0(t)?t.indentation:0}function gh(t){return m0(t)?t.text:t}var TS=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,OS=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var g0=class{constructor(e,r,n,i){var s,o,a;this.yargs=e,this.usage=r,this.command=n,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(a=((s=this.shim.getEnv("SHELL"))===null||s===void 0?void 0:s.includes("zsh"))||((o=this.shim.getEnv("ZSH_NAME"))===null||o===void 0?void 0:o.includes("zsh")))!==null&&a!==void 0?a:!1}defaultCompletion(e,r,n,i){let s=this.command.getCommandHandlers();for(let a=0,u=e.length;a<u;++a)if(s[e[a]]&&s[e[a]].builder){let f=s[e[a]].builder;if(mh(f)){this.indexAfterLastReset=a+1;let c=this.yargs.getInternalMethods().reset();return f(c,!0),c.argv}}let o=[];this.commandCompletions(o,e,n),this.optionCompletions(o,e,r,n),this.choicesFromOptionsCompletions(o,e,r,n),this.choicesFromPositionalsCompletions(o,e,r,n),i(null,o)}commandCompletions(e,r,n){let i=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&i[i.length-1]!==n&&!this.previousArgHasChoices(r)&&this.usage.getCommands().forEach(s=>{let o=Is(s[0]).cmd;if(r.indexOf(o)===-1)if(!this.zshShell)e.push(o);else{let a=s[1]||"";e.push(o.replace(/:/g,"\\:")+":"+a)}})}optionCompletions(e,r,n,i){if((i.match(/^-/)||i===""&&e.length===0)&&!this.previousArgHasChoices(r)){let s=this.yargs.getOptions(),o=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(s.key).forEach(a=>{let u=!!s.configuration["boolean-negation"]&&s.boolean.includes(a);!o.includes(a)&&!s.hiddenOptions.includes(a)&&!this.argsContainKey(r,a,u)&&(this.completeOptionKey(a,e,i),u&&s.default[a]&&this.completeOptionKey(`no-${a}`,e,i))})}}choicesFromOptionsCompletions(e,r,n,i){if(this.previousArgHasChoices(r)){let s=this.getPreviousArgChoices(r);s&&s.length>0&&e.push(...s.map(o=>o.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(e,r,n,i){if(i===""&&e.length>0&&this.previousArgHasChoices(r))return;let s=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],o=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),a=s[n._.length-o-1];if(!a)return;let u=this.yargs.getOptions().choices[a]||[];for(let f of u)f.startsWith(i)&&e.push(f.replace(/:/g,"\\:"))}getPreviousArgChoices(e){if(e.length<1)return;let r=e[e.length-1],n="";if(!r.startsWith("-")&&e.length>1&&(n=r,r=e[e.length-2]),!r.startsWith("-"))return;let i=r.replace(/^-+/,""),s=this.yargs.getOptions(),o=[i,...this.yargs.getAliases()[i]||[]],a;for(let u of o)if(Object.prototype.hasOwnProperty.call(s.key,u)&&Array.isArray(s.choices[u])){a=s.choices[u];break}if(a)return a.filter(u=>!n||u.startsWith(n))}previousArgHasChoices(e){let r=this.getPreviousArgChoices(e);return r!==void 0&&r.length>0}argsContainKey(e,r,n){let i=s=>e.indexOf((/^[^0-9]$/.test(s)?"-":"--")+s)!==-1;if(i(r)||n&&i(`no-${r}`))return!0;if(this.aliases){for(let s of this.aliases[r])if(i(s))return!0}return!1}completeOptionKey(e,r,n){var i,s,o;let a=this.usage.getDescriptions(),u=d=>/^--/.test(d),f=d=>/^[^0-9]$/.test(d),c=!u(n)&&f(e)?"-":"--";if(!this.zshShell)r.push(c+e);else{let d=(i=this===null||this===void 0?void 0:this.aliases)===null||i===void 0?void 0:i[e].find(h=>{let y=a[h];return typeof y=="string"&&y.length>0}),p=d?a[d]:void 0,l=(o=(s=a[e])!==null&&s!==void 0?s:p)!==null&&o!==void 0?o:"";r.push(c+`${e.replace(/:/g,"\\:")}:${l.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`)}}customCompletion(e,r,n,i){if(Or(this.customCompletionFunction,null,this.shim),L6(this.customCompletionFunction)){let s=this.customCompletionFunction(n,r);return yt(s)?s.then(o=>{this.shim.process.nextTick(()=>{i(null,o)})}).catch(o=>{this.shim.process.nextTick(()=>{i(o,void 0)})}):i(null,s)}else return N6(this.customCompletionFunction)?this.customCompletionFunction(n,r,(s=i)=>this.defaultCompletion(e,r,n,s),s=>{i(null,s)}):this.customCompletionFunction(n,r,s=>{i(null,s)})}getCompletion(e,r){let n=e.length?e[e.length-1]:"",i=this.yargs.parse(e,!0),s=this.customCompletionFunction?o=>this.customCompletion(e,o,n,r):o=>this.defaultCompletion(e,o,n,r);return yt(i)?i.then(s):s(i)}generateCompletionScript(e,r){let n=this.zshShell?OS:TS,i=this.shim.path.basename(e);return e.match(/\.js$/)&&(e=`./${e}`),n=n.replace(/{{app_name}}/g,i),n=n.replace(/{{completion_command}}/g,r),n.replace(/{{app_path}}/g,e)}registerFunction(e){this.customCompletionFunction=e}setParsed(e){this.aliases=e.aliases}};function RS(t,e,r,n){return new g0(t,e,r,n)}function L6(t){return t.length<3}function N6(t){return t.length>3}function BS(t,e){if(t.length===0)return e.length;if(e.length===0)return t.length;let r=[],n;for(n=0;n<=e.length;n++)r[n]=[n];let i;for(i=0;i<=t.length;i++)r[0][i]=i;for(n=1;n<=e.length;n++)for(i=1;i<=t.length;i++)e.charAt(n-1)===t.charAt(i-1)?r[n][i]=r[n-1][i-1]:n>1&&i>1&&e.charAt(n-2)===t.charAt(i-1)&&e.charAt(n-1)===t.charAt(i-2)?r[n][i]=r[n-2][i-2]+1:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[e.length][t.length]}var LS=["$0","--","_"];function NS(t,e,r){let n=r.y18n.__,i=r.y18n.__n,s={};s.nonOptionCount=function(d){let p=t.getDemandedCommands(),h=d._.length+(d["--"]?d["--"].length:0)-t.getInternalMethods().getContext().commands.length;p._&&(h<p._.min||h>p._.max)&&(h<p._.min?p._.minMsg!==void 0?e.fail(p._.minMsg?p._.minMsg.replace(/\$0/g,h.toString()).replace(/\$1/,p._.min.toString()):null):e.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",h,h.toString(),p._.min.toString())):h>p._.max&&(p._.maxMsg!==void 0?e.fail(p._.maxMsg?p._.maxMsg.replace(/\$0/g,h.toString()).replace(/\$1/,p._.max.toString()):null):e.fail(i("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",h,h.toString(),p._.max.toString()))))},s.positionalCount=function(d,p){p<d&&e.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",p,p+"",d+""))},s.requiredArguments=function(d,p){let l=null;for(let h of Object.keys(p))(!Object.prototype.hasOwnProperty.call(d,h)||typeof d[h]>"u")&&(l=l||{},l[h]=p[h]);if(l){let h=[];for(let g of Object.keys(l)){let v=l[g];v&&h.indexOf(v)<0&&h.push(v)}let y=h.length?`
${h.join(`
`)}`:"";e.fail(i("Missing required argument: %s","Missing required arguments: %s",Object.keys(l).length,Object.keys(l).join(", ")+y))}},s.unknownArguments=function(d,p,l,h,y=!0){var g;let v=t.getInternalMethods().getCommandInstance().getCommands(),b=[],x=t.getInternalMethods().getContext();if(Object.keys(d).forEach(E=>{!LS.includes(E)&&!Object.prototype.hasOwnProperty.call(l,E)&&!Object.prototype.hasOwnProperty.call(t.getInternalMethods().getParseContext(),E)&&!s.isValidAndSomeAliasIsNotNew(E,p)&&b.push(E)}),y&&(x.commands.length>0||v.length>0||h)&&d._.slice(x.commands.length).forEach(E=>{v.includes(""+E)||b.push(""+E)}),y){let S=((g=t.getDemandedCommands()._)===null||g===void 0?void 0:g.max)||0,F=x.commands.length+S;F<d._.length&&d._.slice(F).forEach(P=>{P=String(P),!x.commands.includes(P)&&!b.includes(P)&&b.push(P)})}b.length&&e.fail(i("Unknown argument: %s","Unknown arguments: %s",b.length,b.map(E=>E.trim()?E:`"${E}"`).join(", ")))},s.unknownCommands=function(d){let p=t.getInternalMethods().getCommandInstance().getCommands(),l=[],h=t.getInternalMethods().getContext();return(h.commands.length>0||p.length>0)&&d._.slice(h.commands.length).forEach(y=>{p.includes(""+y)||l.push(""+y)}),l.length>0?(e.fail(i("Unknown command: %s","Unknown commands: %s",l.length,l.join(", "))),!0):!1},s.isValidAndSomeAliasIsNotNew=function(d,p){if(!Object.prototype.hasOwnProperty.call(p,d))return!1;let l=t.parsed.newAliases;return[d,...p[d]].some(h=>!Object.prototype.hasOwnProperty.call(l,h)||!l[d])},s.limitedChoices=function(d){let p=t.getOptions(),l={};if(!Object.keys(p.choices).length)return;Object.keys(d).forEach(g=>{LS.indexOf(g)===-1&&Object.prototype.hasOwnProperty.call(p.choices,g)&&[].concat(d[g]).forEach(v=>{p.choices[g].indexOf(v)===-1&&v!==void 0&&(l[g]=(l[g]||[]).concat(v))})});let h=Object.keys(l);if(!h.length)return;let y=n("Invalid values:");h.forEach(g=>{y+=`
  ${n("Argument: %s, Given: %s, Choices: %s",g,e.stringifiedValues(l[g]),e.stringifiedValues(p.choices[g]))}`}),e.fail(y)};let o={};s.implies=function(d,p){Ie("<string|object> [array|number|string]",[d,p],arguments.length),typeof d=="object"?Object.keys(d).forEach(l=>{s.implies(l,d[l])}):(t.global(d),o[d]||(o[d]=[]),Array.isArray(p)?p.forEach(l=>s.implies(d,l)):(Or(p,void 0,r),o[d].push(p)))},s.getImplied=function(){return o};function a(c,d){let p=Number(d);return d=isNaN(p)?d:p,typeof d=="number"?d=c._.length>=d:d.match(/^--no-.+/)?(d=d.match(/^--no-(.+)/)[1],d=!Object.prototype.hasOwnProperty.call(c,d)):d=Object.prototype.hasOwnProperty.call(c,d),d}s.implications=function(d){let p=[];if(Object.keys(o).forEach(l=>{let h=l;(o[l]||[]).forEach(y=>{let g=h,v=y;g=a(d,g),y=a(d,y),g&&!y&&p.push(` ${h} -> ${v}`)})}),p.length){let l=`${n("Implications failed:")}
`;p.forEach(h=>{l+=h}),e.fail(l)}};let u={};s.conflicts=function(d,p){Ie("<string|object> [array|string]",[d,p],arguments.length),typeof d=="object"?Object.keys(d).forEach(l=>{s.conflicts(l,d[l])}):(t.global(d),u[d]||(u[d]=[]),Array.isArray(p)?p.forEach(l=>s.conflicts(d,l)):u[d].push(p))},s.getConflicting=()=>u,s.conflicting=function(d){Object.keys(d).forEach(p=>{u[p]&&u[p].forEach(l=>{l&&d[p]!==void 0&&d[l]!==void 0&&e.fail(n("Arguments %s and %s are mutually exclusive",p,l))})}),t.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(u).forEach(p=>{u[p].forEach(l=>{l&&d[r.Parser.camelCase(p)]!==void 0&&d[r.Parser.camelCase(l)]!==void 0&&e.fail(n("Arguments %s and %s are mutually exclusive",p,l))})})},s.recommendCommands=function(d,p){p=p.sort((g,v)=>v.length-g.length);let h=null,y=1/0;for(let g=0,v;(v=p[g])!==void 0;g++){let b=BS(d,v);b<=3&&b<y&&(y=b,h=v)}h&&e.fail(n("Did you mean %s?",h))},s.reset=function(d){return o=Ps(o,p=>!d[p]),u=Ps(u,p=>!d[p]),s};let f=[];return s.freeze=function(){f.push({implied:o,conflicting:u})},s.unfreeze=function(){let d=f.pop();Or(d,void 0,r),{implied:o,conflicting:u}=d},s}var y0=[],Ul;function yh(t,e,r,n){Ul=n;let i={};if(Object.prototype.hasOwnProperty.call(t,"extends")){if(typeof t.extends!="string")return i;let s=/\.json|\..*rc$/.test(t.extends),o=null;if(s)o=j6(e,t.extends);else try{o=require.resolve(t.extends)}catch{return t}M6(o),y0.push(o),i=s?JSON.parse(Ul.readFileSync(o,"utf8")):require(t.extends),delete t.extends,i=yh(i,Ul.path.dirname(o),r,Ul)}return y0=[],r?MS(i,t):Object.assign({},i,t)}function M6(t){if(y0.indexOf(t)>-1)throw new ht(`Circular extended configurations: '${t}'.`)}function j6(t,e){return Ul.path.resolve(t,e)}function MS(t,e){let r={};function n(i){return i&&typeof i=="object"&&!Array.isArray(i)}Object.assign(r,t);for(let i of Object.keys(e))n(e[i])&&n(r[i])?r[i]=MS(t[i],e[i]):r[i]=e[i];return r}var Te=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},O=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Mt,Do,ql,On,fn,vh,Os,Ao,Eh,Rn,bh,Bn,Ai,hn,Ln,wh,$a,Qt,Ne,xh,Ch,dn,Fo,Ua,_o,Rs,Sh,He,ko,Io,Po,We,Dh,Fi,Tt;function iD(t){return(e=[],r=t.process.cwd(),n)=>{let i=new _0(e,r,n,t);return Object.defineProperty(i,"argv",{get:()=>i.parse(),enumerable:!0}),i.help(),i.version(),i}}var jS=Symbol("copyDoubleDash"),$S=Symbol("copyDoubleDash"),v0=Symbol("deleteFromParserHintObject"),US=Symbol("emitWarning"),qS=Symbol("freeze"),VS=Symbol("getDollarZero"),To=Symbol("getParserConfiguration"),HS=Symbol("getUsageConfiguration"),E0=Symbol("guessLocale"),zS=Symbol("guessVersion"),WS=Symbol("parsePositionalNumbers"),b0=Symbol("pkgUp"),Bs=Symbol("populateParserHintArray"),qa=Symbol("populateParserHintSingleValueDictionary"),w0=Symbol("populateParserHintArrayDictionary"),x0=Symbol("populateParserHintDictionary"),C0=Symbol("sanitizeKey"),S0=Symbol("setKey"),D0=Symbol("unfreeze"),GS=Symbol("validateAsync"),JS=Symbol("getCommandInstance"),KS=Symbol("getContext"),XS=Symbol("getHasOutput"),YS=Symbol("getLoggerInstance"),ZS=Symbol("getParseContext"),QS=Symbol("getUsageInstance"),eD=Symbol("getValidationInstance"),Ah=Symbol("hasParseCallback"),tD=Symbol("isGlobalContext"),Oo=Symbol("postProcess"),rD=Symbol("rebase"),A0=Symbol("reset"),Vl=Symbol("runYargsParserAndExecuteCommands"),F0=Symbol("runValidation"),nD=Symbol("setHasOutput"),Ro=Symbol("kTrackManuallySetKeys"),_0=class{constructor(e=[],r,n,i){this.customScriptName=!1,this.parsed=!1,Mt.set(this,void 0),Do.set(this,void 0),ql.set(this,{commands:[],fullCommands:[]}),On.set(this,null),fn.set(this,null),vh.set(this,"show-hidden"),Os.set(this,null),Ao.set(this,!0),Eh.set(this,{}),Rn.set(this,!0),bh.set(this,[]),Bn.set(this,void 0),Ai.set(this,{}),hn.set(this,!1),Ln.set(this,null),wh.set(this,!0),$a.set(this,void 0),Qt.set(this,""),Ne.set(this,void 0),xh.set(this,void 0),Ch.set(this,{}),dn.set(this,null),Fo.set(this,null),Ua.set(this,{}),_o.set(this,{}),Rs.set(this,void 0),Sh.set(this,!1),He.set(this,void 0),ko.set(this,!1),Io.set(this,!1),Po.set(this,!1),We.set(this,void 0),Dh.set(this,{}),Fi.set(this,null),Tt.set(this,void 0),Te(this,He,i,"f"),Te(this,Rs,e,"f"),Te(this,Do,r,"f"),Te(this,xh,n,"f"),Te(this,Bn,new ph(this),"f"),this.$0=this[VS](),this[A0](),Te(this,Mt,O(this,Mt,"f"),"f"),Te(this,We,O(this,We,"f"),"f"),Te(this,Tt,O(this,Tt,"f"),"f"),Te(this,Ne,O(this,Ne,"f"),"f"),O(this,Ne,"f").showHiddenOpt=O(this,vh,"f"),Te(this,$a,this[$S](),"f")}addHelpOpt(e,r){let n="help";return Ie("[string|boolean] [string]",[e,r],arguments.length),O(this,Ln,"f")&&(this[v0](O(this,Ln,"f")),Te(this,Ln,null,"f")),e===!1&&r===void 0?this:(Te(this,Ln,typeof e=="string"?e:n,"f"),this.boolean(O(this,Ln,"f")),this.describe(O(this,Ln,"f"),r||O(this,We,"f").deferY18nLookup("Show help")),this)}help(e,r){return this.addHelpOpt(e,r)}addShowHiddenOpt(e,r){if(Ie("[string|boolean] [string]",[e,r],arguments.length),e===!1&&r===void 0)return this;let n=typeof e=="string"?e:O(this,vh,"f");return this.boolean(n),this.describe(n,r||O(this,We,"f").deferY18nLookup("Show hidden options")),O(this,Ne,"f").showHiddenOpt=n,this}showHidden(e,r){return this.addShowHiddenOpt(e,r)}alias(e,r){return Ie("<object|string|array> [string|array]",[e,r],arguments.length),this[w0](this.alias.bind(this),"alias",e,r),this}array(e){return Ie("<array|string>",[e],arguments.length),this[Bs]("array",e),this[Ro](e),this}boolean(e){return Ie("<array|string>",[e],arguments.length),this[Bs]("boolean",e),this[Ro](e),this}check(e,r){return Ie("<function> [boolean]",[e,r],arguments.length),this.middleware((n,i)=>So(()=>e(n,i.getOptions()),s=>(s?(typeof s=="string"||s instanceof Error)&&O(this,We,"f").fail(s.toString(),s):O(this,We,"f").fail(O(this,He,"f").y18n.__("Argument check failed: %s",e.toString())),n),s=>(O(this,We,"f").fail(s.message?s.message:s.toString(),s),n)),!1,r),this}choices(e,r){return Ie("<object|string|array> [string|array]",[e,r],arguments.length),this[w0](this.choices.bind(this),"choices",e,r),this}coerce(e,r){if(Ie("<object|string|array> [function]",[e,r],arguments.length),Array.isArray(e)){if(!r)throw new ht("coerce callback must be provided");for(let n of e)this.coerce(n,r);return this}else if(typeof e=="object"){for(let n of Object.keys(e))this.coerce(n,e[n]);return this}if(!r)throw new ht("coerce callback must be provided");return O(this,Ne,"f").key[e]=!0,O(this,Bn,"f").addCoerceMiddleware((n,i)=>{let s;return Object.prototype.hasOwnProperty.call(n,e)?So(()=>(s=i.getAliases(),r(n[e])),a=>{n[e]=a;let u=i.getInternalMethods().getParserConfiguration()["strip-aliased"];if(s[e]&&u!==!0)for(let f of s[e])n[f]=a;return n},a=>{throw new ht(a.message)}):n},e),this}conflicts(e,r){return Ie("<string|object> [string|array]",[e,r],arguments.length),O(this,Tt,"f").conflicts(e,r),this}config(e="config",r,n){return Ie("[object|string] [string|function] [function]",[e,r,n],arguments.length),typeof e=="object"&&!Array.isArray(e)?(e=yh(e,O(this,Do,"f"),this[To]()["deep-merge-config"]||!1,O(this,He,"f")),O(this,Ne,"f").configObjects=(O(this,Ne,"f").configObjects||[]).concat(e),this):(typeof r=="function"&&(n=r,r=void 0),this.describe(e,r||O(this,We,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(e)?e:[e]).forEach(i=>{O(this,Ne,"f").config[i]=n||!0}),this)}completion(e,r,n){return Ie("[string] [string|boolean|function] [function]",[e,r,n],arguments.length),typeof r=="function"&&(n=r,r=void 0),Te(this,fn,e||O(this,fn,"f")||"completion","f"),!r&&r!==!1&&(r="generate completion script"),this.command(O(this,fn,"f"),r),n&&O(this,On,"f").registerFunction(n),this}command(e,r,n,i,s,o){return Ie("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[e,r,n,i,s,o],arguments.length),O(this,Mt,"f").addHandler(e,r,n,i,s,o),this}commands(e,r,n,i,s,o){return this.command(e,r,n,i,s,o)}commandDir(e,r){Ie("<string> [object]",[e,r],arguments.length);let n=O(this,xh,"f")||O(this,He,"f").require;return O(this,Mt,"f").addDirectory(e,n,O(this,He,"f").getCallerFile(),r),this}count(e){return Ie("<array|string>",[e],arguments.length),this[Bs]("count",e),this[Ro](e),this}default(e,r,n){return Ie("<object|string|array> [*] [string]",[e,r,n],arguments.length),n&&(h0(e,O(this,He,"f")),O(this,Ne,"f").defaultDescription[e]=n),typeof r=="function"&&(h0(e,O(this,He,"f")),O(this,Ne,"f").defaultDescription[e]||(O(this,Ne,"f").defaultDescription[e]=O(this,We,"f").functionDescription(r)),r=r.call()),this[qa](this.default.bind(this),"default",e,r),this}defaults(e,r,n){return this.default(e,r,n)}demandCommand(e=1,r,n,i){return Ie("[number] [number|string] [string|null|undefined] [string|null|undefined]",[e,r,n,i],arguments.length),typeof r!="number"&&(n=r,r=1/0),this.global("_",!1),O(this,Ne,"f").demandedCommands._={min:e,max:r,minMsg:n,maxMsg:i},this}demand(e,r,n){return Array.isArray(r)?(r.forEach(i=>{Or(n,!0,O(this,He,"f")),this.demandOption(i,n)}),r=1/0):typeof r!="number"&&(n=r,r=1/0),typeof e=="number"?(Or(n,!0,O(this,He,"f")),this.demandCommand(e,r,n,n)):Array.isArray(e)?e.forEach(i=>{Or(n,!0,O(this,He,"f")),this.demandOption(i,n)}):typeof n=="string"?this.demandOption(e,n):(n===!0||typeof n>"u")&&this.demandOption(e),this}demandOption(e,r){return Ie("<object|string|array> [string]",[e,r],arguments.length),this[qa](this.demandOption.bind(this),"demandedOptions",e,r),this}deprecateOption(e,r){return Ie("<string> [string|boolean]",[e,r],arguments.length),O(this,Ne,"f").deprecatedOptions[e]=r,this}describe(e,r){return Ie("<object|string|array> [string]",[e,r],arguments.length),this[S0](e,!0),O(this,We,"f").describe(e,r),this}detectLocale(e){return Ie("<boolean>",[e],arguments.length),Te(this,Ao,e,"f"),this}env(e){return Ie("[string|boolean]",[e],arguments.length),e===!1?delete O(this,Ne,"f").envPrefix:O(this,Ne,"f").envPrefix=e||"",this}epilogue(e){return Ie("<string>",[e],arguments.length),O(this,We,"f").epilog(e),this}epilog(e){return this.epilogue(e)}example(e,r){return Ie("<string|array> [string]",[e,r],arguments.length),Array.isArray(e)?e.forEach(n=>this.example(...n)):O(this,We,"f").example(e,r),this}exit(e,r){Te(this,hn,!0,"f"),Te(this,Os,r,"f"),O(this,Rn,"f")&&O(this,He,"f").process.exit(e)}exitProcess(e=!0){return Ie("[boolean]",[e],arguments.length),Te(this,Rn,e,"f"),this}fail(e){if(Ie("<function|boolean>",[e],arguments.length),typeof e=="boolean"&&e!==!1)throw new ht("Invalid first argument. Expected function or boolean 'false'");return O(this,We,"f").failFn(e),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(e,r){return Ie("<array> [function]",[e,r],arguments.length),r?O(this,On,"f").getCompletion(e,r):new Promise((n,i)=>{O(this,On,"f").getCompletion(e,(s,o)=>{s?i(s):n(o)})})}getDemandedOptions(){return Ie([],0),O(this,Ne,"f").demandedOptions}getDemandedCommands(){return Ie([],0),O(this,Ne,"f").demandedCommands}getDeprecatedOptions(){return Ie([],0),O(this,Ne,"f").deprecatedOptions}getDetectLocale(){return O(this,Ao,"f")}getExitProcess(){return O(this,Rn,"f")}getGroups(){return Object.assign({},O(this,Ai,"f"),O(this,_o,"f"))}getHelp(){if(Te(this,hn,!0,"f"),!O(this,We,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[Vl](O(this,Rs,"f"),void 0,void 0,0,!0);if(yt(r))return r.then(()=>O(this,We,"f").help())}let e=O(this,Mt,"f").runDefaultBuilderOn(this);if(yt(e))return e.then(()=>O(this,We,"f").help())}return Promise.resolve(O(this,We,"f").help())}getOptions(){return O(this,Ne,"f")}getStrict(){return O(this,ko,"f")}getStrictCommands(){return O(this,Io,"f")}getStrictOptions(){return O(this,Po,"f")}global(e,r){return Ie("<string|array> [boolean]",[e,r],arguments.length),e=[].concat(e),r!==!1?O(this,Ne,"f").local=O(this,Ne,"f").local.filter(n=>e.indexOf(n)===-1):e.forEach(n=>{O(this,Ne,"f").local.includes(n)||O(this,Ne,"f").local.push(n)}),this}group(e,r){Ie("<string|array> <string>",[e,r],arguments.length);let n=O(this,_o,"f")[r]||O(this,Ai,"f")[r];O(this,_o,"f")[r]&&delete O(this,_o,"f")[r];let i={};return O(this,Ai,"f")[r]=(n||[]).concat(e).filter(s=>i[s]?!1:i[s]=!0),this}hide(e){return Ie("<string>",[e],arguments.length),O(this,Ne,"f").hiddenOptions.push(e),this}implies(e,r){return Ie("<string|object> [number|string|array]",[e,r],arguments.length),O(this,Tt,"f").implies(e,r),this}locale(e){return Ie("[string]",[e],arguments.length),e===void 0?(this[E0](),O(this,He,"f").y18n.getLocale()):(Te(this,Ao,!1,"f"),O(this,He,"f").y18n.setLocale(e),this)}middleware(e,r,n){return O(this,Bn,"f").addMiddleware(e,!!r,n)}nargs(e,r){return Ie("<string|object|array> [number]",[e,r],arguments.length),this[qa](this.nargs.bind(this),"narg",e,r),this}normalize(e){return Ie("<array|string>",[e],arguments.length),this[Bs]("normalize",e),this}number(e){return Ie("<array|string>",[e],arguments.length),this[Bs]("number",e),this[Ro](e),this}option(e,r){if(Ie("<string|object> [object]",[e,r],arguments.length),typeof e=="object")Object.keys(e).forEach(n=>{this.options(n,e[n])});else{typeof r!="object"&&(r={}),this[Ro](e),O(this,Fi,"f")&&(e==="version"||(r==null?void 0:r.alias)==="version")&&this[US](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),O(this,Ne,"f").key[e]=!0,r.alias&&this.alias(e,r.alias);let n=r.deprecate||r.deprecated;n&&this.deprecateOption(e,n);let i=r.demand||r.required||r.require;i&&this.demand(e,i),r.demandOption&&this.demandOption(e,typeof r.demandOption=="string"?r.demandOption:void 0),r.conflicts&&this.conflicts(e,r.conflicts),"default"in r&&this.default(e,r.default),r.implies!==void 0&&this.implies(e,r.implies),r.nargs!==void 0&&this.nargs(e,r.nargs),r.config&&this.config(e,r.configParser),r.normalize&&this.normalize(e),r.choices&&this.choices(e,r.choices),r.coerce&&this.coerce(e,r.coerce),r.group&&this.group(e,r.group),(r.boolean||r.type==="boolean")&&(this.boolean(e),r.alias&&this.boolean(r.alias)),(r.array||r.type==="array")&&(this.array(e),r.alias&&this.array(r.alias)),(r.number||r.type==="number")&&(this.number(e),r.alias&&this.number(r.alias)),(r.string||r.type==="string")&&(this.string(e),r.alias&&this.string(r.alias)),(r.count||r.type==="count")&&this.count(e),typeof r.global=="boolean"&&this.global(e,r.global),r.defaultDescription&&(O(this,Ne,"f").defaultDescription[e]=r.defaultDescription),r.skipValidation&&this.skipValidation(e);let s=r.describe||r.description||r.desc,o=O(this,We,"f").getDescriptions();(!Object.prototype.hasOwnProperty.call(o,e)||typeof s=="string")&&this.describe(e,s),r.hidden&&this.hide(e),r.requiresArg&&this.requiresArg(e)}return this}options(e,r){return this.option(e,r)}parse(e,r,n){Ie("[string|array] [function|boolean|object] [function]",[e,r,n],arguments.length),this[qS](),typeof e>"u"&&(e=O(this,Rs,"f")),typeof r=="object"&&(Te(this,Fo,r,"f"),r=n),typeof r=="function"&&(Te(this,dn,r,"f"),r=!1),r||Te(this,Rs,e,"f"),O(this,dn,"f")&&Te(this,Rn,!1,"f");let i=this[Vl](e,!!r),s=this.parsed;return O(this,On,"f").setParsed(this.parsed),yt(i)?i.then(o=>(O(this,dn,"f")&&O(this,dn,"f").call(this,O(this,Os,"f"),o,O(this,Qt,"f")),o)).catch(o=>{throw O(this,dn,"f")&&O(this,dn,"f")(o,this.parsed.argv,O(this,Qt,"f")),o}).finally(()=>{this[D0](),this.parsed=s}):(O(this,dn,"f")&&O(this,dn,"f").call(this,O(this,Os,"f"),i,O(this,Qt,"f")),this[D0](),this.parsed=s,i)}parseAsync(e,r,n){let i=this.parse(e,r,n);return yt(i)?i:Promise.resolve(i)}parseSync(e,r,n){let i=this.parse(e,r,n);if(yt(i))throw new ht(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(e){return Ie("<object>",[e],arguments.length),Te(this,Ch,e,"f"),this}pkgConf(e,r){Ie("<string> [string]",[e,r],arguments.length);let n=null,i=this[b0](r||O(this,Do,"f"));return i[e]&&typeof i[e]=="object"&&(n=yh(i[e],r||O(this,Do,"f"),this[To]()["deep-merge-config"]||!1,O(this,He,"f")),O(this,Ne,"f").configObjects=(O(this,Ne,"f").configObjects||[]).concat(n)),this}positional(e,r){Ie("<string> <object>",[e,r],arguments.length);let n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];r=Ps(r,(o,a)=>o==="type"&&!["string","number","boolean"].includes(a)?!1:n.includes(o));let i=O(this,ql,"f").fullCommands[O(this,ql,"f").fullCommands.length-1],s=i?O(this,Mt,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return Ma(s).forEach(o=>{let a=s[o];Array.isArray(a)?a.indexOf(e)!==-1&&(r[o]=!0):a[e]&&!(o in r)&&(r[o]=a[e])}),this.group(e,O(this,We,"f").getPositionalGroupName()),this.option(e,r)}recommendCommands(e=!0){return Ie("[boolean]",[e],arguments.length),Te(this,Sh,e,"f"),this}required(e,r,n){return this.demand(e,r,n)}require(e,r,n){return this.demand(e,r,n)}requiresArg(e){return Ie("<array|string|object> [number]",[e],arguments.length),typeof e=="string"&&O(this,Ne,"f").narg[e]?this:(this[qa](this.requiresArg.bind(this),"narg",e,NaN),this)}showCompletionScript(e,r){return Ie("[string] [string]",[e,r],arguments.length),e=e||this.$0,O(this,$a,"f").log(O(this,On,"f").generateCompletionScript(e,r||O(this,fn,"f")||"completion")),this}showHelp(e){if(Ie("[string|function]",[e],arguments.length),Te(this,hn,!0,"f"),!O(this,We,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[Vl](O(this,Rs,"f"),void 0,void 0,0,!0);if(yt(n))return n.then(()=>{O(this,We,"f").showHelp(e)}),this}let r=O(this,Mt,"f").runDefaultBuilderOn(this);if(yt(r))return r.then(()=>{O(this,We,"f").showHelp(e)}),this}return O(this,We,"f").showHelp(e),this}scriptName(e){return this.customScriptName=!0,this.$0=e,this}showHelpOnFail(e,r){return Ie("[boolean|string] [string]",[e,r],arguments.length),O(this,We,"f").showHelpOnFail(e,r),this}showVersion(e){return Ie("[string|function]",[e],arguments.length),O(this,We,"f").showVersion(e),this}skipValidation(e){return Ie("<array|string>",[e],arguments.length),this[Bs]("skipValidation",e),this}strict(e){return Ie("[boolean]",[e],arguments.length),Te(this,ko,e!==!1,"f"),this}strictCommands(e){return Ie("[boolean]",[e],arguments.length),Te(this,Io,e!==!1,"f"),this}strictOptions(e){return Ie("[boolean]",[e],arguments.length),Te(this,Po,e!==!1,"f"),this}string(e){return Ie("<array|string>",[e],arguments.length),this[Bs]("string",e),this[Ro](e),this}terminalWidth(){return Ie([],0),O(this,He,"f").process.stdColumns}updateLocale(e){return this.updateStrings(e)}updateStrings(e){return Ie("<object>",[e],arguments.length),Te(this,Ao,!1,"f"),O(this,He,"f").y18n.updateLocale(e),this}usage(e,r,n,i){if(Ie("<string|null|undefined> [string|boolean] [function|object] [function]",[e,r,n,i],arguments.length),r!==void 0){if(Or(e,null,O(this,He,"f")),(e||"").match(/^\$0( |$)/))return this.command(e,r,n,i);throw new ht(".usage() description must start with $0 if being used as alias for .command()")}else return O(this,We,"f").usage(e),this}usageConfiguration(e){return Ie("<object>",[e],arguments.length),Te(this,Dh,e,"f"),this}version(e,r,n){let i="version";if(Ie("[boolean|string] [string] [string]",[e,r,n],arguments.length),O(this,Fi,"f")&&(this[v0](O(this,Fi,"f")),O(this,We,"f").version(void 0),Te(this,Fi,null,"f")),arguments.length===0)n=this[zS](),e=i;else if(arguments.length===1){if(e===!1)return this;n=e,e=i}else arguments.length===2&&(n=r,r=void 0);return Te(this,Fi,typeof e=="string"?e:i,"f"),r=r||O(this,We,"f").deferY18nLookup("Show version number"),O(this,We,"f").version(n||void 0),this.boolean(O(this,Fi,"f")),this.describe(O(this,Fi,"f"),r),this}wrap(e){return Ie("<number|null|undefined>",[e],arguments.length),O(this,We,"f").wrap(e),this}[(Mt=new WeakMap,Do=new WeakMap,ql=new WeakMap,On=new WeakMap,fn=new WeakMap,vh=new WeakMap,Os=new WeakMap,Ao=new WeakMap,Eh=new WeakMap,Rn=new WeakMap,bh=new WeakMap,Bn=new WeakMap,Ai=new WeakMap,hn=new WeakMap,Ln=new WeakMap,wh=new WeakMap,$a=new WeakMap,Qt=new WeakMap,Ne=new WeakMap,xh=new WeakMap,Ch=new WeakMap,dn=new WeakMap,Fo=new WeakMap,Ua=new WeakMap,_o=new WeakMap,Rs=new WeakMap,Sh=new WeakMap,He=new WeakMap,ko=new WeakMap,Io=new WeakMap,Po=new WeakMap,We=new WeakMap,Dh=new WeakMap,Fi=new WeakMap,Tt=new WeakMap,jS)](e){if(!e._||!e["--"])return e;e._.push.apply(e._,e["--"]);try{delete e["--"]}catch{}return e}[$S](){return{log:(...e)=>{this[Ah]()||console.log(...e),Te(this,hn,!0,"f"),O(this,Qt,"f").length&&Te(this,Qt,O(this,Qt,"f")+`
`,"f"),Te(this,Qt,O(this,Qt,"f")+e.join(" "),"f")},error:(...e)=>{this[Ah]()||console.error(...e),Te(this,hn,!0,"f"),O(this,Qt,"f").length&&Te(this,Qt,O(this,Qt,"f")+`
`,"f"),Te(this,Qt,O(this,Qt,"f")+e.join(" "),"f")}}}[v0](e){Ma(O(this,Ne,"f")).forEach(r=>{if((i=>i==="configObjects")(r))return;let n=O(this,Ne,"f")[r];Array.isArray(n)?n.includes(e)&&n.splice(n.indexOf(e),1):typeof n=="object"&&delete n[e]}),delete O(this,We,"f").getDescriptions()[e]}[US](e,r,n){O(this,Eh,"f")[n]||(O(this,He,"f").process.emitWarning(e,r),O(this,Eh,"f")[n]=!0)}[qS](){O(this,bh,"f").push({options:O(this,Ne,"f"),configObjects:O(this,Ne,"f").configObjects.slice(0),exitProcess:O(this,Rn,"f"),groups:O(this,Ai,"f"),strict:O(this,ko,"f"),strictCommands:O(this,Io,"f"),strictOptions:O(this,Po,"f"),completionCommand:O(this,fn,"f"),output:O(this,Qt,"f"),exitError:O(this,Os,"f"),hasOutput:O(this,hn,"f"),parsed:this.parsed,parseFn:O(this,dn,"f"),parseContext:O(this,Fo,"f")}),O(this,We,"f").freeze(),O(this,Tt,"f").freeze(),O(this,Mt,"f").freeze(),O(this,Bn,"f").freeze()}[VS](){let e="",r;return/\b(node|iojs|electron)(\.exe)?$/.test(O(this,He,"f").process.argv()[0])?r=O(this,He,"f").process.argv().slice(1,2):r=O(this,He,"f").process.argv().slice(0,1),e=r.map(n=>{let i=this[rD](O(this,Do,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<n.length?i:n}).join(" ").trim(),O(this,He,"f").getEnv("_")&&O(this,He,"f").getProcessArgvBin()===O(this,He,"f").getEnv("_")&&(e=O(this,He,"f").getEnv("_").replace(`${O(this,He,"f").path.dirname(O(this,He,"f").process.execPath())}/`,"")),e}[To](){return O(this,Ch,"f")}[HS](){return O(this,Dh,"f")}[E0](){if(!O(this,Ao,"f"))return;let e=O(this,He,"f").getEnv("LC_ALL")||O(this,He,"f").getEnv("LC_MESSAGES")||O(this,He,"f").getEnv("LANG")||O(this,He,"f").getEnv("LANGUAGE")||"en_US";this.locale(e.replace(/[.:].*/,""))}[zS](){return this[b0]().version||"unknown"}[WS](e){let r=e["--"]?e["--"]:e._;for(let n=0,i;(i=r[n])!==void 0;n++)O(this,He,"f").Parser.looksLikeNumber(i)&&Number.isSafeInteger(Math.floor(parseFloat(`${i}`)))&&(r[n]=Number(i));return e}[b0](e){let r=e||"*";if(O(this,Ua,"f")[r])return O(this,Ua,"f")[r];let n={};try{let i=e||O(this,He,"f").mainFilename;!e&&O(this,He,"f").path.extname(i)&&(i=O(this,He,"f").path.dirname(i));let s=O(this,He,"f").findUp(i,(o,a)=>{if(a.includes("package.json"))return"package.json"});Or(s,void 0,O(this,He,"f")),n=JSON.parse(O(this,He,"f").readFileSync(s,"utf8"))}catch{}return O(this,Ua,"f")[r]=n||{},O(this,Ua,"f")[r]}[Bs](e,r){r=[].concat(r),r.forEach(n=>{n=this[C0](n),O(this,Ne,"f")[e].push(n)})}[qa](e,r,n,i){this[x0](e,r,n,i,(s,o,a)=>{O(this,Ne,"f")[s][o]=a})}[w0](e,r,n,i){this[x0](e,r,n,i,(s,o,a)=>{O(this,Ne,"f")[s][o]=(O(this,Ne,"f")[s][o]||[]).concat(a)})}[x0](e,r,n,i,s){if(Array.isArray(n))n.forEach(o=>{e(o,i)});else if((o=>typeof o=="object")(n))for(let o of Ma(n))e(o,n[o]);else s(r,this[C0](n),i)}[C0](e){return e==="__proto__"?"___proto___":e}[S0](e,r){return this[qa](this[S0].bind(this),"key",e,r),this}[D0](){var e,r,n,i,s,o,a,u,f,c,d,p;let l=O(this,bh,"f").pop();Or(l,void 0,O(this,He,"f"));let h;e=this,r=this,n=this,i=this,s=this,o=this,a=this,u=this,f=this,c=this,d=this,p=this,{options:{set value(y){Te(e,Ne,y,"f")}}.value,configObjects:h,exitProcess:{set value(y){Te(r,Rn,y,"f")}}.value,groups:{set value(y){Te(n,Ai,y,"f")}}.value,output:{set value(y){Te(i,Qt,y,"f")}}.value,exitError:{set value(y){Te(s,Os,y,"f")}}.value,hasOutput:{set value(y){Te(o,hn,y,"f")}}.value,parsed:this.parsed,strict:{set value(y){Te(a,ko,y,"f")}}.value,strictCommands:{set value(y){Te(u,Io,y,"f")}}.value,strictOptions:{set value(y){Te(f,Po,y,"f")}}.value,completionCommand:{set value(y){Te(c,fn,y,"f")}}.value,parseFn:{set value(y){Te(d,dn,y,"f")}}.value,parseContext:{set value(y){Te(p,Fo,y,"f")}}.value}=l,O(this,Ne,"f").configObjects=h,O(this,We,"f").unfreeze(),O(this,Tt,"f").unfreeze(),O(this,Mt,"f").unfreeze(),O(this,Bn,"f").unfreeze()}[GS](e,r){return So(r,n=>(e(n),n))}getInternalMethods(){return{getCommandInstance:this[JS].bind(this),getContext:this[KS].bind(this),getHasOutput:this[XS].bind(this),getLoggerInstance:this[YS].bind(this),getParseContext:this[ZS].bind(this),getParserConfiguration:this[To].bind(this),getUsageConfiguration:this[HS].bind(this),getUsageInstance:this[QS].bind(this),getValidationInstance:this[eD].bind(this),hasParseCallback:this[Ah].bind(this),isGlobalContext:this[tD].bind(this),postProcess:this[Oo].bind(this),reset:this[A0].bind(this),runValidation:this[F0].bind(this),runYargsParserAndExecuteCommands:this[Vl].bind(this),setHasOutput:this[nD].bind(this)}}[JS](){return O(this,Mt,"f")}[KS](){return O(this,ql,"f")}[XS](){return O(this,hn,"f")}[YS](){return O(this,$a,"f")}[ZS](){return O(this,Fo,"f")||{}}[QS](){return O(this,We,"f")}[eD](){return O(this,Tt,"f")}[Ah](){return!!O(this,dn,"f")}[tD](){return O(this,wh,"f")}[Oo](e,r,n,i){return n||yt(e)||(r||(e=this[jS](e)),(this[To]()["parse-positional-numbers"]||this[To]()["parse-positional-numbers"]===void 0)&&(e=this[WS](e)),i&&(e=Co(e,this,O(this,Bn,"f").getMiddleware(),!1))),e}[A0](e={}){Te(this,Ne,O(this,Ne,"f")||{},"f");let r={};r.local=O(this,Ne,"f").local||[],r.configObjects=O(this,Ne,"f").configObjects||[];let n={};r.local.forEach(o=>{n[o]=!0,(e[o]||[]).forEach(a=>{n[a]=!0})}),Object.assign(O(this,_o,"f"),Object.keys(O(this,Ai,"f")).reduce((o,a)=>{let u=O(this,Ai,"f")[a].filter(f=>!(f in n));return u.length>0&&(o[a]=u),o},{})),Te(this,Ai,{},"f");let i=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],s=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return i.forEach(o=>{r[o]=(O(this,Ne,"f")[o]||[]).filter(a=>!n[a])}),s.forEach(o=>{r[o]=Ps(O(this,Ne,"f")[o],a=>!n[a])}),r.envPrefix=O(this,Ne,"f").envPrefix,Te(this,Ne,r,"f"),Te(this,We,O(this,We,"f")?O(this,We,"f").reset(n):PS(this,O(this,He,"f")),"f"),Te(this,Tt,O(this,Tt,"f")?O(this,Tt,"f").reset(n):NS(this,O(this,We,"f"),O(this,He,"f")),"f"),Te(this,Mt,O(this,Mt,"f")?O(this,Mt,"f").reset():_S(O(this,We,"f"),O(this,Tt,"f"),O(this,Bn,"f"),O(this,He,"f")),"f"),O(this,On,"f")||Te(this,On,RS(this,O(this,We,"f"),O(this,Mt,"f"),O(this,He,"f")),"f"),O(this,Bn,"f").reset(),Te(this,fn,null,"f"),Te(this,Qt,"","f"),Te(this,Os,null,"f"),Te(this,hn,!1,"f"),this.parsed=!1,this}[rD](e,r){return O(this,He,"f").path.relative(e,r)}[Vl](e,r,n,i=0,s=!1){let o=!!n||s;e=e||O(this,Rs,"f"),O(this,Ne,"f").__=O(this,He,"f").y18n.__,O(this,Ne,"f").configuration=this[To]();let a=!!O(this,Ne,"f").configuration["populate--"],u=Object.assign({},O(this,Ne,"f").configuration,{"populate--":!0}),f=O(this,He,"f").Parser.detailed(e,Object.assign({},O(this,Ne,"f"),{configuration:{"parse-positional-numbers":!1,...u}})),c=Object.assign(f.argv,O(this,Fo,"f")),d,p=f.aliases,l=!1,h=!1;Object.keys(c).forEach(y=>{y===O(this,Ln,"f")&&c[y]?l=!0:y===O(this,Fi,"f")&&c[y]&&(h=!0)}),c.$0=this.$0,this.parsed=f,i===0&&O(this,We,"f").clearCachedHelpMessage();try{if(this[E0](),r)return this[Oo](c,a,!!n,!1);O(this,Ln,"f")&&[O(this,Ln,"f")].concat(p[O(this,Ln,"f")]||[]).filter(x=>x.length>1).includes(""+c._[c._.length-1])&&(c._.pop(),l=!0),Te(this,wh,!1,"f");let y=O(this,Mt,"f").getCommands(),g=O(this,On,"f").completionKey in c,v=l||g||s;if(c._.length){if(y.length){let b;for(let x=i||0,E;c._[x]!==void 0;x++)if(E=String(c._[x]),y.includes(E)&&E!==O(this,fn,"f")){let S=O(this,Mt,"f").runCommand(E,this,f,x+1,s,l||h||s);return this[Oo](S,a,!!n,!1)}else if(!b&&E!==O(this,fn,"f")){b=E;break}!O(this,Mt,"f").hasDefaultCommand()&&O(this,Sh,"f")&&b&&!v&&O(this,Tt,"f").recommendCommands(b,y)}O(this,fn,"f")&&c._.includes(O(this,fn,"f"))&&!g&&(O(this,Rn,"f")&&Ts(!0),this.showCompletionScript(),this.exit(0))}if(O(this,Mt,"f").hasDefaultCommand()&&!v){let b=O(this,Mt,"f").runCommand(null,this,f,0,s,l||h||s);return this[Oo](b,a,!!n,!1)}if(g){O(this,Rn,"f")&&Ts(!0),e=[].concat(e);let b=e.slice(e.indexOf(`--${O(this,On,"f").completionKey}`)+1);return O(this,On,"f").getCompletion(b,(x,E)=>{if(x)throw new ht(x.message);(E||[]).forEach(S=>{O(this,$a,"f").log(S)}),this.exit(0)}),this[Oo](c,!a,!!n,!1)}if(O(this,hn,"f")||(l?(O(this,Rn,"f")&&Ts(!0),o=!0,this.showHelp("log"),this.exit(0)):h&&(O(this,Rn,"f")&&Ts(!0),o=!0,O(this,We,"f").showVersion("log"),this.exit(0))),!o&&O(this,Ne,"f").skipValidation.length>0&&(o=Object.keys(c).some(b=>O(this,Ne,"f").skipValidation.indexOf(b)>=0&&c[b]===!0)),!o){if(f.error)throw new ht(f.error.message);if(!g){let b=this[F0](p,{},f.error);n||(d=Co(c,this,O(this,Bn,"f").getMiddleware(),!0)),d=this[GS](b,d??c),yt(d)&&!n&&(d=d.then(()=>Co(c,this,O(this,Bn,"f").getMiddleware(),!1)))}}}catch(y){if(y instanceof ht)O(this,We,"f").fail(y.message,y);else throw y}return this[Oo](d??c,a,!!n,!0)}[F0](e,r,n,i){let s={...this.getDemandedOptions()};return o=>{if(n)throw new ht(n.message);O(this,Tt,"f").nonOptionCount(o),O(this,Tt,"f").requiredArguments(o,s);let a=!1;O(this,Io,"f")&&(a=O(this,Tt,"f").unknownCommands(o)),O(this,ko,"f")&&!a?O(this,Tt,"f").unknownArguments(o,e,r,!!i):O(this,Po,"f")&&O(this,Tt,"f").unknownArguments(o,e,{},!1,!1),O(this,Tt,"f").limitedChoices(o),O(this,Tt,"f").implications(o),O(this,Tt,"f").conflicting(o)}}[nD](){Te(this,hn,!0,"f")}[Ro](e){if(typeof e=="string")O(this,Ne,"f").key[e]=!0;else for(let r of e)O(this,Ne,"f").key[r]=!0}};function kS(t){return!!t&&typeof t.getInternalMethods=="function"}var $6=iD(CS),sD=$6;function zl(t,e=!1){let r=t.length,n=0,i="",s=0,o=16,a=0,u=0,f=0,c=0,d=0;function p(x,E){let S=0,F=0;for(;S<x||!E;){let P=t.charCodeAt(n);if(P>=48&&P<=57)F=F*16+P-48;else if(P>=65&&P<=70)F=F*16+P-65+10;else if(P>=97&&P<=102)F=F*16+P-97+10;else break;n++,S++}return S<x&&(F=-1),F}function l(x){n=x,i="",s=0,o=16,d=0}function h(){let x=n;if(t.charCodeAt(n)===48)n++;else for(n++;n<t.length&&Va(t.charCodeAt(n));)n++;if(n<t.length&&t.charCodeAt(n)===46)if(n++,n<t.length&&Va(t.charCodeAt(n)))for(n++;n<t.length&&Va(t.charCodeAt(n));)n++;else return d=3,t.substring(x,n);let E=n;if(n<t.length&&(t.charCodeAt(n)===69||t.charCodeAt(n)===101))if(n++,(n<t.length&&t.charCodeAt(n)===43||t.charCodeAt(n)===45)&&n++,n<t.length&&Va(t.charCodeAt(n))){for(n++;n<t.length&&Va(t.charCodeAt(n));)n++;E=n}else d=3;return t.substring(x,E)}function y(){let x="",E=n;for(;;){if(n>=r){x+=t.substring(E,n),d=2;break}let S=t.charCodeAt(n);if(S===34){x+=t.substring(E,n),n++;break}if(S===92){if(x+=t.substring(E,n),n++,n>=r){d=2;break}switch(t.charCodeAt(n++)){case 34:x+='"';break;case 92:x+="\\";break;case 47:x+="/";break;case 98:x+="\b";break;case 102:x+="\f";break;case 110:x+=`
`;break;case 114:x+="\r";break;case 116:x+="	";break;case 117:let P=p(4,!0);P>=0?x+=String.fromCharCode(P):d=4;break;default:d=5}E=n;continue}if(S>=0&&S<=31)if(Hl(S)){x+=t.substring(E,n),d=2;break}else d=6;n++}return x}function g(){if(i="",d=0,s=n,u=a,c=f,n>=r)return s=r,o=17;let x=t.charCodeAt(n);if(k0(x)){do n++,i+=String.fromCharCode(x),x=t.charCodeAt(n);while(k0(x));return o=15}if(Hl(x))return n++,i+=String.fromCharCode(x),x===13&&t.charCodeAt(n)===10&&(n++,i+=`
`),a++,f=n,o=14;switch(x){case 123:return n++,o=1;case 125:return n++,o=2;case 91:return n++,o=3;case 93:return n++,o=4;case 58:return n++,o=6;case 44:return n++,o=5;case 34:return n++,i=y(),o=10;case 47:let E=n-1;if(t.charCodeAt(n+1)===47){for(n+=2;n<r&&!Hl(t.charCodeAt(n));)n++;return i=t.substring(E,n),o=12}if(t.charCodeAt(n+1)===42){n+=2;let S=r-1,F=!1;for(;n<S;){let P=t.charCodeAt(n);if(P===42&&t.charCodeAt(n+1)===47){n+=2,F=!0;break}n++,Hl(P)&&(P===13&&t.charCodeAt(n)===10&&n++,a++,f=n)}return F||(n++,d=1),i=t.substring(E,n),o=13}return i+=String.fromCharCode(x),n++,o=16;case 45:if(i+=String.fromCharCode(x),n++,n===r||!Va(t.charCodeAt(n)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=h(),o=11;default:for(;n<r&&v(x);)n++,x=t.charCodeAt(n);if(s!==n){switch(i=t.substring(s,n),i){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return i+=String.fromCharCode(x),n++,o=16}}function v(x){if(k0(x)||Hl(x))return!1;switch(x){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function b(){let x;do x=g();while(x>=12&&x<=15);return x}return{setPosition:l,getPosition:()=>n,scan:e?b:g,getToken:()=>o,getTokenValue:()=>i,getTokenOffset:()=>s,getTokenLength:()=>n-s,getTokenStartLine:()=>u,getTokenStartCharacter:()=>s-c,getTokenError:()=>d}}function k0(t){return t===32||t===9}function Hl(t){return t===10||t===13}function Va(t){return t>=48&&t<=57}var oD;(function(t){t[t.lineFeed=10]="lineFeed",t[t.carriageReturn=13]="carriageReturn",t[t.space=32]="space",t[t._0=48]="_0",t[t._1=49]="_1",t[t._2=50]="_2",t[t._3=51]="_3",t[t._4=52]="_4",t[t._5=53]="_5",t[t._6=54]="_6",t[t._7=55]="_7",t[t._8=56]="_8",t[t._9=57]="_9",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.asterisk=42]="asterisk",t[t.backslash=92]="backslash",t[t.closeBrace=125]="closeBrace",t[t.closeBracket=93]="closeBracket",t[t.colon=58]="colon",t[t.comma=44]="comma",t[t.dot=46]="dot",t[t.doubleQuote=34]="doubleQuote",t[t.minus=45]="minus",t[t.openBrace=123]="openBrace",t[t.openBracket=91]="openBracket",t[t.plus=43]="plus",t[t.slash=47]="slash",t[t.formFeed=12]="formFeed",t[t.tab=9]="tab"})(oD||(oD={}));function I0(t,e,r){let n,i,s,o,a;if(e){for(o=e.offset,a=o+e.length,s=o;s>0&&!Wl(t,s-1);)s--;let x=a;for(;x<t.length&&!Wl(t,x);)x++;i=t.substring(s,x),n=q6(i,r)}else i=t,n=0,s=0,o=0,a=t.length;let u=V6(r,t),f=0,c=0,d;r.insertSpaces?d=Ha(" ",r.tabSize||4):d="	";let p=zl(i,!1),l=!1;function h(){return f>1?Ha(u,f)+Ha(d,n+c):u+Ha(d,n+c)}function y(){let x=p.scan();for(f=0;x===15||x===14;)x===14&&r.keepLines?f+=1:x===14&&(f=1),x=p.scan();return l=x===16||p.getTokenError()!==0,x}let g=[];function v(x,E,S){!l&&(!e||E<a&&S>o)&&t.substring(E,S)!==x&&g.push({offset:E,length:S-E,content:x})}let b=y();if(r.keepLines&&f>0&&v(Ha(u,f),0,0),b!==17){let x=p.getTokenOffset()+s,E=Ha(d,n);v(E,s,x)}for(;b!==17;){let x=p.getTokenOffset()+p.getTokenLength()+s,E=y(),S="",F=!1;for(;f===0&&(E===12||E===13);){let V=p.getTokenOffset()+s;v(" ",x,V),x=p.getTokenOffset()+p.getTokenLength()+s,F=E===12,S=F?h():"",E=y()}if(E===2)b!==1&&c--,r.keepLines&&f>0||!r.keepLines&&b!==1?S=h():r.keepLines&&(S=" ");else if(E===4)b!==3&&c--,r.keepLines&&f>0||!r.keepLines&&b!==3?S=h():r.keepLines&&(S=" ");else{switch(b){case 3:case 1:c++,r.keepLines&&f>0||!r.keepLines?S=h():S=" ";break;case 5:r.keepLines&&f>0||!r.keepLines?S=h():S=" ";break;case 12:S=h();break;case 13:f>0?S=h():F||(S=" ");break;case 6:r.keepLines&&f>0?S=h():F||(S=" ");break;case 10:r.keepLines&&f>0?S=h():E===6&&!F&&(S="");break;case 7:case 8:case 9:case 11:case 2:case 4:r.keepLines&&f>0?S=h():(E===12||E===13)&&!F?S=" ":E!==5&&E!==17&&(l=!0);break;case 16:l=!0;break}f>0&&(E===12||E===13)&&(S=h())}E===17&&(r.keepLines&&f>0?S=h():S=r.insertFinalNewline?u:"");let P=p.getTokenOffset()+s;v(S,x,P),b=E}return g}function Ha(t,e){let r="";for(let n=0;n<e;n++)r+=t;return r}function q6(t,e){let r=0,n=0,i=e.tabSize||4;for(;r<t.length;){let s=t.charAt(r);if(s===" ")n++;else if(s==="	")n+=i;else break;r++}return Math.floor(n/i)}function V6(t,e){for(let r=0;r<e.length;r++){let n=e.charAt(r);if(n==="\r")return r+1<e.length&&e.charAt(r+1)===`
`?`\r
`:"\r";if(n===`
`)return`
`}return t&&t.eol||`
`}function Wl(t,e){return`\r
`.indexOf(t.charAt(e))!==-1}var Gl;(function(t){t.DEFAULT={allowTrailingComma:!1}})(Gl||(Gl={}));function aD(t,e=[],r=Gl.DEFAULT){let n=null,i=[],s=[];function o(u){Array.isArray(i)?i.push(u):n!==null&&(i[n]=u)}return T0(t,{onObjectBegin:()=>{let u={};o(u),s.push(i),i=u,n=null},onObjectProperty:u=>{n=u},onObjectEnd:()=>{i=s.pop()},onArrayBegin:()=>{let u=[];o(u),s.push(i),i=u,n=null},onArrayEnd:()=>{i=s.pop()},onLiteralValue:o,onError:(u,f,c)=>{e.push({error:u,offset:f,length:c})}},r),i[0]}function P0(t,e=[],r=Gl.DEFAULT){let n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(u){n.type==="property"&&(n.length=u-n.offset,n=n.parent)}function s(u){return n.children.push(u),u}T0(t,{onObjectBegin:u=>{n=s({type:"object",offset:u,length:-1,parent:n,children:[]})},onObjectProperty:(u,f,c)=>{n=s({type:"property",offset:f,length:-1,parent:n,children:[]}),n.children.push({type:"string",value:u,offset:f,length:c,parent:n})},onObjectEnd:(u,f)=>{i(u+f),n.length=u+f-n.offset,n=n.parent,i(u+f)},onArrayBegin:(u,f)=>{n=s({type:"array",offset:u,length:-1,parent:n,children:[]})},onArrayEnd:(u,f)=>{n.length=u+f-n.offset,n=n.parent,i(u+f)},onLiteralValue:(u,f,c)=>{s({type:z6(u),offset:f,length:c,parent:n,value:u}),i(f+c)},onSeparator:(u,f,c)=>{n.type==="property"&&(u===":"?n.colonOffset=f:u===","&&i(f))},onError:(u,f,c)=>{e.push({error:u,offset:f,length:c})}},r);let a=n.children[0];return a&&delete a.parent,a}function Fh(t,e){if(!t)return;let r=t;for(let n of e)if(typeof n=="string"){if(r.type!=="object"||!Array.isArray(r.children))return;let i=!1;for(let s of r.children)if(Array.isArray(s.children)&&s.children[0].value===n&&s.children.length===2){r=s.children[1],i=!0;break}if(!i)return}else{let i=n;if(r.type!=="array"||i<0||!Array.isArray(r.children)||i>=r.children.length)return;r=r.children[i]}return r}function T0(t,e,r=Gl.DEFAULT){let n=zl(t,!1),i=[];function s(N){return N?()=>N(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>!0}function o(N){return N?()=>N(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),()=>i.slice()):()=>!0}function a(N){return N?J=>N(J,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>!0}function u(N){return N?J=>N(J,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),()=>i.slice()):()=>!0}let f=o(e.onObjectBegin),c=u(e.onObjectProperty),d=s(e.onObjectEnd),p=o(e.onArrayBegin),l=s(e.onArrayEnd),h=u(e.onLiteralValue),y=a(e.onSeparator),g=s(e.onComment),v=a(e.onError),b=r&&r.disallowComments,x=r&&r.allowTrailingComma;function E(){for(;;){let N=n.scan();switch(n.getTokenError()){case 4:S(14);break;case 5:S(15);break;case 3:S(13);break;case 1:b||S(11);break;case 2:S(12);break;case 6:S(16);break}switch(N){case 12:case 13:b?S(10):g();break;case 16:S(1);break;case 15:case 14:break;default:return N}}}function S(N,J=[],K=[]){if(v(N),J.length+K.length>0){let X=n.getToken();for(;X!==17;){if(J.indexOf(X)!==-1){E();break}else if(K.indexOf(X)!==-1)break;X=E()}}}function F(N){let J=n.getTokenValue();return N?h(J):(c(J),i.push(J)),E(),!0}function P(){switch(n.getToken()){case 11:let N=n.getTokenValue(),J=Number(N);isNaN(J)&&(S(2),J=0),h(J);break;case 7:h(null);break;case 8:h(!0);break;case 9:h(!1);break;default:return!1}return E(),!0}function V(){return n.getToken()!==10?(S(3,[],[2,5]),!1):(F(!1),n.getToken()===6?(y(":"),E(),R()||S(4,[],[2,5])):S(5,[],[2,5]),i.pop(),!0)}function H(){f(),E();let N=!1;for(;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(N||S(4,[],[]),y(","),E(),n.getToken()===2&&x)break}else N&&S(6,[],[]);V()||S(4,[],[2,5]),N=!0}return d(),n.getToken()!==2?S(7,[2],[]):E(),!0}function j(){p(),E();let N=!0,J=!1;for(;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(J||S(4,[],[]),y(","),E(),n.getToken()===4&&x)break}else J&&S(6,[],[]);N?(i.push(0),N=!1):i[i.length-1]++,R()||S(4,[],[4,5]),J=!0}return l(),N||i.pop(),n.getToken()!==4?S(8,[4],[]):E(),!0}function R(){switch(n.getToken()){case 3:return j();case 1:return H();case 10:return F(!0);default:return P()}}return E(),n.getToken()===17?r.allowEmptyContent?!0:(S(4,[],[]),!1):R()?(n.getToken()!==17&&S(9,[],[]),!0):(S(4,[],[]),!1)}function z6(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(t){if(Array.isArray(t))return"array"}else return"null";return"object"}default:return"null"}}function uD(t,e,r,n){let i=e.slice(),o=P0(t,[]),a,u;for(;i.length>0&&(u=i.pop(),a=Fh(o,i),a===void 0&&r!==void 0);)typeof u=="string"?r={[u]:r}:r=[r];if(a)if(a.type==="object"&&typeof u=="string"&&Array.isArray(a.children)){let f=Fh(a,[u]);if(f!==void 0)if(r===void 0){if(!f.parent)throw new Error("Malformed AST");let c=a.children.indexOf(f.parent),d,p=f.parent.offset+f.parent.length;if(c>0){let l=a.children[c-1];d=l.offset+l.length}else d=a.offset+1,a.children.length>1&&(p=a.children[1].offset);return Bo(t,{offset:d,length:p-d,content:""},n)}else return Bo(t,{offset:f.offset,length:f.length,content:JSON.stringify(r)},n);else{if(r===void 0)return[];let c=`${JSON.stringify(u)}: ${JSON.stringify(r)}`,d=n.getInsertionIndex?n.getInsertionIndex(a.children.map(l=>l.children[0].value)):a.children.length,p;if(d>0){let l=a.children[d-1];p={offset:l.offset+l.length,length:0,content:","+c}}else a.children.length===0?p={offset:a.offset+1,length:0,content:c}:p={offset:a.offset+1,length:0,content:c+","};return Bo(t,p,n)}}else if(a.type==="array"&&typeof u=="number"&&Array.isArray(a.children)){let f=u;if(f===-1){let c=`${JSON.stringify(r)}`,d;if(a.children.length===0)d={offset:a.offset+1,length:0,content:c};else{let p=a.children[a.children.length-1];d={offset:p.offset+p.length,length:0,content:","+c}}return Bo(t,d,n)}else if(r===void 0&&a.children.length>=0){let c=u,d=a.children[c],p;if(a.children.length===1)p={offset:a.offset+1,length:a.length-2,content:""};else if(a.children.length-1===c){let l=a.children[c-1],h=l.offset+l.length,y=a.offset+a.length;p={offset:h,length:y-2-h,content:""}}else p={offset:d.offset,length:a.children[c+1].offset-d.offset,content:""};return Bo(t,p,n)}else if(r!==void 0){let c,d=`${JSON.stringify(r)}`;if(!n.isArrayInsertion&&a.children.length>u){let p=a.children[u];c={offset:p.offset,length:p.length,content:d}}else if(a.children.length===0||u===0)c={offset:a.offset+1,length:0,content:a.children.length===0?d:d+","};else{let p=u>a.children.length?a.children.length:u,l=a.children[p-1];c={offset:l.offset+l.length,length:0,content:","+d}}return Bo(t,c,n)}else throw new Error(`Can not ${r===void 0?"remove":n.isArrayInsertion?"insert":"modify"} Array index ${f} as length is not sufficient`)}else throw new Error(`Can not add ${typeof u!="number"?"index":"property"} to parent of type ${a.type}`);else{if(r===void 0)throw new Error("Can not delete in empty document");return Bo(t,{offset:o?o.offset:0,length:o?o.length:0,content:JSON.stringify(r)},n)}}function Bo(t,e,r){if(!r.formattingOptions)return[e];let n=_h(t,e),i=e.offset,s=e.offset+e.content.length;if(e.length===0||e.content.length===0){for(;i>0&&!Wl(n,i-1);)i--;for(;s<n.length&&!Wl(n,s);)s++}let o=I0(n,{offset:i,length:s-i},{...r.formattingOptions,keepLines:!1});for(let u=o.length-1;u>=0;u--){let f=o[u];n=_h(n,f),i=Math.min(i,f.offset),s=Math.max(s,f.offset+f.length),s+=f.content.length-f.length}let a=t.length-(n.length-s)-i;return[{offset:i,length:a,content:n.substring(i,s)}]}function _h(t,e){return t.substring(0,e.offset)+e.content+t.substring(e.offset+e.length)}var lD;(function(t){t[t.None=0]="None",t[t.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=2]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",t[t.InvalidUnicode=4]="InvalidUnicode",t[t.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",t[t.InvalidCharacter=6]="InvalidCharacter"})(lD||(lD={}));var cD;(function(t){t[t.OpenBraceToken=1]="OpenBraceToken",t[t.CloseBraceToken=2]="CloseBraceToken",t[t.OpenBracketToken=3]="OpenBracketToken",t[t.CloseBracketToken=4]="CloseBracketToken",t[t.CommaToken=5]="CommaToken",t[t.ColonToken=6]="ColonToken",t[t.NullKeyword=7]="NullKeyword",t[t.TrueKeyword=8]="TrueKeyword",t[t.FalseKeyword=9]="FalseKeyword",t[t.StringLiteral=10]="StringLiteral",t[t.NumericLiteral=11]="NumericLiteral",t[t.LineCommentTrivia=12]="LineCommentTrivia",t[t.BlockCommentTrivia=13]="BlockCommentTrivia",t[t.LineBreakTrivia=14]="LineBreakTrivia",t[t.Trivia=15]="Trivia",t[t.Unknown=16]="Unknown",t[t.EOF=17]="EOF"})(cD||(cD={}));var Je=aD;var fD;(function(t){t[t.InvalidSymbol=1]="InvalidSymbol",t[t.InvalidNumberFormat=2]="InvalidNumberFormat",t[t.PropertyNameExpected=3]="PropertyNameExpected",t[t.ValueExpected=4]="ValueExpected",t[t.ColonExpected=5]="ColonExpected",t[t.CommaExpected=6]="CommaExpected",t[t.CloseBraceExpected=7]="CloseBraceExpected",t[t.CloseBracketExpected=8]="CloseBracketExpected",t[t.EndOfFileExpected=9]="EndOfFileExpected",t[t.InvalidCommentToken=10]="InvalidCommentToken",t[t.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=12]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",t[t.InvalidUnicode=14]="InvalidUnicode",t[t.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",t[t.InvalidCharacter=16]="InvalidCharacter"})(fD||(fD={}));function kh(t){switch(t){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function O0(t,e,r,n){return uD(t,e,r,n)}function Lo(t,e){let r=e.slice(0).sort((i,s)=>{let o=i.offset-s.offset;return o===0?i.length-s.length:o}),n=t.length;for(let i=r.length-1;i>=0;i--){let s=r[i];if(s.offset+s.length<=n)t=_h(t,s);else throw new Error("Overlapping edit");n=s.offset}return t}var p3=Ce(require("path")),m3=Ce(require("crypto")),kl=Ce(require("os"));var hC=Ce(require("path")),o3=Ce(require("crypto"));var pD=Ce(require("os"));var B0={info:3,debug:2,trace:1,error:5},jse=Object.keys(B0).reduce((t,e)=>(t[B0[e]]=e,t),[]);function Ot(t){return B0[t]||3}var ui={write:()=>{},raw:()=>{},start:()=>Date.now(),stop:()=>{},event:()=>{}},za=/(\x9B|\x1B\[)[0-?]*[ -\/]*[@-~]/g;function mD(t,e){let r=!!e;return{event:n=>{r&&(r=!1,t.forEach(i=>i.event({type:"text",level:3,timestamp:Date.now(),text:e}))),t.forEach(i=>i.event(n))}}}function gD(t,e){return{event(r){let n=K6(r,e());n&&t(n)}}}function yD(t,e,r){return{event(n){let i=J6(n,e(),r.getTime());i&&t(i)}}}function vD(t,e,r){return{event(n){t(JSON.stringify(n)+`
`)}}}function dt(t,e=2){return{event:t.event,write(r,n=e){t.event({type:"text",level:n,timestamp:Date.now(),text:r})},raw(r,n=e){t.event({type:"raw",level:n,timestamp:Date.now(),text:r})},start(r,n=e){let i=Date.now();return t.event({type:"start",level:n,timestamp:i,text:r}),i},stop(r,n,i=e){t.event({type:"stop",level:i,timestamp:Date.now(),text:r,startTimestamp:n})},get dimensions(){return t.dimensions},onDidChangeDimensions:t.onDidChangeDimensions}}function J6(t,e,r){if(!(!("level"in t)||t.level<e))switch(t.type){case"text":return`[${Jl(hD,`${t.timestamp-r} ms`)}] ${Ih(t.text)}`;case"raw":return t.text;case"start":return 1>=e?`${Jl(Q6,`[${t.timestamp-r} ms] Start`)}: ${Ih(t.text)}`:`[${Jl(hD,`${t.timestamp-r} ms`)}] Start: ${Ih(t.text)}`;case"stop":return 1>=e?`${Jl(Z6,`[${t.timestamp-r} ms] Stop`)} (${t.timestamp-t.startTimestamp} ms): ${Ih(t.text)}`:void 0;default:throw ED(t)}}function Ih(t){return t8(t).replace(/\r?\n/g,`\r
`).replace(/(\r?\n)?$/,`\r
`)}function K6(t,e){if(!(!("level"in t)||t.level<e))switch(t.type){case"text":case"raw":return`[${new Date(t.timestamp).toISOString()}] ${R0(t.text)}`;case"start":return`[${new Date(t.timestamp).toISOString()}] Start: ${R0(t.text)}`;case"stop":return 2>=e?`[${new Date(t.timestamp).toISOString()}] Stop (${t.timestamp-t.startTimestamp} ms): ${R0(t.text)}`:void 0;default:throw ED(t)}}function R0(t){return t.replace(za,"").replace(/(\r?\n)?$/,pD.EOL)}function ED(t){return new Error(`Unknown log event type: ${t.type}`)}var X6="38;2;143;99;79",bD="38;2;99;143;79",Y6="38;2;86;156;214",Z6=X6,Q6=bD,hD=bD,e8=Y6;function Jl(t,e){return e.split(`
`).map(r=>`\x1B[1m\x1B[${t}m${r}\x1B[39m\x1B[22m`).join(`
`)}function t8(t){let e,r=0,n=[];for(za.lastIndex=0;e=za.exec(t);)n.push(dD(t.substring(r,e.index))),n.push(e[0]),r=za.lastIndex;return n.push(dD(t.substr(r))),n.join("")}function dD(t){let e=/(?<=^|[^A-Za-z0-9_\-\.])[0-9]+(\.[0-9]+)*(?=$|[^A-Za-z0-9_\-\.])/g,r,n=0,i=[];for(;r=e.exec(t);)i.push(t.substring(n,r.index)),i.push(Jl(e8,r[0])),n=e.lastIndex;return i.push(t.substr(n)),i.join("")}function St(t){return t.split(/\r?\n/).map(e=>`\x1B[1m\x1B[31m${e}\x1B[39m\x1B[22m`).join(`\r
`)+`\r
`}function L0(t){return t.split(/\r?\n/).map(e=>`\x1B[1m\x1B[33m${e}\x1B[39m\x1B[22m`).join(`\r
`)+`\r
`}function wD(t,e,r){if(e=e.map(i=>i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).filter(i=>i.length),!e.length)return t;let n=new RegExp(e.join("|"),"g");return{event:i=>{"text"in i?t.event({...i,text:i.text.replace(n,r)}):i.type==="progress"&&i.stepDetail?t.event({...i,stepDetail:i.stepDetail.replace(n,r)}):t.event(i)}}}var Me=class extends Error{constructor(r){var n;super(r.originalError&&r.originalError.message||r.description);this.manageContainer=!1;this.actions=[];this.data={};Object.assign(this,r),(n=this.originalError)!=null&&n.stack&&(this.stack=this.originalError.stack)}};var vr=Ce(require("path")),jD=Ce(require("os")),$D=Ce(require("fs")),UD=Ce(require("child_process")),$0=require("string_decoder");var Dt=Ce(require("fs")),li=require("util"),SD=Ce(CD());function st(t){return new Promise(e=>Dt.stat(t,(r,n)=>e(!r&&n.isFile())))}function Wa(t){return new Promise(e=>Dt.stat(t,(r,n)=>e(!r&&n.isDirectory())))}var tt=(0,li.promisify)(Dt.readFile),Ht=(0,li.promisify)(Dt.writeFile),Hse=(0,li.promisify)(Dt.appendFile),DD=(0,li.promisify)(Dt.rename),Th=(0,li.promisify)(Dt.readdir),zse=(0,li.promisify)(Dt.unlink),mn=t=>new Promise((e,r)=>Dt.mkdir(t,{recursive:!0},n=>n?r(n):e())),Wse=(0,li.promisify)(Dt.rmdir),Nn=(0,li.promisify)(Dt.rm),Gse=(0,li.promisify)(Dt.copyFile),zr=(0,li.promisify)(SD.ncp);var s8=Ce(require("path")),Lh=Ce(require("net")),Nh=Ce(require("os"));var AD;(()=>{"use strict";var t={470:i=>{function s(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function o(u,f){for(var c,d="",p=0,l=-1,h=0,y=0;y<=u.length;++y){if(y<u.length)c=u.charCodeAt(y);else{if(c===47)break;c=47}if(c===47){if(!(l===y-1||h===1))if(l!==y-1&&h===2){if(d.length<2||p!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var g=d.lastIndexOf("/");if(g!==d.length-1){g===-1?(d="",p=0):p=(d=d.slice(0,g)).length-1-d.lastIndexOf("/"),l=y,h=0;continue}}else if(d.length===2||d.length===1){d="",p=0,l=y,h=0;continue}}f&&(d.length>0?d+="/..":d="..",p=2)}else d.length>0?d+="/"+u.slice(l+1,y):d=u.slice(l+1,y),p=y-l-1;l=y,h=0}else c===46&&h!==-1?++h:h=-1}return d}var a={resolve:function(){for(var u,f="",c=!1,d=arguments.length-1;d>=-1&&!c;d--){var p;d>=0?p=arguments[d]:(u===void 0&&(u=process.cwd()),p=u),s(p),p.length!==0&&(f=p+"/"+f,c=p.charCodeAt(0)===47)}return f=o(f,!c),c?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(u){if(s(u),u.length===0)return".";var f=u.charCodeAt(0)===47,c=u.charCodeAt(u.length-1)===47;return(u=o(u,!f)).length!==0||f||(u="."),u.length>0&&c&&(u+="/"),f?"/"+u:u},isAbsolute:function(u){return s(u),u.length>0&&u.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var u,f=0;f<arguments.length;++f){var c=arguments[f];s(c),c.length>0&&(u===void 0?u=c:u+="/"+c)}return u===void 0?".":a.normalize(u)},relative:function(u,f){if(s(u),s(f),u===f||(u=a.resolve(u))===(f=a.resolve(f)))return"";for(var c=1;c<u.length&&u.charCodeAt(c)===47;++c);for(var d=u.length,p=d-c,l=1;l<f.length&&f.charCodeAt(l)===47;++l);for(var h=f.length-l,y=p<h?p:h,g=-1,v=0;v<=y;++v){if(v===y){if(h>y){if(f.charCodeAt(l+v)===47)return f.slice(l+v+1);if(v===0)return f.slice(l+v)}else p>y&&(u.charCodeAt(c+v)===47?g=v:v===0&&(g=0));break}var b=u.charCodeAt(c+v);if(b!==f.charCodeAt(l+v))break;b===47&&(g=v)}var x="";for(v=c+g+1;v<=d;++v)v!==d&&u.charCodeAt(v)!==47||(x.length===0?x+="..":x+="/..");return x.length>0?x+f.slice(l+g):(l+=g,f.charCodeAt(l)===47&&++l,f.slice(l))},_makeLong:function(u){return u},dirname:function(u){if(s(u),u.length===0)return".";for(var f=u.charCodeAt(0),c=f===47,d=-1,p=!0,l=u.length-1;l>=1;--l)if((f=u.charCodeAt(l))===47){if(!p){d=l;break}}else p=!1;return d===-1?c?"/":".":c&&d===1?"//":u.slice(0,d)},basename:function(u,f){if(f!==void 0&&typeof f!="string")throw new TypeError('"ext" argument must be a string');s(u);var c,d=0,p=-1,l=!0;if(f!==void 0&&f.length>0&&f.length<=u.length){if(f.length===u.length&&f===u)return"";var h=f.length-1,y=-1;for(c=u.length-1;c>=0;--c){var g=u.charCodeAt(c);if(g===47){if(!l){d=c+1;break}}else y===-1&&(l=!1,y=c+1),h>=0&&(g===f.charCodeAt(h)?--h==-1&&(p=c):(h=-1,p=y))}return d===p?p=y:p===-1&&(p=u.length),u.slice(d,p)}for(c=u.length-1;c>=0;--c)if(u.charCodeAt(c)===47){if(!l){d=c+1;break}}else p===-1&&(l=!1,p=c+1);return p===-1?"":u.slice(d,p)},extname:function(u){s(u);for(var f=-1,c=0,d=-1,p=!0,l=0,h=u.length-1;h>=0;--h){var y=u.charCodeAt(h);if(y!==47)d===-1&&(p=!1,d=h+1),y===46?f===-1?f=h:l!==1&&(l=1):f!==-1&&(l=-1);else if(!p){c=h+1;break}}return f===-1||d===-1||l===0||l===1&&f===d-1&&f===c+1?"":u.slice(f,d)},format:function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return function(f,c){var d=c.dir||c.root,p=c.base||(c.name||"")+(c.ext||"");return d?d===c.root?d+p:d+"/"+p:p}(0,u)},parse:function(u){s(u);var f={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return f;var c,d=u.charCodeAt(0),p=d===47;p?(f.root="/",c=1):c=0;for(var l=-1,h=0,y=-1,g=!0,v=u.length-1,b=0;v>=c;--v)if((d=u.charCodeAt(v))!==47)y===-1&&(g=!1,y=v+1),d===46?l===-1?l=v:b!==1&&(b=1):l!==-1&&(b=-1);else if(!g){h=v+1;break}return l===-1||y===-1||b===0||b===1&&l===y-1&&l===h+1?y!==-1&&(f.base=f.name=h===0&&p?u.slice(1,y):u.slice(h,y)):(h===0&&p?(f.name=u.slice(1,l),f.base=u.slice(1,y)):(f.name=u.slice(h,l),f.base=u.slice(h,y)),f.ext=u.slice(l,y)),h>0?f.dir=u.slice(0,h-1):p&&(f.dir="/"),f},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,i.exports=a}},e={};function r(i){var s=e[i];if(s!==void 0)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,r),o.exports}r.d=(i,s)=>{for(var o in s)r.o(s,o)&&!r.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:s[o]})},r.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{var i;if(r.r(n),r.d(n,{URI:()=>g,Utils:()=>R}),typeof process=="object")i=process.platform==="win32";else if(typeof navigator=="object"){var s=navigator.userAgent;i=s.indexOf("Windows")>=0}var o,a,u=(o=function(z,T){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,L){W.__proto__=L}||function(W,L){for(var $ in L)Object.prototype.hasOwnProperty.call(L,$)&&(W[$]=L[$])},o(z,T)},function(z,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function W(){this.constructor=z}o(z,T),z.prototype=T===null?Object.create(T):(W.prototype=T.prototype,new W)}),f=/^\w[\w\d+.-]*$/,c=/^\//,d=/^\/\//;function p(z,T){if(!z.scheme&&T)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(z.authority,'", path: "').concat(z.path,'", query: "').concat(z.query,'", fragment: "').concat(z.fragment,'"}'));if(z.scheme&&!f.test(z.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(z.path){if(z.authority){if(!c.test(z.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(d.test(z.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var l="",h="/",y=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,g=function(){function z(T,W,L,$,Z,ie){ie===void 0&&(ie=!1),typeof T=="object"?(this.scheme=T.scheme||l,this.authority=T.authority||l,this.path=T.path||l,this.query=T.query||l,this.fragment=T.fragment||l):(this.scheme=function(he,ee){return he||ee?he:"file"}(T,ie),this.authority=W||l,this.path=function(he,ee){switch(he){case"https":case"http":case"file":ee?ee[0]!==h&&(ee=h+ee):ee=h}return ee}(this.scheme,L||l),this.query=$||l,this.fragment=Z||l,p(this,ie))}return z.isUri=function(T){return T instanceof z||!!T&&typeof T.authority=="string"&&typeof T.fragment=="string"&&typeof T.path=="string"&&typeof T.query=="string"&&typeof T.scheme=="string"&&typeof T.fsPath=="string"&&typeof T.with=="function"&&typeof T.toString=="function"},Object.defineProperty(z.prototype,"fsPath",{get:function(){return F(this,!1)},enumerable:!1,configurable:!0}),z.prototype.with=function(T){if(!T)return this;var W=T.scheme,L=T.authority,$=T.path,Z=T.query,ie=T.fragment;return W===void 0?W=this.scheme:W===null&&(W=l),L===void 0?L=this.authority:L===null&&(L=l),$===void 0?$=this.path:$===null&&($=l),Z===void 0?Z=this.query:Z===null&&(Z=l),ie===void 0?ie=this.fragment:ie===null&&(ie=l),W===this.scheme&&L===this.authority&&$===this.path&&Z===this.query&&ie===this.fragment?this:new b(W,L,$,Z,ie)},z.parse=function(T,W){W===void 0&&(W=!1);var L=y.exec(T);return L?new b(L[2]||l,j(L[4]||l),j(L[5]||l),j(L[7]||l),j(L[9]||l),W):new b(l,l,l,l,l)},z.file=function(T){var W=l;if(i&&(T=T.replace(/\\/g,h)),T[0]===h&&T[1]===h){var L=T.indexOf(h,2);L===-1?(W=T.substring(2),T=h):(W=T.substring(2,L),T=T.substring(L)||h)}return new b("file",W,T,l,l)},z.from=function(T){var W=new b(T.scheme,T.authority,T.path,T.query,T.fragment);return p(W,!0),W},z.prototype.toString=function(T){return T===void 0&&(T=!1),P(this,T)},z.prototype.toJSON=function(){return this},z.revive=function(T){if(T){if(T instanceof z)return T;var W=new b(T);return W._formatted=T.external,W._fsPath=T._sep===v?T.fsPath:null,W}return T},z}(),v=i?1:void 0,b=function(z){function T(){var W=z!==null&&z.apply(this,arguments)||this;return W._formatted=null,W._fsPath=null,W}return u(T,z),Object.defineProperty(T.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=F(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),T.prototype.toString=function(W){return W===void 0&&(W=!1),W?P(this,!0):(this._formatted||(this._formatted=P(this,!1)),this._formatted)},T.prototype.toJSON=function(){var W={$mid:1};return this._fsPath&&(W.fsPath=this._fsPath,W._sep=v),this._formatted&&(W.external=this._formatted),this.path&&(W.path=this.path),this.scheme&&(W.scheme=this.scheme),this.authority&&(W.authority=this.authority),this.query&&(W.query=this.query),this.fragment&&(W.fragment=this.fragment),W},T}(g),x=((a={})[58]="%3A",a[47]="%2F",a[63]="%3F",a[35]="%23",a[91]="%5B",a[93]="%5D",a[64]="%40",a[33]="%21",a[36]="%24",a[38]="%26",a[39]="%27",a[40]="%28",a[41]="%29",a[42]="%2A",a[43]="%2B",a[44]="%2C",a[59]="%3B",a[61]="%3D",a[32]="%20",a);function E(z,T,W){for(var L=void 0,$=-1,Z=0;Z<z.length;Z++){var ie=z.charCodeAt(Z);if(ie>=97&&ie<=122||ie>=65&&ie<=90||ie>=48&&ie<=57||ie===45||ie===46||ie===95||ie===126||T&&ie===47||W&&ie===91||W&&ie===93||W&&ie===58)$!==-1&&(L+=encodeURIComponent(z.substring($,Z)),$=-1),L!==void 0&&(L+=z.charAt(Z));else{L===void 0&&(L=z.substr(0,Z));var he=x[ie];he!==void 0?($!==-1&&(L+=encodeURIComponent(z.substring($,Z)),$=-1),L+=he):$===-1&&($=Z)}}return $!==-1&&(L+=encodeURIComponent(z.substring($))),L!==void 0?L:z}function S(z){for(var T=void 0,W=0;W<z.length;W++){var L=z.charCodeAt(W);L===35||L===63?(T===void 0&&(T=z.substr(0,W)),T+=x[L]):T!==void 0&&(T+=z[W])}return T!==void 0?T:z}function F(z,T){var W;return W=z.authority&&z.path.length>1&&z.scheme==="file"?"//".concat(z.authority).concat(z.path):z.path.charCodeAt(0)===47&&(z.path.charCodeAt(1)>=65&&z.path.charCodeAt(1)<=90||z.path.charCodeAt(1)>=97&&z.path.charCodeAt(1)<=122)&&z.path.charCodeAt(2)===58?T?z.path.substr(1):z.path[1].toLowerCase()+z.path.substr(2):z.path,i&&(W=W.replace(/\//g,"\\")),W}function P(z,T){var W=T?S:E,L="",$=z.scheme,Z=z.authority,ie=z.path,he=z.query,ee=z.fragment;if($&&(L+=$,L+=":"),(Z||$==="file")&&(L+=h,L+=h),Z){var me=Z.indexOf("@");if(me!==-1){var ce=Z.substr(0,me);Z=Z.substr(me+1),(me=ce.lastIndexOf(":"))===-1?L+=W(ce,!1,!1):(L+=W(ce.substr(0,me),!1,!1),L+=":",L+=W(ce.substr(me+1),!1,!0)),L+="@"}(me=(Z=Z.toLowerCase()).lastIndexOf(":"))===-1?L+=W(Z,!1,!0):(L+=W(Z.substr(0,me),!1,!0),L+=Z.substr(me))}if(ie){if(ie.length>=3&&ie.charCodeAt(0)===47&&ie.charCodeAt(2)===58)(ye=ie.charCodeAt(1))>=65&&ye<=90&&(ie="/".concat(String.fromCharCode(ye+32),":").concat(ie.substr(3)));else if(ie.length>=2&&ie.charCodeAt(1)===58){var ye;(ye=ie.charCodeAt(0))>=65&&ye<=90&&(ie="".concat(String.fromCharCode(ye+32),":").concat(ie.substr(2)))}L+=W(ie,!0,!1)}return he&&(L+="?",L+=W(he,!1,!1)),ee&&(L+="#",L+=T?ee:E(ee,!1,!1)),L}function V(z){try{return decodeURIComponent(z)}catch{return z.length>3?z.substr(0,3)+V(z.substr(3)):z}}var H=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function j(z){return z.match(H)?z.replace(H,function(T){return V(T)}):z}var R,N=r(470),J=function(z,T,W){if(W||arguments.length===2)for(var L,$=0,Z=T.length;$<Z;$++)!L&&$ in T||(L||(L=Array.prototype.slice.call(T,0,$)),L[$]=T[$]);return z.concat(L||Array.prototype.slice.call(T))},K=N.posix||N,X="/";(function(z){z.joinPath=function(T){for(var W=[],L=1;L<arguments.length;L++)W[L-1]=arguments[L];return T.with({path:K.join.apply(K,J([T.path],W,!1))})},z.resolvePath=function(T){for(var W=[],L=1;L<arguments.length;L++)W[L-1]=arguments[L];var $=T.path,Z=!1;$[0]!==X&&($=X+$,Z=!0);var ie=K.resolve.apply(K,J([$],W,!1));return Z&&ie[0]===X&&!T.authority&&(ie=ie.substring(1)),T.with({path:ie})},z.dirname=function(T){if(T.path.length===0||T.path===X)return T;var W=K.dirname(T.path);return W.length===1&&W.charCodeAt(0)===46&&(W=""),T.with({path:W})},z.basename=function(T){return K.basename(T.path)},z.extname=function(T){return K.extname(T.path)}})(R||(R={}))})(),AD=n})();var{URI:Kt,Utils:Kse}=AD;var BD=RD();async function yr(t,e){let r=Xl(t),n=await LD(t,e);return o8(t,r,n,c8)}function o8(t,e,r,n){return{type:"local",platform:process.platform,arch:process.arch,exec:e,ptyExec:r,cwd:t,env:process.env,path:s8,homedir:async()=>Nh.homedir(),tmpdir:async()=>Nh.tmpdir(),isFile:st,isFolder:Wa,readFile:tt,writeFile:Ht,rename:DD,mkdirp:async i=>{await mn(i)},readDir:Th,getUsername:N0,getuid:process.platform==="linux"||process.platform==="darwin"?async()=>process.getuid():void 0,getgid:process.platform==="linux"||process.platform==="darwin"?async()=>process.getgid():void 0,toCommonURI:async i=>Kt.file(i),connect:n}}function a8(t){let e=[];return t.split("-").map(r=>{let n=r.match(/.{2}/g);n!==null&&n.reverse().map(i=>{e.push(parseInt(i,16))})}),Buffer.from(e)}function u8(t,e,r){return e||r===void 0?{headerSize:t,err:e}:t===0?{headerSize:t,data:r}:r.length>t?(r=r.slice(t,r.length),t=0,{headerSize:t,data:r}):(t=t-r.length,{headerSize:t})}function l8(t,e){let r=0,n=[],i=[],s,o=c=>{c instanceof Error&&console.error(c),t.destroy();for(let d of n)d.cb(c,void 0);n=[];for(let d of i)d(c,(p,l)=>{});i=[]};function a(c,d){s.source(c,function(p,l){let h=u8(r,p,l);r=h.headerSize,h.err||h.data?d(h.err||null,h.data):a(c,d)})}return(async()=>{let c=await tt(e),p=c.toString().match(/!<socket >(\d+)( s)? ((([A-Fa-f0-9]{2}){4}-?){4})/),l,h;if(p!==null){let y=p[1],g=p[3];l=parseInt(y,10);let v=a8(g),b=Buffer.alloc(12);b.writeUInt32LE(process.pid,0),h=Buffer.concat([v,b]),r=16+3*4}else{let y=c.indexOf(10);l=parseInt(c.slice(0,y).toString(),10),h=c.slice(y+1),r=0}t.on("error",y=>{o(y)}),t.connect(l,"127.0.0.1",()=>{t.write(h,y=>{if(!y){s=BD.duplex(t);for(let g of n)a(g.abort,g.cb);n=[];for(let g of i)s.sink(g);i=[]}})})})().catch(c=>{o(c)}),{source:function(c,d){s!==void 0?a(c,d):n.push({abort:c,cb:d})},sink:function(c){s!==void 0?s.sink(c):i.push(c)}}}function c8(t){if(process.platform!=="win32"||t.startsWith("\\\\.\\pipe\\"))return BD.duplex(Lh.connect(t));let e=new Lh.Socket;return l8(e,t)}function qD(t,e,r){return t==="linux"?e===r:e.toLowerCase()===r.toLowerCase()}var foe=vr.join(__dirname,"..","..","node_modules",".bin","ts-node"),hoe=vr.basename(process.argv[0])==="ts-node"||process.argv.indexOf("ts-node/register")!==-1;async function Mn(t){let{exec:e,cmd:r,args:n,cwd:i,env:s,stdin:o,output:a,print:u}=t,f=await e({cmd:r,args:n,cwd:i,env:s,output:a});return new Promise((c,d)=>{let p=[],l=[],h=u==="continuous"?new $0.StringDecoder:void 0;f.stdout.on("data",v=>{p.push(v),u==="continuous"&&a.write(h.write(v))}),f.stdout.on("error",v=>{if((v==null?void 0:v.code)!=="ENOTCONN")throw v});let y=u==="continuous"?new $0.StringDecoder:void 0;f.stderr.on("data",v=>{l.push(v),u==="continuous"&&a.write(St(y.write(v)))}),f.stderr.on("error",v=>{if((v==null?void 0:v.code)!=="ENOTCONN")throw v});let g=[];f.exit.then(({code:v,signal:b})=>{try{let x=!!v||!!b;g.forEach(F=>F.dispose());let E=Buffer.concat(p),S=Buffer.concat(l);(u===!0||x&&u==="onerror")&&(a.write(E.toString().replace(/\r?\n/g,`\r
`)),a.write(St(S.toString()))),u&&v&&a.write(`Exit code ${v}`),u&&b&&a.write(`Process signal ${b}`),x?d({message:`Command failed: ${r} ${(n||[]).join(" ")}`,stdout:E,stderr:S,code:v,signal:b}):c({stdout:E,stderr:S})}catch(x){d(x)}},d),o instanceof Buffer?(f.stdin.write(o,v=>{v&&d(v)}),f.stdin.end()):o instanceof $D.ReadStream?o.pipe(f.stdin):typeof o=="function"&&g.push(o(v=>f.stdin.write(v)))})}async function No(t){let{ptyExec:e,cmd:r,args:n,cwd:i,env:s,output:o,resolveOn:a,onDidInput:u,stdin:f}=t,c=t.print||"continuous",d=await e({cmd:r,args:n,cwd:i,env:s,output:o});return new Promise((p,l)=>{let h="";f&&d.write(f);let y=[u&&u(g=>d.write(g))];d.onData(g=>{h+=g,c==="continuous"&&o.raw(g),a&&a.exec(h)&&p({cmdOutput:h})}),d.exit.then(({code:g,signal:v})=>{try{c==="end"&&o.raw(h),y.forEach(b=>b==null?void 0:b.dispose()),g||v?l({message:`Command failed: ${r} ${(n||[]).join(" ")}`,cmdOutput:h,code:g,signal:v}):p({cmdOutput:h})}catch(b){l(b)}},g=>{y.forEach(v=>v==null?void 0:v.dispose()),l(g)})})}var U0={SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:7,SIGEMT:void 0,SIGFPE:8,SIGKILL:9,SIGUSR1:10,SIGSEGV:11,SIGUSR2:12,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGSTKFLT:16,SIGCHLD:17,SIGCLD:void 0,SIGCONT:18,SIGSTOP:19,SIGTSTP:20,SIGTTIN:21,SIGTTOU:22,SIGURG:23,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:29,SIGPOLL:29,SIGPWR:30,SIGINFO:void 0,SIGLOST:void 0,SIGSYS:31,SIGUNUSED:31};function Xl(t){return async function(e){let{cmd:r,args:n,output:i}=e,s=`Run: ${r} ${(n||[]).join(" ").replace(/\n.*/g,"")}`,o=i.start(s),a=e.cwd||t,u=e.env?{...process.env,...e.env}:process.env,f=await VD(r,a,u,i),c=UD.spawn(f,n,{cwd:a,env:u,windowsHide:!0});return{stdin:c.stdin,stdout:c.stdout,stderr:c.stderr,exit:new Promise((d,p)=>{c.once("error",l=>{i.stop(s,o),p(l)}),c.once("close",(l,h)=>{i.stop(s,o),d({code:l,signal:h})})}),async terminate(){c.kill("SIGKILL")}}}}async function LD(t,e){let r=await e("node-pty");if(!r)throw new Error("Missing node-pty");return async function(n){var y,g;let{cmd:i,args:s,output:o}=n,a=`Run: ${i} ${(s||[]).join(" ").replace(/\n.*/g,"")}`,u=o.start(a),f=!1,c=n.cwd||t,d=n.env?{...process.env,...n.env}:process.env,p=await VD(i,c,d,o),l=r.spawn(p,s||[],{cwd:c,env:d,cols:(y=o.dimensions)==null?void 0:y.columns,rows:(g=o.dimensions)==null?void 0:g.rows,useConpty:f}),h=[o.onDidChangeDimensions&&o.onDidChangeDimensions(v=>l.resize(v.columns,v.rows))];return{onData:l.onData.bind(l),write:l.write.bind(l),resize:l.resize.bind(l),exit:new Promise(v=>{l.onExit(({exitCode:b,signal:x})=>{if(h.forEach(E=>E==null?void 0:E.dispose()),o.stop(a,u),v({code:b,signal:x}),process.platform==="win32")try{l.kill()}catch{}})}),async terminate(){l.kill("SIGKILL")}}}}async function VD(t,e=process.cwd(),r,n){if(process.platform!=="win32")return t;if(vr.isAbsolute(t))return await M0(t)||t;if(/[/\\]/.test(t)){let a=vr.join(e,t);return await M0(a)||a}let i,s;if(r){for(let a of Object.keys(r))if(a.toLowerCase()==="path"){let u=r[a];typeof u=="string"&&(i=u,s=u.split(vr.delimiter).filter(Boolean),s.push(vr.join(r.ProgramW6432||"C:\\Program Files","Docker\\Docker\\resources\\bin")));break}}if(s===void 0||s.length===0){n.write(`findLocalWindowsExecutable: No PATH to look up executable '${t}'.`);let a=new Error(`No PATH to look up executable '${t}'.`);throw a.code="ENOENT",a}for(let a of s){let u;vr.isAbsolute(a)?u=vr.join(a,t):u=vr.join(e,a,t);let f=await M0(u);if(f)return f}n.write(`findLocalWindowsExecutable: Exectuable '${t}' not found on PATH '${i}'.`);let o=new Error(`Exectuable '${t}' not found on PATH '${i}'.`);throw o.code="ENOENT",o}var ND=process.env.PATHEXT,MD=ND?ND.toLowerCase().split(";"):[".com",".exe",".bat",".cmd"];async function M0(t){if(MD.indexOf(vr.extname(t))!==-1)return await st(t)?t:void 0;for(let e of MD){let r=t+e;if(await st(r))return r}}function Ls(t){let e=/^'?v?(\d+(\.\d+)*)/.exec(t);if(e)return e[1].split(".").map(r=>parseInt(r,10))}function Ns(t,e){for(let r=0,n=Math.max(t.length,e.length);r<n;r++){let i=t[r]||0,s=e[r]||0;if(i!==s)return i<s}return!1}async function Er(t){if(process.env.NODE_PATH){for(let e of process.env.NODE_PATH.split(vr.delimiter))if(e)try{return require(`${e}/${t}`)}catch{}}try{return require(t)}catch{}}function Mh(t,e){return e&&typeof e=="object"&&"win32"in e?t==="win32"?e.win32:e.posix:e}async function jh(t,e){return Mh(t.platform,{posix:async()=>{try{return await t.exec(`test -f '${e}'`),!0}catch{return!1}},win32:async()=>(await t.exec(`Test-Path '${e}' -PathType Leaf`)).stdout.trim()==="True"})()}var j0;async function N0(){return j0===void 0&&(j0=(async()=>{try{return jD.userInfo().username}catch(t){if(process.platform!=="linux")throw t;return(await Mn({exec:Xl(void 0),cmd:"id",args:["-u","-n"],output:ui})).stdout.toString().trim()}})()),j0}var ci=Ce(require("path")),tA=Ce(require("fs")),z0=require("string_decoder"),rA=Ce(require("crypto"));var f8=Ce(require("path")),q0=require("string_decoder");var _i="\u2404";async function $h(t,e,r,n="linux",i="Container"){let s=typeof t=="function",o=n==="win32",a=s?await t({env:r?{VSCODE_REMOTE_CONTAINERS_SESSION:r}:{},cmd:o?"powershell":"/bin/sh",args:o?["-NoProfile","-Command","-"]:[],output:e}):t;if(!s){let p=o?`powershell -NoProfile -Command "powershell -NoProfile -Command -"
`:`/bin/sh -c 'echo ${_i}; /bin/sh'
`;a.stdin.write(p),await new Promise(h=>{let y="",g=new q0.StringDecoder;a.stdout.on("data",function v(b){y+=g.write(b),y.includes(p)&&(a.stdout.off("data",v),h())})})}let u=h8(a),f;async function c(p,l){let h=f=(async()=>{try{await f}catch{}return d(Mh(n,p),l)})();try{return await Promise.race([h,u.unexpectedExit])}finally{u.disposeStdioListeners(),f===h&&(f=void 0)}}async function d(p,l){let h=`Run in ${i.toLowerCase()}: ${p.replace(/\n.*/g,"")}`,y;if((l==null?void 0:l.logOutput)!=="silent"&&(y=e.start(h,l==null?void 0:l.logLevel)),a.stdin.destroyed){e.write("Stdin closed!");let{code:P,signal:V}=await a.exit;return Promise.reject({message:`Shell server terminated (code: ${P}, signal: ${V})`,code:P,signal:V})}n==="win32"?a.stdin.write(`[Console]::Write('${_i}'); ( ${p} ); [Console]::Write("${_i}$LastExitCode ${_i}"); [Console]::Error.Write('${_i}')
`):a.stdin.write(`echo -n ${_i}; ( ${p} ); echo -n ${_i}$?${_i}; echo -n ${_i} >&2
`);let[g,v]=HD(a.stdout,[1,2],(l==null?void 0:l.logOutput)==="continuous"?(P,V,H)=>{V===1&&H===0&&e.write(P,l==null?void 0:l.logLevel)}:()=>{}),b=HD(a.stderr,[1],(l==null?void 0:l.logOutput)==="continuous"?(P,V,H)=>{V===0&&H===0&&e.write(P,l==null?void 0:l.logLevel)}:()=>{})[0];l!=null&&l.stdin&&(await g,a.stdin.write(l==null?void 0:l.stdin));let[x,E]=await v,[S]=await b,F=parseInt(E,10)||0;return((l==null?void 0:l.logOutput)===void 0||(l==null?void 0:l.logOutput)===!0)&&(e.write(x,l==null?void 0:l.logLevel),e.write(S,l==null?void 0:l.logLevel),F&&e.write(`Exit code ${F}`,l==null?void 0:l.logLevel)),(l==null?void 0:l.logOutput)==="continuous"&&F&&e.write(`Exit code ${F}`,l==null?void 0:l.logLevel),(l==null?void 0:l.logOutput)!=="silent"&&e.stop(h,y,l==null?void 0:l.logLevel),F?Promise.reject({message:`Command in ${i.toLowerCase()} failed: ${p}`,code:F,stdout:x,stderr:S}):{stdout:x,stderr:S}}return{exec:c,process:a,platform:n,path:Mh(n,f8)}}function HD(t,e,r){let n=e.map(()=>{let c;return{promise:new Promise((p,l)=>c={resolve:p,reject:l}),...c}}),i=new q0.StringDecoder("utf8"),s=[],o=0,a=[];function u(c){let d=i.write(c);f(d)}function f(c){let d=c.indexOf(_i);if(d!==-1){let p=c.substr(0,d);s.push(p),r(p,o,a.length),a.push(s.join("")),s.length=0,a.length===e[o]&&(n[o].resolve(a),o++,a=[],o===e.length&&t.off("data",u)),d+1<c.length&&f(c.substr(d+1))}else s.push(c),r(c,o,a.length)}return t.on("data",u),n.map(c=>c.promise)}function h8(t){let e,r=new Promise((u,f)=>e=f),n=[],i=[],s=u=>n.push(u),o=u=>i.push(u);return t.stdout.on("data",s),t.stderr.on("data",o),t.exit.then(({code:u,signal:f})=>{e(`Shell server terminated (code: ${u}, signal: ${f})
${Buffer.concat(n).toString()}
${Buffer.concat(i).toString()}`)},u=>{e(`Shell server failed: ${u&&(u.stack||u.message)}`)}),{unexpectedExit:r,disposeStdioListeners:()=>{t.stdout.off("data",s),t.stderr.off("data",o),n.length=0,i.length=0}}}var zD=require("events"),Ga=class{constructor(e){this.register=e;this.nodeEmitter=new zD.EventEmitter;this.event=e=>(this.nodeEmitter.on("event",e),this.register&&this.nodeEmitter.listenerCount("event")===1&&this.register.on(),{dispose:()=>{this.register&&this.nodeEmitter.listenerCount("event")===1&&this.register.off(),this.nodeEmitter.off("event",e)}})}fire(e){this.nodeEmitter.emit("event",e)}dispose(){this.nodeEmitter.removeAllListeners()}};var Ja=Ce(require("path")),WD=Ce(require("crypto"));function Mo(t,e){let r,n=t.platform==="win32",i={...t,get env(){return r||(r=GD(n,t.env))}},s=m8.bind(void 0,n,i);return t.containerWorkspaceFolder&&(i.containerWorkspaceFolder=JD(s,t.containerWorkspaceFolder)),Yl(s,e)}function Ka(t,e){let r;return Yl(y8.bind(void 0,()=>r||t&&(r=v8(t))),e)}function Xi(t,e,r,n){let i=t==="win32";return Yl(g8.bind(void 0,i,e,GD(i,r)),n)}function Yl(t,e){if(typeof e=="string")return JD(t,e);if(Array.isArray(e))return e.map(r=>Yl(t,r));if(e&&typeof e=="object"&&!Kt.isUri(e)){let r=Object.create(null);return Object.keys(e).forEach(n=>{r[n]=Yl(t,e[n])}),r}return e}var d8=/\$\{(.*?)\}/g;function GD(t,e){if(t){let r=Object.create(null);return Object.keys(e).forEach(n=>{r[n.toLowerCase()]=e[n]}),r}return e}function JD(t,e){return e.replace(d8,p8.bind(void 0,t))}function p8(t,e,r){let n=[],i=r.split(":");return i.length>1&&(r=i[0],n=i.slice(1)),t(e,r,n)}function m8(t,e,r,n,i){switch(n){case"env":case"localEnv":return KD(t,e.env,i,r,e.configFile);case"localWorkspaceFolder":return e.localWorkspaceFolder!==void 0?e.localWorkspaceFolder:r;case"localWorkspaceFolderBasename":return e.localWorkspaceFolder!==void 0?(t?Ja.win32:Ja.posix).basename(e.localWorkspaceFolder):r;case"containerWorkspaceFolder":return e.containerWorkspaceFolder!==void 0?e.containerWorkspaceFolder:r;case"containerWorkspaceFolderBasename":return e.containerWorkspaceFolder!==void 0?Ja.posix.basename(e.containerWorkspaceFolder):r;default:return r}}function g8(t,e,r,n,i,s){switch(i){case"containerEnv":return KD(t,r,s,n,e);default:return n}}function y8(t,e,r){switch(r){case"devcontainerId":return t()||e;default:return e}}function KD(t,e,r,n,i){if(r.length>0){let s=r[0];t&&(s=s.toLowerCase());let o=e[s];return typeof o=="string"?o:r.length>1?r[1]:""}throw new Me({description:`'${n}'${i?` in ${Ja.posix.basename(i.path)}`:""} can not be resolved because no environment variable name is given.`})}function v8(t){let e=JSON.stringify(t,Object.keys(t).sort()),r=Buffer.from(e,"utf-8"),n=WD.createHash("sha256").update(r).digest();return BigInt(`0x${n.toString("hex")}`).toString(32).padStart(52,"0")}async function Zl(t){return new Promise(e=>setTimeout(e,t))}async function XD(t){let e='for pid in `cd /proc && ls -d [0-9]*`; do { echo $pid ; readlink /proc/$pid/cwd ; readlink /proc/$pid/ns/mnt ; cat /proc/$pid/stat | tr "\n" " " ; echo ; xargs -0 < /proc/$pid/environ ; xargs -0 < /proc/$pid/cmdline ; } ; echo --- ; done ; readlink /proc/self/ns/mnt 2>/dev/null',{stdout:r}=await t.exec(e,{logOutput:!1}),n=6,i=r.split(`
---
`),s=i.pop().trim();return{processes:i.map(a=>a.split(`
`)).filter(a=>a.length>=n).map(([a,u,f,c,d,p])=>{let l=/.*\) [^ ]* ([^ ]*) ([^ ]*)/.exec(c)||[];return{pid:a,ppid:l[1],pgrp:l[2],cwd:u,mntNS:f,cmd:p,env:d.split(" ").reduce((h,y)=>{let g=y.indexOf("=");return g!==-1&&(h[y.substr(0,g)]=y.substr(g+1)),h},{})}}),mntNS:s}}function YD(t){let e={};return t.forEach(r=>e[r.pid]={process:r,childProcesses:[]}),t.filter(r=>r.ppid).forEach(r=>{var n;return(n=e[r.ppid])==null?void 0:n.childProcesses.push(e[r.pid])}),e}function V0(t,e="  ",r="  "){return`${r}${t.process.pid}: ${t.process.cmd}
${t.childProcesses.map(n=>V0(n,e,r+e))}`}var ZD=Ce(require("path"));var E8=["install.sh","install","bootstrap.sh","bootstrap","script/bootstrap","setup.sh","setup","script/setup"];async function QD(t,e,r,n){let{repository:i,installCommand:s,targetPath:o}=t.dotfilesConfiguration;if(!i)return;i.indexOf(":")===-1&&!/^\.{0,2}\//.test(i)&&(i=`https://github.com/${i}.git`);let a=e.shellServer,u=w8(e),f={...await r,...await n},c=Object.keys(f).filter(d=>!(d.startsWith("BASH_FUNC_")&&d.endsWith("%%"))).reduce((d,p)=>`${d}${p}=${b8(f[p])} `,"");try{t.output.event({type:"progress",name:"Installing Dotfiles",status:"running"}),s?await a.exec(`# Clone & install dotfiles
${Uh(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${o} ] || ${c}git clone ${i} ${o} || exit $?
if [ -x ${s} ]
then
	echo Executing script ${s}
	cd ${o} && ${c}${s}
else
	echo Error: ${s} not executable
	exit 126
fi
`,{logOutput:"continuous",logLevel:3}):await a.exec(`# Clone & install dotfiles
${Uh(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${o} ] || ${c}git clone ${i} ${o} || exit $?
cd ${o}
for f in ${E8.join(" ")}
do
	if [ -e $f ]
	then
		installCommand=$f
		break
	fi
done
if [ -z "$installCommand" ]
then
	dotfiles=$(ls -d ${o}/.* 2>/dev/null | grep -v -E '/(.|..|.git)$')
	if [ ! -z "$dotfiles" ]
	then
		echo Linking dotfiles: $dotfiles
		ln -sf $dotfiles ~ 2>/dev/null
	else
		echo No dotfiles found.
	fi
else
	if [ -x "$installCommand" ]
	then
		echo Executing script '${o}'/"$installCommand"
		${c}./"$installCommand"
	else
		echo Error: '${o}'/"$installCommand" not executable
		exit 126
	fi
fi
`,{logOutput:"continuous",logLevel:3}),t.output.event({type:"progress",name:"Installing Dotfiles",status:"succeeded"})}catch{t.output.event({type:"progress",name:"Installing Dotfiles",status:"failed"})}}function b8(t){return`'${(t||"").replace(/'+/g,`'"$&"'`)}'`}function w8(t){return ZD.posix.join(t.userDataFolder,".dotfilesMarker")}function nA(t,e,r){function n(s){i.fire(s.toString())}let i=new Ga({on:()=>{process.stdin.isTTY&&process.stdin.setRawMode(!0),process.stdin.on("data",n)},off:()=>process.stdin.off("data",n)});return{enabled:t,skipNonBlocking:e,output:dt({...r,get dimensions(){return r.dimensions},event:s=>r.event({...s,channel:"postCreate"})}),onDidInput:i.event,done:()=>{}}}var x8="updateContentCommand";async function iA(t){let{params:e,createdAt:r,startedAt:n,remoteWorkspaceFolder:i,containerUser:s,containerGroup:o,containerEnv:a,remoteExec:u,remotePtyExec:f,remoteExecAsRoot:c,rootShellServer:d}=t,p;if(d&&s==="root"?p=d:p=await $h(u,e.output,e.sessionId),!a){let E=(await p.exec("echo $PATH")).stdout.trim();a=E?{PATH:E}:{}}s||(s=await C8(p)),!c&&s==="root"&&(c=u);let l=await k8(p),h=await A8(p,s);h||e.output.write(L0(`User ${s} not found in /etc/passwd.`));let y=await D8(a,h),g=await S8(a,h),v=_8(g,e),b;d?b=Promise.resolve(d):s==="root"&&(b=Promise.resolve(p));let x={createdAt:r,startedAt:n,osRelease:l,user:s,gid:o||(h==null?void 0:h.gid),env:a,shell:y,homeFolder:g,userDataFolder:v,remoteWorkspaceFolder:i,remoteExec:u,remotePtyExec:f,remoteExecAsRoot:c,shellServer:p};return(b||c)&&(x.launchRootShellServer=()=>b||(b=$h(c,e.output))),x}async function C8(t){return(await t.exec("id -un")).stdout.trim()}async function S8(t,e){return t.HOME||e&&e.home||"/root"}async function D8(t,e){return t.SHELL||e&&e.shell||"/bin/sh"}async function A8(t,e){let{stdout:r}=await t.exec("cat /etc/passwd",{logOutput:!1});return F8(r,e)}function F8(t,e){return t.split(/\r?\n/).map(n=>n.split(":")).map(n=>({name:n[0],uid:n[2],gid:n[3],home:n[5],shell:n[6]})).find(n=>n.name===e||n.uid===e)}function _8(t,e){return ci.posix.resolve(t,e.containerDataFolder||".devcontainer")}function sA(t){return t.containerSystemDataFolder||"/var/devcontainer"}async function Xa(t,e,r,n){await R8(t,e),await B8(t,e);let i=t.computeExtensionHostEnv||t.lifecycleHook.enabled,s=Xi(t.cliHost.platform,r.configFilePath,e.env,r),o=i?qh(t,e,s):Promise.resolve({}),a=t.secretsP||Promise.resolve({});return t.lifecycleHook.enabled&&await W0(t,n,e,s,o,a,!1),{remoteEnv:t.computeExtensionHostEnv?await o:{}}}function qh(t,e,r){return L8(t,e,r).then(n=>({...n,...t.remoteEnv,...r.remoteEnv}))}async function W0(t,e,r,n,i,s,o){let a=t.lifecycleHook.skipNonBlocking,u=n.waitFor||x8;return a&&u==="initializeCommand"||(t.output.write("LifecycleCommandExecutionMap: "+JSON.stringify(e,void 0,4),1),await H0(t,e,r,"onCreateCommand",i,s,!1),a&&u==="onCreateCommand")||(await H0(t,e,r,"updateContentCommand",i,s,!!t.prebuild),a&&u==="updateContentCommand")?"skipNonBlocking":t.prebuild?"prebuild":(await H0(t,e,r,"postCreateCommand",i,s,!1),a&&u==="postCreateCommand"?"skipNonBlocking":(t.dotfilesConfiguration&&await QD(t,r,i,s),o?"stopForPersonalization":(await I8(t,e,r,i,s),a&&u==="postStartCommand"?"skipNonBlocking":(t.skipPostAttach||await P8(t,e,r,i,s),"done"))))}async function k8(t){let e="unknown",r="unknown",n="unknown";try{e=(await t.exec("uname -m")).stdout.trim();let{stdout:i}=await t.exec("(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null");r=(i.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",n=(i.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(i){console.error(i)}return{hardware:e,id:r,version:n}}async function H0(t,e,r,n,i,s,o){let a=ci.posix.join(r.userDataFolder,`.${n}Marker`),u=!!r.createdAt&&await oA(r.shellServer,a,r.createdAt)||o;await G0(t,e,r,n,i,s,u)}async function I8(t,e,r,n,i){let s=ci.posix.join(r.userDataFolder,".postStartCommandMarker"),o=!!r.startedAt&&await oA(r.shellServer,s,r.startedAt);await G0(t,e,r,"postStartCommand",n,i,o)}async function oA(t,e,r){try{return await t.exec(`mkdir -p '${ci.posix.dirname(e)}' && CONTENT="$(cat '${e}' 2>/dev/null || echo ENOENT)" && [ "\${CONTENT:-${r}}" != '${r}' ] && echo '${r}' > '${e}'`),!0}catch{return!1}}async function P8(t,e,r,n,i){await G0(t,e,r,"postAttachCommand",n,i,!0)}async function G0(t,e,r,n,i,s,o){let a=e[n];if(a.length!==0)for(let{command:u,origin:f}of a){let c=f?f==="devcontainer.json"?f:`Feature '${f}'`:"???";await T8(t,r,u,c,n,i,s,o)}}async function T8({lifecycleHook:t},e,r,n,i,s,o,a){let u=!1;if(typeof r=="string"?u=r.trim().length>0:Array.isArray(r)?u=r.length>0:typeof r=="object"&&(u=Object.keys(r).length>0),a&&r&&u){let f=`Running ${i}...`,c=dt({event(d){t.output.event(d),d.type==="raw"&&d.text.includes("::endstep::")&&t.output.event({type:"progress",name:f,status:"running",stepDetail:""}),d.type==="raw"&&d.text.includes("::step::")&&t.output.event({type:"progress",name:f,status:"running",stepDetail:`${d.text.split("::step::")[1].split(`\r
`)[0]}`})},get dimensions(){return t.output.dimensions},onDidChangeDimensions:t.output.onDidChangeDimensions},3);try{let d=e.remoteWorkspaceFolder||e.homeFolder;async function p(h,y){let g=typeof h=="string"?h:h.join(" ");c.event({type:"progress",name:f,status:"running",stepDetail:g});let v=y?"off":"continuous",b={...await s,...await o},{cmdOutput:x}=await J0({...t,output:c},e,typeof h=="string"?["/bin/sh","-c",h]:h,d,{remoteEnv:b,pty:!0,print:v});y&&c.raw(`\x1B[1mRunning ${y} from ${n}...\x1B[0m\r
${x}\r
`),c.event({type:"progress",name:f,status:"succeeded"})}c.raw(`\x1B[1mRunning the ${i} from ${n}...\x1B[0m\r
\r
`);let l;typeof r=="string"||Array.isArray(r)?l=[p(r)]:l=Object.keys(r).map(h=>{let y=r[h];return p(y,h)}),await Promise.all(l)}catch(d){if(c.event({type:"progress",name:f,status:"failed"}),d&&(d.code===130||d.signal===2))c.raw(`\r
\x1B[1m${i} interrupted.\x1B[0m\r
\r
`);else throw d!=null&&d.code&&c.write(St(`${i} failed with exit code ${d.code}. Skipping any further user-provided commands.`)),new Me({description:`The ${i} in the ${n} failed.`,originalError:d})}}}async function aA(t,e){try{return await t.exec(Uh(e)),!0}catch{return!1}}function Uh(t){return`test ! -f '${t}' && set -o noclobber && mkdir -p '${ci.posix.dirname(t)}' && { > '${t}' ; } 2> /dev/null`}async function J0(t,{remoteExec:e,remotePtyExec:r},n,i,s={}){let o=s.print||"end",a,u,f="";if(s.pty){let d=u=await r({env:s.remoteEnv,cwd:i,cmd:n[0],args:n.slice(1),output:t.output});if(d.onData(p=>{f+=p,o==="continuous"&&(t.stdout?t.stdout.write(p):t.output.raw(p))}),t.onDidInput)t.onDidInput(p=>d.write(p));else if(t.stdin){let p=h=>d.write(h.toString()),l=t.stdin;l.isTTY&&l.setRawMode(!0),l.on("data",p),a={dispose:()=>l.off("data",p)}}}else{let d=u=await e({env:s.remoteEnv,cwd:i,cmd:n[0],args:n.slice(1),output:t.output}),p=[];o==="continuous"&&t.stdout?d.stdout.pipe(t.stdout):d.stdout.on("data",h=>{p.push(h),o==="continuous"&&t.output.raw(h.toString())});let l=[];o==="continuous"&&t.stderr?d.stderr.pipe(t.stderr):d.stderr.on("data",h=>{l.push(h),o==="continuous"&&t.output.raw(h.toString())}),t.onDidInput?t.onDidInput(h=>d.stdin.write(h)):t.stdin&&t.stdin.pipe(d.stdin),await u.exit,f=`${Buffer.concat(p)}
${Buffer.concat(l)}`}let c=await u.exit;return a&&a.dispose(),o==="end"&&t.output.raw(f),c.code||c.signal?Promise.reject({message:`Command failed: ${n.join(" ")}`,cmdOutput:f,code:c.code,signal:c.signal}):{cmdOutput:f}}async function O8(t,{remoteExec:e},r,n,i={}){let s=i.print||(i.silent?"off":"end"),o=await e({env:i.remoteEnv,cwd:n,cmd:r[0],args:r.slice(1),output:i.silent?ui:t.output}),a=[],u=[],f=new z0.StringDecoder,c=new z0.StringDecoder,d="",p="",l,h,y=new Promise((E,S)=>{l=E,h=S});o.stdout.on("data",E=>{a.push(E);let S=f.write(E);s==="continuous"&&t.output.write(S.replace(/\r?\n/g,`\r
`)),d+=S,i.resolveOn&&i.resolveOn.exec(d)&&l()}),o.stderr.on("data",E=>{u.push(E),p+=c.write(E)}),i.stdin instanceof Buffer?(o.stdin.write(i.stdin,E=>{E&&h(E)}),o.stdin.end()):i.stdin instanceof tA.ReadStream&&i.stdin.pipe(o.stdin);let g=await Promise.race([o.exit,y]),v=Buffer.concat(a),b=Buffer.concat(u);s==="end"&&(t.output.write(d.replace(/\r?\n/g,`\r
`)),t.output.write(St(p)));let x=`${d}
${p}`;return g&&(g.code||g.signal)?Promise.reject({message:`Command failed: ${r.join(" ")}`,cmdOutput:x,stdout:v,stderr:b,code:g.code,signal:g.signal}):{cmdOutput:x,stdout:v,stderr:b}}async function R8(t,e){let r=ci.posix.join(sA(t),".patchEtcEnvironmentMarker");if(t.allowSystemConfigChange&&e.launchRootShellServer&&!await jh(e.shellServer,r)){let n=await e.launchRootShellServer();await aA(n,r)&&await n.exec(`cat >> /etc/environment <<'etcEnvrionmentEOF'
${Object.keys(e.env).map(i=>`
${i}="${e.env[i]}"`).join("")}
etcEnvrionmentEOF
`)}}async function B8(t,e){let r=ci.posix.join(sA(t),".patchEtcProfileMarker");if(t.allowSystemConfigChange&&e.launchRootShellServer&&!await jh(e.shellServer,r)){let n=await e.launchRootShellServer();await aA(n,r)&&await n.exec("sed -i -E 's/((^|\\s)PATH=)([^\\$]*)$/\\1${PATH:-\\3}/g' /etc/profile || true")}}async function L8(t,e,r){let n=j8(r,t);if(!n||n==="none")return{};let i=await N8(n,t,e.shellServer);return i||(t.output.write("userEnvProbe: not found in cache"),i=await eA(n,t,e,"cat /proc/self/environ","\0"),i||(t.output.write("userEnvProbe: falling back to printenv"),i=await eA(n,t,e,"printenv",`
`)),i&&await M8(i,n,t,e.shellServer),i||{})}async function N8(t,e,r){if(!r||!e.containerSessionDataFolder)return;let n=uA(t,e.containerSessionDataFolder);try{if(await jh(r,n)){let{stdout:i}=await r.exec(`cat '${n}'`);return JSON.parse(i)}}catch(i){e.output.write(`Failed to read/parse user env cache: ${i}`,5)}}async function M8(t,e,r,n){if(!n||!r.containerSessionDataFolder)return;let i=uA(e,r.containerSessionDataFolder);try{await n.exec(`mkdir -p '${ci.posix.dirname(i)}' && cat > '${i}' << 'envJSON'
${JSON.stringify(t,null,"	")}
envJSON
`)}catch(s){r.output.write(`Failed to cache user env: ${s}`,5)}}function uA(t,e){return ci.posix.join(e,`env-${t}.json`)}async function eA(t,e,r,n,i){var s;if(t==="none")return{};try{let o=rA.randomUUID(),a=new RegExp(o+"([^]*)"+o),u=r.shell;e.output.write(`userEnvProbe shell: ${u}`);let f=ci.posix.basename(u),c=`echo -n ${o}; ${n}; echo -n ${o}`,d;/^pwsh(-preview)?$/.test(f)?d=t==="loginInteractiveShell"||t==="loginShell"?["-Login","-Command"]:["-Command"]:d=[t==="loginInteractiveShell"?"-lic":t==="loginShell"?"-lc":t==="interactiveShell"?"-ic":"-c"];let p=dt(e.output,1),l=O8({output:p},{remoteExec:r.remoteExec},[u,...d,c],r.installFolder);Promise.race([l,Zl(2e3)]).then(async F=>{if(!F){let P,V=r.shellServer||await $h(r.remoteExec,e.output);try{({processes:P}=await XD(V))}finally{r.shellServer||await V.process.terminate()}let H=P.find(j=>j.cmd.startsWith(u)&&j.cmd.indexOf(o)!==-1);if(H){let R=YD(P)[H.pid];e.output.write(`userEnvProbe is taking longer than 2 seconds. Process tree:
${V0(R)}`)}else e.output.write("userEnvProbe is taking longer than 2 seconds. Process not found.")}},()=>{}).catch(F=>e.output.write(St(F&&(F.stack||F.message)||"Error reading process tree.")));let h=await Promise.race([l,Zl(1e4)]);if(!h)return e.output.write(St("userEnvProbe is taking longer than 10 seconds. Avoid waiting for user input in your shell's startup scripts. Continuing.")),{};let y=h.stdout.toString(),g=a.exec(y),v=g?g[1]:"";if(!v)return;let b=v.split(i).reduce((F,P)=>{let V=P.indexOf("=");return V!==-1&&(F[P.substring(0,V)]=P.substring(V+1)),F},{});e.output.write(`userEnvProbe parsed: ${JSON.stringify(b,void 0,"  ")}`,1),delete b.PWD;let x=b.PATH,E=(s=r.env)==null?void 0:s.PATH,S=!(e.allowSystemConfigChange&&r.launchRootShellServer)&&x&&E;if(S){let F=r.user;b.PATH=$8(x,E,F==="root"||F==="0")}return e.output.write(`userEnvProbe PATHs:
Probe:     ${typeof x=="string"?`'${x}'`:"None"}
Container: ${typeof E=="string"?`'${E}'`:"None"}${S?`
Merged:    ${typeof b.PATH=="string"?`'${b.PATH}'`:"None"}`:""}`),b}catch(o){return e.output.write(St(o&&(o.stack||o.message)||"Error reading shell environment.")),{}}}function j8(t,e){let r=t==null?void 0:t.userEnvProbe;return e.output.write(`userEnvProbe: ${r||e.defaultUserEnvProbe}${r?"":" (default)"}`),r||(r=e.defaultUserEnvProbe),r}function $8(t,e,r){let n=t.split(":"),i=0;for(let s of e.split(":")){let o=n.indexOf(s);o===-1?(r||!/\/sbin(\/|$)/.test(s))&&n.splice(i++,0,s):i=o+1}return n.join(":")}async function lA(t){for(let e of t)await(typeof e=="function"?e():e)}async function ki(t,e){return(await K0(t,[e]))[0]}async function K0(t,e){let r=await cA(t,"container",e);for(let n of r){n.Ports=[];let i=n.NetworkSettings.Ports;for(let s in i){let[o,a]=s.split("/");for(let u of i[s]||[]){let{HostIp:f,HostPort:c}=u;n.Ports.push({IP:f,PrivatePort:parseInt(o),PublicPort:parseInt(c),Type:a})}}}return r}async function X0(t,e){return(await cA(t,"image",[e]))[0]}async function cA(t,e,r){if(!r.length)return[];let n=Wr(t),i=await Mn({...n,args:(n.args||[]).concat(["inspect","--type",e,...r])});try{return JSON.parse(i.stdout.toString())}catch(s){throw console.error({stdout:i.stdout.toString(),stderr:i.stderr.toString()}),s}}async function Vh(t,e=!1,r=[]){let n=[];e&&n.push("-a");for(let s of r)n.push("--filter",`label=${s}`);return(await er(t,"ps","-q",...n)).stdout.toString().split(/\r?\n/).filter(s=>!!s)}async function fA(t,e){let{exec:r,cmd:n,args:i,env:s,output:o}=Wr(t),a=[];for(let p in e)for(let l of e[p])a.push("--filter",`${p}=${l}`);let u=await U8(t)?"json":"{{json .}}",f=(i||[]).concat(["events","--format",u,...a]),c=await r({cmd:n,args:f,env:s,output:o}),d=[];return c.stderr.on("data",p=>d.push(p)),c.exit.then(({code:p,signal:l})=>{d.length&&o.write(St(Buffer.concat(d).toString())),(p||l&&l!=="SIGKILL")&&o.write(St(`Docker events terminated (code: ${p}, signal: ${l}).`))},p=>{o.write(St(p&&(p.stack||p.message)))}),c}async function hA(t){try{let e={...Wr(t),print:!0},n=(await er(e,"buildx","version")).stdout.toString().match(/(?<major>[0-9]+)\.(?<minor>[0-9]+)\.(?<patch>[0-9]+)/);return n?n[0]:null}catch{return null}}async function er(t,...e){let r=Wr(t);return Mn({...r,args:(r.args||[]).concat(e)})}async function U8(t){if(("cliHost"in t?t.cliHost:t.common.cliHost).platform!=="linux")return!1;try{let{stdout:r}=await er(t,"-v");return r.toString().toLowerCase().indexOf("podman")!==-1}catch{return!1}}async function gn(t,...e){let r=fi(t);return No({...r,args:(r.args||[]).concat(e)})}async function jo(t,...e){let r=Wr(t,"dockerComposeCLI"in t?await t.dockerComposeCLI():void 0);return Mn({...r,args:(r.args||[]).concat(e)})}async function Hh(t,...e){let r=fi(t,"dockerComposeCLI"in t?await t.dockerComposeCLI():void 0);return No({...r,args:(r.args||[]).concat(e)})}function Y0(t,e,r){return async function(n){let{exec:i,cmd:s,args:o,env:a}=Wr(t),{argsPrefix:u,args:f}=mA(e,r,n,!1);return i({cmd:s,args:(o||[]).concat(f),env:a,output:pA(n.output,s,u)})}}async function dA(t,e,r,n){if(!await n("node-pty"))throw new Error("Missing node-pty");return async function(s){let{ptyExec:o,cmd:a,args:u,env:f}=fi(t),{argsPrefix:c,args:d}=mA(e,r,s,!0);return o({cmd:a,args:(u||[]).concat(d),env:f,output:pA(s.output,a,c)})}}function pA(t,e,r){return q8(t,`Run: ${e} ${(r||[]).join(" ").replace(/\n.*/g,"")}`,"Run in container:")}function q8(t,e,r){let n=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");return dt({...t,get dimensions(){return t.dimensions},event:s=>t.event("text"in s?{...s,text:s.text.replace(n,r)}:s)})}function mA(t,e,r,n){let{env:i,cwd:s,cmd:o,args:a}=r,u=["exec","-i"];n&&u.push("-t"),e&&u.push("-u",e),i&&Object.keys(i).forEach(c=>u.push("-e",`${c}=${i[c]}`)),s&&u.push("-w",s),u.push(t);let f=u.slice();return u.push(o),a&&u.push(...a),{argsPrefix:f,args:u}}function Wr(t,e){return"dockerEnv"in t?{exec:t.common.cliHost.exec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:t.dockerEnv,output:t.common.output}:"cliHost"in t?{exec:t.cliHost.exec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:t.env,output:t.output}:{...t,env:t.env}}function fi(t,e){return"dockerEnv"in t?{ptyExec:t.common.cliHost.ptyExec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:t.dockerEnv,output:t.common.output}:"cliHost"in t?{ptyExec:t.cliHost.ptyExec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:t.env,output:t.output}:{...t,env:t.env}}function gA(t){return t.toLowerCase().replace(/[^a-z0-9\._-]+/g,"").replace(/(\.[\._-]|_[\.-]|__[\._-]|-+[\._])[\._-]*/g,(e,r)=>r.substr(0,r.length-1))}function TA(t){return typeof t>"u"||t===null}function V8(t){return typeof t=="object"&&t!==null}function H8(t){return Array.isArray(t)?t:TA(t)?[]:[t]}function z8(t,e){var r,n,i,s;if(e)for(s=Object.keys(e),r=0,n=s.length;r<n;r+=1)i=s[r],t[i]=e[i];return t}function W8(t,e){var r="",n;for(n=0;n<e;n+=1)r+=t;return r}function G8(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var J8=TA,K8=V8,X8=H8,Y8=W8,Z8=G8,Q8=z8,Xt={isNothing:J8,isObject:K8,toArray:X8,repeat:Y8,isNegativeZero:Z8,extend:Q8};function OA(t,e){var r="",n=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),n+" "+r):n}function ec(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=OA(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ec.prototype=Object.create(Error.prototype);ec.prototype.constructor=ec;ec.prototype.toString=function(e){return this.name+": "+OA(this,e)};var Gr=ec;function Z0(t,e,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-e>a&&(s=" ... ",e=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+t.slice(e,r).replace(/\t/g,"\u2192")+o,pos:n-e+s.length}}function Q0(t,e){return Xt.repeat(" ",e-t.length)+t}function ej(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(t.buffer);)i.push(s.index),n.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",u,f,c=Math.min(t.line+e.linesAfter,i.length).toString().length,d=e.maxLength-(e.indent+c+3);for(u=1;u<=e.linesBefore&&!(o-u<0);u++)f=Z0(t.buffer,n[o-u],i[o-u],t.position-(n[o]-n[o-u]),d),a=Xt.repeat(" ",e.indent)+Q0((t.line-u+1).toString(),c)+" | "+f.str+`
`+a;for(f=Z0(t.buffer,n[o],i[o],t.position,d),a+=Xt.repeat(" ",e.indent)+Q0((t.line+1).toString(),c)+" | "+f.str+`
`,a+=Xt.repeat("-",e.indent+c+3+f.pos)+`^
`,u=1;u<=e.linesAfter&&!(o+u>=i.length);u++)f=Z0(t.buffer,n[o+u],i[o+u],t.position-(n[o]-n[o+u]),d),a+=Xt.repeat(" ",e.indent)+Q0((t.line+u+1).toString(),c)+" | "+f.str+`
`;return a.replace(/\n$/,"")}var tj=ej,rj=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],nj=["scalar","sequence","mapping"];function ij(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}function sj(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(rj.indexOf(r)===-1)throw new Gr('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=ij(e.styleAliases||null),nj.indexOf(this.kind)===-1)throw new Gr('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var br=sj;function yA(t,e){var r=[];return t[e].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function oj(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function n(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(n);return t}function ty(t){return this.extend(t)}ty.prototype.extend=function(e){var r=[],n=[];if(e instanceof br)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(r=r.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new Gr("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof br))throw new Gr("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Gr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Gr("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof br))throw new Gr("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(ty.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=yA(i,"implicit"),i.compiledExplicit=yA(i,"explicit"),i.compiledTypeMap=oj(i.compiledImplicit,i.compiledExplicit),i};var aj=ty,uj=new br("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),lj=new br("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),cj=new br("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),fj=new aj({explicit:[uj,lj,cj]});function hj(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function dj(){return null}function pj(t){return t===null}var mj=new br("tag:yaml.org,2002:null",{kind:"scalar",resolve:hj,construct:dj,predicate:pj,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function gj(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function yj(t){return t==="true"||t==="True"||t==="TRUE"}function vj(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var Ej=new br("tag:yaml.org,2002:bool",{kind:"scalar",resolve:gj,construct:yj,predicate:vj,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function bj(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function wj(t){return 48<=t&&t<=55}function xj(t){return 48<=t&&t<=57}function Cj(t){if(t===null)return!1;var e=t.length,r=0,n=!1,i;if(!e)return!1;if(i=t[r],(i==="-"||i==="+")&&(i=t[++r]),i==="0"){if(r+1===e)return!0;if(i=t[++r],i==="b"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!bj(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!wj(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<e;r++)if(i=t[r],i!=="_"){if(!xj(t.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function Sj(t){var e=t,r=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}function Dj(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Xt.isNegativeZero(t)}var Aj=new br("tag:yaml.org,2002:int",{kind:"scalar",resolve:Cj,construct:Sj,predicate:Dj,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Fj=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function _j(t){return!(t===null||!Fj.test(t)||t[t.length-1]==="_")}function kj(t){var e,r;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}var Ij=/^[-+]?[0-9]+e/;function Pj(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Xt.isNegativeZero(t))return"-0.0";return r=t.toString(10),Ij.test(r)?r.replace("e",".e"):r}function Tj(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Xt.isNegativeZero(t))}var Oj=new br("tag:yaml.org,2002:float",{kind:"scalar",resolve:_j,construct:kj,predicate:Tj,represent:Pj,defaultStyle:"lowercase"}),Rj=fj.extend({implicit:[mj,Ej,Aj,Oj]}),Bj=Rj,RA=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),BA=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Lj(t){return t===null?!1:RA.exec(t)!==null||BA.exec(t)!==null}function Nj(t){var e,r,n,i,s,o,a,u=0,f=null,c,d,p;if(e=RA.exec(t),e===null&&(e=BA.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(r,n,i));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(u=e[7].slice(0,3);u.length<3;)u+="0";u=+u}return e[9]&&(c=+e[10],d=+(e[11]||0),f=(c*60+d)*6e4,e[9]==="-"&&(f=-f)),p=new Date(Date.UTC(r,n,i,s,o,a,u)),f&&p.setTime(p.getTime()-f),p}function Mj(t){return t.toISOString()}var jj=new br("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Lj,construct:Nj,instanceOf:Date,represent:Mj});function $j(t){return t==="<<"||t===null}var Uj=new br("tag:yaml.org,2002:merge",{kind:"scalar",resolve:$j}),oy=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function qj(t){if(t===null)return!1;var e,r,n=0,i=t.length,s=oy;for(r=0;r<i;r++)if(e=s.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;n+=6}return n%8===0}function Vj(t){var e,r,n=t.replace(/[\r\n=]/g,""),i=n.length,s=oy,o=0,a=[];for(e=0;e<i;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(e));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function Hj(t){var e="",r=0,n,i,s=t.length,o=oy;for(n=0;n<s;n++)n%3===0&&n&&(e+=o[r>>18&63],e+=o[r>>12&63],e+=o[r>>6&63],e+=o[r&63]),r=(r<<8)+t[n];return i=s%3,i===0?(e+=o[r>>18&63],e+=o[r>>12&63],e+=o[r>>6&63],e+=o[r&63]):i===2?(e+=o[r>>10&63],e+=o[r>>4&63],e+=o[r<<2&63],e+=o[64]):i===1&&(e+=o[r>>2&63],e+=o[r<<4&63],e+=o[64],e+=o[64]),e}function zj(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var Wj=new br("tag:yaml.org,2002:binary",{kind:"scalar",resolve:qj,construct:Vj,predicate:zj,represent:Hj}),Gj=Object.prototype.hasOwnProperty,Jj=Object.prototype.toString;function Kj(t){if(t===null)return!0;var e=[],r,n,i,s,o,a=t;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,Jj.call(i)!=="[object Object]")return!1;for(s in i)if(Gj.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function Xj(t){return t!==null?t:[]}var Yj=new br("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Kj,construct:Xj}),Zj=Object.prototype.toString;function Qj(t){if(t===null)return!0;var e,r,n,i,s,o=t;for(s=new Array(o.length),e=0,r=o.length;e<r;e+=1){if(n=o[e],Zj.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[e]=[i[0],n[i[0]]]}return!0}function e$(t){if(t===null)return[];var e,r,n,i,s,o=t;for(s=new Array(o.length),e=0,r=o.length;e<r;e+=1)n=o[e],i=Object.keys(n),s[e]=[i[0],n[i[0]]];return s}var t$=new br("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Qj,construct:e$}),r$=Object.prototype.hasOwnProperty;function n$(t){if(t===null)return!0;var e,r=t;for(e in r)if(r$.call(r,e)&&r[e]!==null)return!1;return!0}function i$(t){return t!==null?t:{}}var s$=new br("tag:yaml.org,2002:set",{kind:"mapping",resolve:n$,construct:i$}),LA=Bj.extend({implicit:[jj,Uj],explicit:[Wj,Yj,t$,s$]}),js=Object.prototype.hasOwnProperty,zh=1,NA=2,MA=3,Wh=4,ey=1,o$=2,vA=3,a$=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,u$=/[\x85\u2028\u2029]/,l$=/[,\[\]\{\}]/,jA=/^(?:!|!!|![a-z\-]+!)$/i,$A=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function EA(t){return Object.prototype.toString.call(t)}function Ii(t){return t===10||t===13}function Uo(t){return t===9||t===32}function Jr(t){return t===9||t===32||t===10||t===13}function Za(t){return t===44||t===91||t===93||t===123||t===125}function c$(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function f$(t){return t===120?2:t===117?4:t===85?8:0}function h$(t){return 48<=t&&t<=57?t-48:-1}function bA(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function d$(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var UA=new Array(256),qA=new Array(256);for($o=0;$o<256;$o++)UA[$o]=bA($o)?1:0,qA[$o]=bA($o);var $o;function p$(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||LA,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function VA(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=tj(r),new Gr(e,r)}function je(t,e){throw VA(t,e)}function Gh(t,e){t.onWarning&&t.onWarning.call(null,VA(t,e))}var wA={YAML:function(e,r,n){var i,s,o;e.version!==null&&je(e,"duplication of %YAML directive"),n.length!==1&&je(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&je(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&je(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&Gh(e,"unsupported YAML version of the document")},TAG:function(e,r,n){var i,s;n.length!==2&&je(e,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],jA.test(i)||je(e,"ill-formed tag handle (first argument) of the TAG directive"),js.call(e.tagMap,i)&&je(e,'there is a previously declared suffix for "'+i+'" tag handle'),$A.test(s)||je(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{je(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};function Ms(t,e,r,n){var i,s,o,a;if(e<r){if(a=t.input.slice(e,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||je(t,"expected valid JSON character");else a$.test(a)&&je(t,"the stream contains non-printable characters");t.result+=a}}function xA(t,e,r,n){var i,s,o,a;for(Xt.isObject(r)||je(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],js.call(e,s)||(e[s]=r[s],n[s]=!0)}function Qa(t,e,r,n,i,s,o,a,u){var f,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),f=0,c=i.length;f<c;f+=1)Array.isArray(i[f])&&je(t,"nested arrays are not supported inside keys"),typeof i=="object"&&EA(i[f])==="[object Object]"&&(i[f]="[object Object]");if(typeof i=="object"&&EA(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(f=0,c=s.length;f<c;f+=1)xA(t,e,s[f],r);else xA(t,e,s,r);else!t.json&&!js.call(r,i)&&js.call(e,i)&&(t.line=o||t.line,t.lineStart=a||t.lineStart,t.position=u||t.position,je(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete r[i];return e}function ay(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):je(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function zt(t,e,r){for(var n=0,i=t.input.charCodeAt(t.position);i!==0;){for(;Uo(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(Ii(i))for(ay(t),i=t.input.charCodeAt(t.position),n++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return r!==-1&&n!==0&&t.lineIndent<r&&Gh(t,"deficient indentation"),n}function Xh(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||Jr(r)))}function uy(t,e){e===1?t.result+=" ":e>1&&(t.result+=Xt.repeat(`
`,e-1))}function m$(t,e,r){var n,i,s,o,a,u,f,c,d=t.kind,p=t.result,l;if(l=t.input.charCodeAt(t.position),Jr(l)||Za(l)||l===35||l===38||l===42||l===33||l===124||l===62||l===39||l===34||l===37||l===64||l===96||(l===63||l===45)&&(i=t.input.charCodeAt(t.position+1),Jr(i)||r&&Za(i)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,a=!1;l!==0;){if(l===58){if(i=t.input.charCodeAt(t.position+1),Jr(i)||r&&Za(i))break}else if(l===35){if(n=t.input.charCodeAt(t.position-1),Jr(n))break}else{if(t.position===t.lineStart&&Xh(t)||r&&Za(l))break;if(Ii(l))if(u=t.line,f=t.lineStart,c=t.lineIndent,zt(t,!1,-1),t.lineIndent>=e){a=!0,l=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=u,t.lineStart=f,t.lineIndent=c;break}}a&&(Ms(t,s,o,!1),uy(t,t.line-u),s=o=t.position,a=!1),Uo(l)||(o=t.position+1),l=t.input.charCodeAt(++t.position)}return Ms(t,s,o,!1),t.result?!0:(t.kind=d,t.result=p,!1)}function g$(t,e){var r,n,i;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(Ms(t,n,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)n=t.position,t.position++,i=t.position;else return!0;else Ii(r)?(Ms(t,n,i,!0),uy(t,zt(t,!1,e)),n=i=t.position):t.position===t.lineStart&&Xh(t)?je(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);je(t,"unexpected end of the stream within a single quoted scalar")}function y$(t,e){var r,n,i,s,o,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return Ms(t,r,t.position,!0),t.position++,!0;if(a===92){if(Ms(t,r,t.position,!0),a=t.input.charCodeAt(++t.position),Ii(a))zt(t,!1,e);else if(a<256&&UA[a])t.result+=qA[a],t.position++;else if((o=f$(a))>0){for(i=o,s=0;i>0;i--)a=t.input.charCodeAt(++t.position),(o=c$(a))>=0?s=(s<<4)+o:je(t,"expected hexadecimal character");t.result+=d$(s),t.position++}else je(t,"unknown escape sequence");r=n=t.position}else Ii(a)?(Ms(t,r,n,!0),uy(t,zt(t,!1,e)),r=n=t.position):t.position===t.lineStart&&Xh(t)?je(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}je(t,"unexpected end of the stream within a double quoted scalar")}function v$(t,e){var r=!0,n,i,s,o=t.tag,a,u=t.anchor,f,c,d,p,l,h=Object.create(null),y,g,v,b;if(b=t.input.charCodeAt(t.position),b===91)c=93,l=!1,a=[];else if(b===123)c=125,l=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),b=t.input.charCodeAt(++t.position);b!==0;){if(zt(t,!0,e),b=t.input.charCodeAt(t.position),b===c)return t.position++,t.tag=o,t.anchor=u,t.kind=l?"mapping":"sequence",t.result=a,!0;r?b===44&&je(t,"expected the node content, but found ','"):je(t,"missed comma between flow collection entries"),g=y=v=null,d=p=!1,b===63&&(f=t.input.charCodeAt(t.position+1),Jr(f)&&(d=p=!0,t.position++,zt(t,!0,e))),n=t.line,i=t.lineStart,s=t.position,eu(t,e,zh,!1,!0),g=t.tag,y=t.result,zt(t,!0,e),b=t.input.charCodeAt(t.position),(p||t.line===n)&&b===58&&(d=!0,b=t.input.charCodeAt(++t.position),zt(t,!0,e),eu(t,e,zh,!1,!0),v=t.result),l?Qa(t,a,h,g,y,v,n,i,s):d?a.push(Qa(t,null,h,g,y,v,n,i,s)):a.push(y),zt(t,!0,e),b=t.input.charCodeAt(t.position),b===44?(r=!0,b=t.input.charCodeAt(++t.position)):r=!1}je(t,"unexpected end of the stream within a flow collection")}function E$(t,e){var r,n,i=ey,s=!1,o=!1,a=e,u=0,f=!1,c,d;if(d=t.input.charCodeAt(t.position),d===124)n=!1;else if(d===62)n=!0;else return!1;for(t.kind="scalar",t.result="";d!==0;)if(d=t.input.charCodeAt(++t.position),d===43||d===45)ey===i?i=d===43?vA:o$:je(t,"repeat of a chomping mode identifier");else if((c=h$(d))>=0)c===0?je(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?je(t,"repeat of an indentation width identifier"):(a=e+c-1,o=!0);else break;if(Uo(d)){do d=t.input.charCodeAt(++t.position);while(Uo(d));if(d===35)do d=t.input.charCodeAt(++t.position);while(!Ii(d)&&d!==0)}for(;d!==0;){for(ay(t),t.lineIndent=0,d=t.input.charCodeAt(t.position);(!o||t.lineIndent<a)&&d===32;)t.lineIndent++,d=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>a&&(a=t.lineIndent),Ii(d)){u++;continue}if(t.lineIndent<a){i===vA?t.result+=Xt.repeat(`
`,s?1+u:u):i===ey&&s&&(t.result+=`
`);break}for(n?Uo(d)?(f=!0,t.result+=Xt.repeat(`
`,s?1+u:u)):f?(f=!1,t.result+=Xt.repeat(`
`,u+1)):u===0?s&&(t.result+=" "):t.result+=Xt.repeat(`
`,u):t.result+=Xt.repeat(`
`,s?1+u:u),s=!0,o=!0,u=0,r=t.position;!Ii(d)&&d!==0;)d=t.input.charCodeAt(++t.position);Ms(t,r,t.position,!1)}return!0}function CA(t,e){var r,n=t.tag,i=t.anchor,s=[],o,a=!1,u;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),u=t.input.charCodeAt(t.position);u!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,je(t,"tab characters must not be used in indentation")),!(u!==45||(o=t.input.charCodeAt(t.position+1),!Jr(o))));){if(a=!0,t.position++,zt(t,!0,-1)&&t.lineIndent<=e){s.push(null),u=t.input.charCodeAt(t.position);continue}if(r=t.line,eu(t,e,MA,!1,!0),s.push(t.result),zt(t,!0,-1),u=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&u!==0)je(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=n,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function b$(t,e,r){var n,i,s,o,a,u,f=t.tag,c=t.anchor,d={},p=Object.create(null),l=null,h=null,y=null,g=!1,v=!1,b;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=d),b=t.input.charCodeAt(t.position);b!==0;){if(!g&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,je(t,"tab characters must not be used in indentation")),n=t.input.charCodeAt(t.position+1),s=t.line,(b===63||b===58)&&Jr(n))b===63?(g&&(Qa(t,d,p,l,h,null,o,a,u),l=h=y=null),v=!0,g=!0,i=!0):g?(g=!1,i=!0):je(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,b=n;else{if(o=t.line,a=t.lineStart,u=t.position,!eu(t,r,NA,!1,!0))break;if(t.line===s){for(b=t.input.charCodeAt(t.position);Uo(b);)b=t.input.charCodeAt(++t.position);if(b===58)b=t.input.charCodeAt(++t.position),Jr(b)||je(t,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(Qa(t,d,p,l,h,null,o,a,u),l=h=y=null),v=!0,g=!1,i=!1,l=t.tag,h=t.result;else if(v)je(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=f,t.anchor=c,!0}else if(v)je(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=f,t.anchor=c,!0}if((t.line===s||t.lineIndent>e)&&(g&&(o=t.line,a=t.lineStart,u=t.position),eu(t,e,Wh,!0,i)&&(g?h=t.result:y=t.result),g||(Qa(t,d,p,l,h,y,o,a,u),l=h=y=null),zt(t,!0,-1),b=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&b!==0)je(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return g&&Qa(t,d,p,l,h,null,o,a,u),v&&(t.tag=f,t.anchor=c,t.kind="mapping",t.result=d),v}function w$(t){var e,r=!1,n=!1,i,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&je(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(r=!0,o=t.input.charCodeAt(++t.position)):o===33?(n=!0,i="!!",o=t.input.charCodeAt(++t.position)):i="!",e=t.position,r){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):je(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Jr(o);)o===33&&(n?je(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),jA.test(i)||je(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),l$.test(s)&&je(t,"tag suffix cannot contain flow indicator characters")}s&&!$A.test(s)&&je(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{je(t,"tag name is malformed: "+s)}return r?t.tag=s:js.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:je(t,'undeclared tag handle "'+i+'"'),!0}function x$(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&je(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Jr(r)&&!Za(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&je(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function C$(t){var e,r,n;if(n=t.input.charCodeAt(t.position),n!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Jr(n)&&!Za(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&je(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),js.call(t.anchorMap,r)||je(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],zt(t,!0,-1),!0}function eu(t,e,r,n,i){var s,o,a,u=1,f=!1,c=!1,d,p,l,h,y,g;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=a=Wh===r||MA===r,n&&zt(t,!0,-1)&&(f=!0,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)),u===1)for(;w$(t)||x$(t);)zt(t,!0,-1)?(f=!0,a=s,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)):a=!1;if(a&&(a=f||i),(u===1||Wh===r)&&(zh===r||NA===r?y=e:y=e+1,g=t.position-t.lineStart,u===1?a&&(CA(t,g)||b$(t,g,y))||v$(t,y)?c=!0:(o&&E$(t,y)||g$(t,y)||y$(t,y)?c=!0:C$(t)?(c=!0,(t.tag!==null||t.anchor!==null)&&je(t,"alias node should not have any properties")):m$(t,y,zh===r)&&(c=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):u===0&&(c=a&&CA(t,g))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&je(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),d=0,p=t.implicitTypes.length;d<p;d+=1)if(h=t.implicitTypes[d],h.resolve(t.result)){t.result=h.construct(t.result),t.tag=h.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(js.call(t.typeMap[t.kind||"fallback"],t.tag))h=t.typeMap[t.kind||"fallback"][t.tag];else for(h=null,l=t.typeMap.multi[t.kind||"fallback"],d=0,p=l.length;d<p;d+=1)if(t.tag.slice(0,l[d].tag.length)===l[d].tag){h=l[d];break}h||je(t,"unknown tag !<"+t.tag+">"),t.result!==null&&h.kind!==t.kind&&je(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+h.kind+'", not "'+t.kind+'"'),h.resolve(t.result,t.tag)?(t.result=h.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):je(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||c}function S$(t){var e=t.position,r,n,i,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(zt(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),r=t.position;o!==0&&!Jr(o);)o=t.input.charCodeAt(++t.position);for(n=t.input.slice(r,t.position),i=[],n.length<1&&je(t,"directive name must not be less than one character in length");o!==0;){for(;Uo(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!Ii(o));break}if(Ii(o))break;for(r=t.position;o!==0&&!Jr(o);)o=t.input.charCodeAt(++t.position);i.push(t.input.slice(r,t.position))}o!==0&&ay(t),js.call(wA,n)?wA[n](t,n,i):Gh(t,'unknown document directive "'+n+'"')}if(zt(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,zt(t,!0,-1)):s&&je(t,"directives end mark is expected"),eu(t,t.lineIndent-1,Wh,!1,!0),zt(t,!0,-1),t.checkLineBreaks&&u$.test(t.input.slice(e,t.position))&&Gh(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Xh(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,zt(t,!0,-1));return}if(t.position<t.length-1)je(t,"end of the stream or a document separator is expected");else return}function HA(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new p$(t,e),n=t.indexOf("\0");for(n!==-1&&(r.position=n,je(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)S$(r);return r.documents}function D$(t,e,r){e!==null&&typeof e=="object"&&typeof r>"u"&&(r=e,e=null);var n=HA(t,r);if(typeof e!="function")return n;for(var i=0,s=n.length;i<s;i+=1)e(n[i])}function A$(t,e){var r=HA(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new Gr("expected a single document in the stream, but found more")}}var F$=D$,_$=A$,zA={loadAll:F$,load:_$},WA=Object.prototype.toString,GA=Object.prototype.hasOwnProperty,ly=65279,k$=9,tc=10,I$=13,P$=32,T$=33,O$=34,ry=35,R$=37,B$=38,L$=39,N$=42,JA=44,M$=45,Jh=58,j$=61,$$=62,U$=63,q$=64,KA=91,XA=93,V$=96,YA=123,H$=124,ZA=125,wr={};wr[0]="\\0";wr[7]="\\a";wr[8]="\\b";wr[9]="\\t";wr[10]="\\n";wr[11]="\\v";wr[12]="\\f";wr[13]="\\r";wr[27]="\\e";wr[34]='\\"';wr[92]="\\\\";wr[133]="\\N";wr[160]="\\_";wr[8232]="\\L";wr[8233]="\\P";var z$=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],W$=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function G$(t,e){var r,n,i,s,o,a,u;if(e===null)return{};for(r={},n=Object.keys(e),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=t.compiledTypeMap.fallback[o],u&&GA.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[o]=a;return r}function J$(t){var e,r,n;if(e=t.toString(16).toUpperCase(),t<=255)r="x",n=2;else if(t<=65535)r="u",n=4;else if(t<=4294967295)r="U",n=8;else throw new Gr("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Xt.repeat("0",n-e.length)+e}var K$=1,rc=2;function X$(t){this.schema=t.schema||LA,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Xt.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=G$(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?rc:K$,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function SA(t,e){for(var r=Xt.repeat(" ",e),n=0,i=-1,s="",o,a=t.length;n<a;)i=t.indexOf(`
`,n),i===-1?(o=t.slice(n),n=a):(o=t.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function ny(t,e){return`
`+Xt.repeat(" ",t.indent*e)}function Y$(t,e){var r,n,i;for(r=0,n=t.implicitTypes.length;r<n;r+=1)if(i=t.implicitTypes[r],i.resolve(e))return!0;return!1}function Kh(t){return t===P$||t===k$}function nc(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==ly||65536<=t&&t<=1114111}function DA(t){return nc(t)&&t!==ly&&t!==I$&&t!==tc}function AA(t,e,r){var n=DA(t),i=n&&!Kh(t);return(r?n:n&&t!==JA&&t!==KA&&t!==XA&&t!==YA&&t!==ZA)&&t!==ry&&!(e===Jh&&!i)||DA(e)&&!Kh(e)&&t===ry||e===Jh&&i}function Z$(t){return nc(t)&&t!==ly&&!Kh(t)&&t!==M$&&t!==U$&&t!==Jh&&t!==JA&&t!==KA&&t!==XA&&t!==YA&&t!==ZA&&t!==ry&&t!==B$&&t!==N$&&t!==T$&&t!==H$&&t!==j$&&t!==$$&&t!==L$&&t!==O$&&t!==R$&&t!==q$&&t!==V$}function Q$(t){return!Kh(t)&&t!==Jh}function Ql(t,e){var r=t.charCodeAt(e),n;return r>=55296&&r<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function QA(t){var e=/^\n* /;return e.test(t)}var e1=1,iy=2,t1=3,r1=4,Ya=5;function e4(t,e,r,n,i,s,o,a){var u,f=0,c=null,d=!1,p=!1,l=n!==-1,h=-1,y=Z$(Ql(t,0))&&Q$(Ql(t,t.length-1));if(e||o)for(u=0;u<t.length;f>=65536?u+=2:u++){if(f=Ql(t,u),!nc(f))return Ya;y=y&&AA(f,c,a),c=f}else{for(u=0;u<t.length;f>=65536?u+=2:u++){if(f=Ql(t,u),f===tc)d=!0,l&&(p=p||u-h-1>n&&t[h+1]!==" ",h=u);else if(!nc(f))return Ya;y=y&&AA(f,c,a),c=f}p=p||l&&u-h-1>n&&t[h+1]!==" "}return!d&&!p?y&&!o&&!i(t)?e1:s===rc?Ya:iy:r>9&&QA(t)?Ya:o?s===rc?Ya:iy:p?r1:t1}function t4(t,e,r,n,i){t.dump=function(){if(e.length===0)return t.quotingType===rc?'""':"''";if(!t.noCompatMode&&(z$.indexOf(e)!==-1||W$.test(e)))return t.quotingType===rc?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,r),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),a=n||t.flowLevel>-1&&r>=t.flowLevel;function u(f){return Y$(t,f)}switch(e4(e,a,t.indent,o,u,t.quotingType,t.forceQuotes&&!n,i)){case e1:return e;case iy:return"'"+e.replace(/'/g,"''")+"'";case t1:return"|"+FA(e,t.indent)+_A(SA(e,s));case r1:return">"+FA(e,t.indent)+_A(SA(r4(e,o),s));case Ya:return'"'+n4(e)+'"';default:throw new Gr("impossible error: invalid scalar style")}}()}function FA(t,e){var r=QA(t)?String(e):"",n=t[t.length-1]===`
`,i=n&&(t[t.length-2]===`
`||t===`
`),s=i?"+":n?"":"-";return r+s+`
`}function _A(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function r4(t,e){for(var r=/(\n+)([^\n]*)/g,n=function(){var f=t.indexOf(`
`);return f=f!==-1?f:t.length,r.lastIndex=f,kA(t.slice(0,f),e)}(),i=t[0]===`
`||t[0]===" ",s,o;o=r.exec(t);){var a=o[1],u=o[2];s=u[0]===" ",n+=a+(!i&&!s&&u!==""?`
`:"")+kA(u,e),i=s}return n}function kA(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,u="";n=r.exec(t);)a=n.index,a-i>e&&(s=o>i?o:a,u+=`
`+t.slice(i,s),i=s+1),o=a;return u+=`
`,t.length-i>e&&o>i?u+=t.slice(i,o)+`
`+t.slice(o+1):u+=t.slice(i),u.slice(1)}function n4(t){for(var e="",r=0,n,i=0;i<t.length;r>=65536?i+=2:i++)r=Ql(t,i),n=wr[r],!n&&nc(r)?(e+=t[i],r>=65536&&(e+=t[i+1])):e+=n||J$(r);return e}function i4(t,e,r){var n="",i=t.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],t.replacer&&(a=t.replacer.call(r,String(s),a)),(Yi(t,e,a,!1,!1)||typeof a>"u"&&Yi(t,e,null,!1,!1))&&(n!==""&&(n+=","+(t.condenseFlow?"":" ")),n+=t.dump);t.tag=i,t.dump="["+n+"]"}function IA(t,e,r,n){var i="",s=t.tag,o,a,u;for(o=0,a=r.length;o<a;o+=1)u=r[o],t.replacer&&(u=t.replacer.call(r,String(o),u)),(Yi(t,e+1,u,!0,!0,!1,!0)||typeof u>"u"&&Yi(t,e+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=ny(t,e)),t.dump&&tc===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}function s4(t,e,r){var n="",i=t.tag,s=Object.keys(r),o,a,u,f,c;for(o=0,a=s.length;o<a;o+=1)c="",n!==""&&(c+=", "),t.condenseFlow&&(c+='"'),u=s[o],f=r[u],t.replacer&&(f=t.replacer.call(r,u,f)),Yi(t,e,u,!1,!1)&&(t.dump.length>1024&&(c+="? "),c+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Yi(t,e,f,!1,!1)&&(c+=t.dump,n+=c));t.tag=i,t.dump="{"+n+"}"}function o4(t,e,r,n){var i="",s=t.tag,o=Object.keys(r),a,u,f,c,d,p;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new Gr("sortKeys must be a boolean or a function");for(a=0,u=o.length;a<u;a+=1)p="",(!n||i!=="")&&(p+=ny(t,e)),f=o[a],c=r[f],t.replacer&&(c=t.replacer.call(r,f,c)),Yi(t,e+1,f,!0,!0,!0)&&(d=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,d&&(t.dump&&tc===t.dump.charCodeAt(0)?p+="?":p+="? "),p+=t.dump,d&&(p+=ny(t,e)),Yi(t,e+1,c,!0,d)&&(t.dump&&tc===t.dump.charCodeAt(0)?p+=":":p+=": ",p+=t.dump,i+=p));t.tag=s,t.dump=i||"{}"}function PA(t,e,r){var n,i,s,o,a,u;for(i=r?t.explicitTypes:t.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(r?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(u=t.styleMap[a.tag]||a.defaultStyle,WA.call(a.represent)==="[object Function]")n=a.represent(e,u);else if(GA.call(a.represent,u))n=a.represent[u](e,u);else throw new Gr("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');t.dump=n}return!0}return!1}function Yi(t,e,r,n,i,s,o){t.tag=null,t.dump=r,PA(t,r,!1)||PA(t,r,!0);var a=WA.call(t.dump),u=n,f;n&&(n=t.flowLevel<0||t.flowLevel>e);var c=a==="[object Object]"||a==="[object Array]",d,p;if(c&&(d=t.duplicates.indexOf(r),p=d!==-1),(t.tag!==null&&t.tag!=="?"||p||t.indent!==2&&e>0)&&(i=!1),p&&t.usedDuplicates[d])t.dump="*ref_"+d;else{if(c&&p&&!t.usedDuplicates[d]&&(t.usedDuplicates[d]=!0),a==="[object Object]")n&&Object.keys(t.dump).length!==0?(o4(t,e,t.dump,i),p&&(t.dump="&ref_"+d+t.dump)):(s4(t,e,t.dump),p&&(t.dump="&ref_"+d+" "+t.dump));else if(a==="[object Array]")n&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?IA(t,e-1,t.dump,i):IA(t,e,t.dump,i),p&&(t.dump="&ref_"+d+t.dump)):(i4(t,e,t.dump),p&&(t.dump="&ref_"+d+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&t4(t,t.dump,e,s,u);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Gr("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(f=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?f="!"+f:f.slice(0,18)==="tag:yaml.org,2002:"?f="!!"+f.slice(18):f="!<"+f+">",t.dump=f+" "+t.dump)}return!0}function a4(t,e){var r=[],n=[],i,s;for(sy(t,r,n),i=0,s=n.length;i<s;i+=1)e.duplicates.push(r[n[i]]);e.usedDuplicates=new Array(s)}function sy(t,e,r){var n,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)sy(t[i],e,r);else for(n=Object.keys(t),i=0,s=n.length;i<s;i+=1)sy(t[n[i]],e,r)}function u4(t,e){e=e||{};var r=new X$(e);r.noRefs||a4(t,r);var n=t;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Yi(r,0,n,!0,!0)?r.dump+`
`:""}var l4=u4,c4={dump:l4};function cy(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var Yh=zA.load,fae=zA.loadAll,hae=c4.dump;var dae=cy("safeLoad","load"),pae=cy("safeLoadAll","loadAll"),mae=cy("safeDump","dump");var sC=Ce(u1());var ed=Ce(require("path"));var c1=Ce(require("path"));var l1=Ce(require("crypto"));var my={async readDocument(t){switch(t.scheme){case"file":try{return(await tt(t.fsPath)).toString()}catch(e){if(e&&e.code==="ENOENT")return;throw e}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}},async applyEdits(t,e,r){switch(t.scheme){case"file":let n=Lo(r,e);await Ht(t.fsPath,n);break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},Zh=class{constructor(e){this.fileHost=e}async readDocument(e){switch(e.scheme){case Zh.scheme:try{return(await this.fileHost.readFile(At(e,this.fileHost.platform))).toString()}catch{return}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}async applyEdits(e,r,n){switch(e.scheme){case Zh.scheme:let i=Lo(n,r);await this.fileHost.writeFile(At(e,this.fileHost.platform),Buffer.from(i));break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},hi=Zh;hi.scheme="vscode-fileHost";var Vo=class{constructor(e){this.shellServer=e}async readDocument(e){switch(e.scheme){case Vo.scheme:try{let{stdout:r}=await this.shellServer.exec(`cat ${e.path}`);return r}catch{return}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}async applyEdits(e,r,n){switch(e.scheme){case Vo.scheme:try{Vo.nonce||(Vo.nonce=l1.randomUUID());let i=Lo(n,r),s=`EOF-${Vo.nonce}`;await this.shellServer.exec(`cat <<'${s}' >${e.path}
${i}
${s}
`)}catch(i){console.log(i)}break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},Zi=Vo;Zi.scheme="vscode-remote";var py=class{constructor(e){this.documents=e}async readDocument(e){let r=this.documents[e.scheme];if(!r)throw new Error(`Unsupported scheme: ${e.toString()}`);return r.readDocument(e)}async applyEdits(e,r,n){let i=this.documents[e.scheme];if(!i)throw new Error(`Unsupported scheme: ${e.toString()}`);return i.applyEdits(e,r,n)}};function Qh(t,e){let r={file:my,[hi.scheme]:new hi(t)};return e&&(r[Zi.scheme]=new Zi(e)),new py(r)}function At(t,e){let r;return t.authority&&t.path.length>1&&(t.scheme==="file"||t.scheme===hi.scheme)?r=`//${t.authority}${t.path}`:t.path.charCodeAt(0)===47&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&t.path.charCodeAt(2)===58?r=t.path[1].toLowerCase()+t.path.substr(2):r=t.path,e==="win32"&&(r=r.replace(/\//g,"\\")),r}function f1(t,e){return[t.join(e,".devcontainer","devcontainer.json"),t.join(e,".devcontainer.json")]}function yn(t,e){return Kt.file(t.path.join(e,".devcontainer","devcontainer.json")).with({scheme:hi.scheme})}async function $s(t,e){let r=f1(t.path,e);for(let n of r)if(await t.isFile(n))return Kt.file(n).with({scheme:hi.scheme})}function tu(t){let e=c1.posix.dirname(t.path);return t.with({path:e})}function h1(t){if(!(t.extensions||t.settings||t.devPort!==void 0))return t;let e={...t},r=e.customizations||(e.customizations={}),n=r.vscode||(r.vscode={});return e.extensions&&(n.extensions=(n.extensions||[]).concat(e.extensions),delete e.extensions),e.settings&&(n.settings={...e.settings,...n.settings||{}},delete e.settings),e.devPort!==void 0&&n.devPort===void 0&&(n.devPort=e.devPort,delete e.devPort),e}function Ho(t,e,r){return gy(t,e.configFilePath,r)}function gy(t,e,r){let n=tu(e);return e.with({path:ed.posix.resolve(n.path,t.platform==="win32"&&e.scheme!==Zi.scheme?(ed.win32.isAbsolute(r)?"/":"")+r.replace(/\\/g,"/"):r)})}function jn(t){return"dockerFile"in t||"build"in t&&"dockerfile"in t.build}function Us(t,e){return Ho(t,e,g4(e))}function g4(t){return"dockerFile"in t?t.dockerFile:t.build.dockerfile}async function ru(t,e,r,n){if(Array.isArray(e.dockerComposeFile)){if(e.dockerComposeFile.length)return e.dockerComposeFile.map(a=>At(Ho(t,e,a),t.platform))}else if(typeof e.dockerComposeFile=="string")return[At(Ho(t,e,e.dockerComposeFile),t.platform)];let i=r==null?void 0:r.COMPOSE_FILE;if(i)return i.split(t.path.delimiter).map(a=>t.path.resolve(n,a));try{let a=t.path.join(n,".env"),u=await t.readFile(a),f=/^COMPOSE_FILE=(.+)$/m.exec(u.toString()),c=f&&f[1].trim();if(c)return c.split(t.path.delimiter).map(d=>t.path.resolve(n,d))}catch(a){if(!(a&&(a.code==="ENOENT"||a.code==="EISDIR")))throw a}let s=[t.path.resolve(n,"docker-compose.yml")],o=t.path.resolve(n,"docker-compose.override.yml");return await t.isFile(o)&&s.push(o),s}var Fg=Ce(require("path")),nC=require("string_decoder"),KN=Ce(_c());var at=Ce(require("path")),bN=Ce(require("url")),Xx=Ce(_c()),wN=Ce(require("crypto")),xN=Ce(jc());var El=Ce(OP()),Bx=Ce(eN()),Lx=Ce(require("url")),tN=Ce(require("tls"));async function Of(t,e){let r=await rN(e);return new Promise((n,i)=>{let s=new Lx.URL(t.url),o={hostname:s.hostname,port:s.port,path:s.pathname+s.search,method:t.type,headers:t.headers,agent:new Bx.ProxyAgent,secureContext:r},a=s.protocol==="http:"||s.hostname==="localhost";a&&e.write("Sending as plain HTTP request",4);let u=(a?El.http:El.https).request(o,f=>{if(f.statusCode<200||f.statusCode>299)i(new Error(`HTTP ${f.statusCode}: ${f.statusMessage}`)),e.write(`[-] HTTP request failed with status code ${f.statusCode}: : ${f.statusMessage}`,1);else{f.on("error",i);let c=[];f.on("data",d=>c.push(d)),f.on("end",()=>n(Buffer.concat(c)))}});u.on("error",i),t.data&&u.write(t.data),u.end()})}async function Rf(t,e){let r=await rN(e);return new Promise((n,i)=>{let s=new Lx.URL(t.url),o={hostname:s.hostname,port:s.port,path:s.pathname+s.search,method:t.type,headers:t.headers,agent:new Bx.ProxyAgent,secureContext:r},a=s.protocol==="http:"||s.hostname==="localhost";a&&e.write("Sending as plain HTTP request",4);let u=(a?El.http:El.https).request(o,f=>{f.on("error",i);let c=[];f.on("data",d=>c.push(d)),f.on("end",()=>{n({statusCode:f.statusCode,resHeaders:f.headers,resBody:Buffer.concat(c)})})});t.data&&u.write(t.data),u.on("error",i),u.end()})}var Rx;async function rN(t,e){return Rx||(Rx=(async()=>{if(!(!process.versions.electron||!process.env.NODE_EXTRA_CA_CERTS))try{let n=(await tt(process.env.NODE_EXTRA_CA_CERTS,{encoding:"utf8"})).split(/(?=-----BEGIN CERTIFICATE-----)/g).filter(s=>!!s.length);if(t.write(`Loading ${n.length} extra certificates from ${process.env.NODE_EXTRA_CA_CERTS}.`),!n.length)return;let i=tN.createSecureContext(e);for(let s of n)i.context.addCACert(s);return i}catch(r){t.write(`Error loading extra certificates from ${process.env.NODE_EXTRA_CA_CERTS}: ${r.message}`,5);return}})())}var jx=Ce(require("path")),sN=Ce(jc()),$x=Ce(_c());var qx=Ce(require("crypto"));var nN=Ce(require("os")),Mx=Ce(require("path"));var Aee=/realm="([^"]+)"/,Fee=/service="([^"]+)"/,_ee=/scope="([^"]+)"/;async function In(t,e,r){t.cachedAuthHeader||(t.cachedAuthHeader={});let{output:n,cachedAuthHeader:i}=t;e.headers["user-agent"]="devcontainer";let s=i[r.registry];s&&(n.write(`[httpOci] Applying cachedAuthHeader for registry ${r.registry}...`,1),e.headers.authorization=s);let o=await Rf(e,n);if(o.statusCode!==401)return n.write(`[httpOci] ${o.statusCode} (${s?"Cached":"NoAuth"}): ${e.url}`,1),o;let a=o.resHeaders["WWW-Authenticate"]||o.resHeaders["www-authenticate"];if(!a){n.write("[httpOci] ERR: Server did not provide instructions to authentiate! (Required: A 'WWW-Authenticate' Header)",5);return}switch(a.split(" ")[0]){case"Basic":n.write("[httpOci] Attempting to authenticate via 'Basic' auth.",1);let f=await iN(t,r),c=f==null?void 0:f.base64EncodedCredential;if(!c){n.write(`[httpOci] ERR: No basic auth credentials to send for registry service '${r.registry}'`,5);return}e.headers.authorization=`Basic ${c}`;break;case"Bearer":n.write("[httpOci] Attempting to authenticate via 'Bearer' auth.",1);let d=Aee.exec(a),p=Fee.exec(a),l=_ee.exec(a);if(!d||!p||!l){n.write(`[httpOci] WWW-Authenticate header is not in expected format. Got:  ${a}`,1);return}let h={realm:d[1],service:p[1],scope:l[1]},y=await Pee(t,r,h);if(!y){n.write("[httpOci] ERR: Failed to fetch Bearer token from registry.",5);return}e.headers.authorization=`Bearer ${y}`;break;default:n.write(`[httpOci] ERR: Unsupported authentication mode '${a.split(" ")[0]}'`,5);return}let u=await Rf(e,n);return n.write(`[httpOci] ${u.statusCode} on reattempt after auth: ${e.url}`,1),u.statusCode!==401&&(t.cachedAuthHeader[r.registry]=e.headers.authorization),u}async function iN(t,e){let{output:r,env:n}=t,{registry:i}=e;if(n.DEVCONTAINERS_OCI_AUTH){let f=n.DEVCONTAINERS_OCI_AUTH.split(",").find(c=>c.split("|")[0]===i);if(f){r.write(`[httpOci] Using match from DEVCONTAINERS_OCI_AUTH for registry '${i}'`,1);let c=f.split("|"),d=`${c[1]}:${c[2]}`;return{base64EncodedCredential:Buffer.from(d).toString("base64"),refreshToken:void 0}}}let s=await Iee(t,i);if(s)return s;let o=n.GITHUB_TOKEN,a=n.GITHUB_HOST;if(a&&r.write(`[httpOci] Environment GITHUB_HOST is set to '${a}'`,1),i==="ghcr.io"&&o&&(!a||a==="github.com")){r.write("[httpOci] Using environment GITHUB_TOKEN for auth",1);let u=`USERNAME:${n.GITHUB_TOKEN}`;return{base64EncodedCredential:Buffer.from(u).toString("base64"),refreshToken:void 0}}r.write(`[httpOci] No authentication credentials found for registry '${i}'. Accessing anonymously.`,1)}async function kee(t){if(!process.env.PATH)return!1;let e=process.env.PATH.split(":");for(let r of e){let n=`${r}/${t}`;if(await st(n))return!0}return!1}async function Iee(t,e){let{output:r}=t,n=!1;try{let i=process.env.DOCKER_CONFIG;i&&r.write(`[httpOci] Environment DOCKER_CONFIG is set to '${i}'`,1);let s=i||Mx.join(nN.homedir(),".docker"),o=Mx.join(s,"config.json");if(await st(o)){let a=Je((await tt(o)).toString());if(n=Object.keys(a.credHelpers||{}).length>0||!!a.credsStore||Object.keys(a.auths||{}).length>0,a.credHelpers&&a.credHelpers[e]){let u=a.credHelpers[e];r.write(`[httpOci] Found credential helper '${u}' in '${o}' registry '${e}'`,1);let f=await Nx(t,e,u);if(f)return f}else if(a.credsStore){r.write(`[httpOci] Invoking credsStore credential helper '${a.credsStore}'`,1);let u=await Nx(t,e,a.credsStore);if(u)return u}if(a.auths&&a.auths[e]){r.write(`[httpOci] Found auths entry in '${o}' for registry '${e}'`,1);let u=a.auths[e].auth,f=a.auths[e].identitytoken;return f?{refreshToken:f,base64EncodedCredential:void 0}:{base64EncodedCredential:u,refreshToken:void 0}}}}catch(i){r.write(`[httpOci] Failed to read docker config.json: ${i}`,1);return}if(!n){let i="";if(process.platform==="linux"?await kee("pass")?i="pass":i="secret":process.platform==="win32"?i="wincred":process.platform==="darwin"&&(i="osxkeychain"),i!==""){r.write(`[httpOci] Invoking platform default credential helper '${i}'`,1);let s=await Nx(t,e,i);if(s)return r.write("[httpOci] Found auth from platform default credential helper",1),s}}r.write(`[httpOci] No authentication credentials found for registry '${e}' via docker config or credential helper.`,1)}async function Nx(t,e,r){let{output:n}=t,i;try{let{stdout:u}=await Mn({exec:Xl(void 0),cmd:"docker-credential-"+r,args:["get"],stdin:Buffer.from(e,"utf-8"),output:n});i=u}catch(u){n.write(`[httpOci] Failed to query for '${e}' credential from 'docker-credential-${r}': ${u}`,1);return}if(i.length===0)return;let s=[],o=Je(i.toString(),s);if(s.length!==0){n.write(`[httpOci] Credential helper ${r} returned non-JSON response "${i.toString()}" for registry '${e}'`,4);return}if(o.Username==="<token>")return{refreshToken:o.Secret,base64EncodedCredential:void 0};let a=`${o.Username}:${o.Secret}`;return{base64EncodedCredential:Buffer.from(a).toString("base64"),refreshToken:void 0}}async function Pee(t,e,r){var h;let{output:n}=t,{realm:i,service:s,scope:o}=r;if(i.includes("mcr.microsoft.com"))return;let a={"user-agent":"devcontainer"},u=await iN(t,e),f=u==null?void 0:u.base64EncodedCredential,c=u==null?void 0:u.refreshToken,d;if(c){let y=new URLSearchParams;y.append("client_id","devcontainer"),y.append("grant_type","refresh_token"),y.append("service",s),y.append("scope",o),y.append("refresh_token",c),a["content-type"]="application/x-www-form-urlencoded";let g=i;n.write(`[httpOci] Attempting to fetch bearer token from:  ${g}`,1),d={type:"POST",url:g,headers:a,data:Buffer.from(y.toString())}}else{f&&(a.authorization=`Basic ${f}`);let y=`${i}?service=${s}&scope=${o}`;n.write(`[httpOci] Attempting to fetch bearer token from:  ${y}`,1),d={type:"GET",url:y,headers:a}}let p=await Rf(d,n);if((p&&p.statusCode===401||p.statusCode===403)&&(n.write(`[httpOci] ${p.statusCode}: Credentials for '${s}' may be expired. Attempting request anonymously.`,3),(h=p.resBody)!=null&&h.toString()&&n.write(`${p.resBody.toString()}.`,3),delete a.authorization,p=await Rf(d,n)),!p||p.statusCode>299||!p.resBody){n.write(`[httpOci] ${p.statusCode}: Failed to fetch bearer token for '${s}': ${p.resBody.toString()}`,5);return}let l;try{let y=JSON.parse(p.resBody.toString());l=y.token||y.access_token}catch{}if(!l){n.write(`[httpOci] Unexpected bearer token response format for '${s}: ${p.resBody.toString()}'`,5);return}return l}var Tee="application/vnd.devcontainers",oN="application/vnd.devcontainers.layer.v1+tar",aN="application/vnd.devcontainers.collection.layer.v1+json",Ux=/^[a-z0-9]+([._-][a-z0-9]+)*(\/[a-z0-9]+([._-][a-z0-9]+)*)*$/,ag=/^[a-zA-Z0-9_][a-zA-Z0-9._-]{0,127}$/;function Oee(t){switch(t){case"x64":return"amd64";default:return t}}function Ree(t){switch(t){case"win32":return"windows";default:return t}}function dr(t,e){e=e.toLowerCase();let r=e.lastIndexOf(":"),n=e.lastIndexOf("@"),i="",s,o;if(n!==-1){i=e.substring(0,n);let h=e.substring(n+1),y=h.split(":");if(y.length!==2){t.write(`Failed to parse digest '${h}'.   Expected format: 'sha256:abcdefghijk'`,5);return}if(y[0]!=="sha256"){t.write(`Digest algorithm for input '${e}' failed validation.  Expected hashing algorithm to be 'sha256'.`,5);return}ag.test(y[1])||t.write(`Digest for input '${e}' failed validation.  Expected digest to match regex '${ag}'.`,5),o=h}else r!==-1&&r>e.lastIndexOf("/")?(i=e.substring(0,r),s=e.substring(r+1)):(i=e,s="latest");if(s&&!ag.test(s)){t.write(`Tag '${s}' for input '${e}' failed validation.  Expected digest to match regex '${ag}'.`,5);return}let a=i.split("/"),u=a[a.length-1],f=a[1],c=a[0],d=a.slice(1,-1).join("/"),p=`${d}/${u}`;if(!Ux.exec(p)){t.write(`Path '${p}' for input '${e}' failed validation.  Expected path to match regex '${Ux}'.`,5);return}let l=o||s||"latest";return t.write(`> input: ${e}`,1),t.write(">",1),t.write(`> resource: ${i}`,1),t.write(`> id: ${u}`,1),t.write(`> owner: ${f}`,1),t.write(`> namespace: ${d}`,1),t.write(`> registry: ${c}`,1),t.write(`> path: ${p}`,1),t.write(">",1),t.write(`> version: ${l}`,1),t.write(`> tag?: ${s}`,1),t.write(`> digest?: ${o}`,1),{id:u,owner:f,namespace:d,registry:c,resource:i,path:p,version:l,tag:s,digest:o}}function ug(t,e,r){e=e.toLowerCase(),r=r.toLowerCase();let n=r,i=`${e}/${n}`;if(t.write(`> Inputs: registry='${e}' namespace='${r}'`,1),t.write(">",1),t.write(`> resource: ${i}`,1),!Ux.exec(n)){t.write(`Parsed path '${n}' from input failed validation.`,5);return}return{registry:e,path:n,resource:i,version:"latest",tag:"latest"}}async function Ss(t,e,r){let{output:n}=t;if(e.registry.indexOf(".")<0&&!e.registry.startsWith("localhost"))return;let i=e.version;r&&(i=r);let s=`https://${e.registry}/v2/${e.path}/manifests/${i}`;n.write(`manifest url: ${s}`,1);let o=r||("digest"in e?e.digest:void 0),a=await lg(t,s,e,void 0,o);if(!a||!a.manifestObj)return;let{manifestObj:u}=a;if(u.config.mediaType!==Tee){n.write(`(!) Unexpected manifest media type: ${u.config.mediaType}`,5);return}return a}async function lg(t,e,r,n,i){let{output:s}=t,o=await Bee(t,e,r,n||"application/vnd.oci.image.manifest.v1+json");if(!o)return;let{body:a,headers:u}=o,f=u["docker-content-digest"];if((!f||i)&&(f||s.write("Registry did not send a 'docker-content-digest' header.  Recalculating...",1),f=`sha256:${qx.createHash("sha256").update(a).digest("hex")}`),i&&f!==i)throw new Error(`Digest did not match for ${r.resource}.`);return{contentDigest:f,manifestObj:JSON.parse(a.toString()),manifestBuffer:a,canonicalId:`${r.resource}@${f}`}}async function uN(t,e,r,n,i){let{output:s}=t,o=await Lee(t,e,r,i||"application/vnd.oci.image.index.v1+json");if(!o)return;let{body:a}=o;if(!a){s.write("Unwrapped response for image index is undefined.",5);return}let u={arch:Oee(n.arch),os:Ree(n.os)};return a.manifests.find(f=>{var c,d;if(((c=f.platform)==null?void 0:c.architecture)===u.arch&&((d=f.platform)==null?void 0:d.os)===u.os)return f})}async function Bee(t,e,r,n){var u;let{output:i}=t,a=await In(t,{type:"GET",url:e,headers:{"user-agent":"devcontainer",accept:n}},r);if(!a){i.write(`Request '${e}' failed`,5);return}if(a.statusCode>299){let f=(u=a==null?void 0:a.resBody)==null?void 0:u.toString();i.write(`Did not fetch target with expected mimetype '${n}': ${f}`,1);return}return{body:a.resBody,headers:a.resHeaders}}async function Lee(t,e,r,n){let{output:i}=t,s="";try{let u=await In(t,{type:"GET",url:e,headers:{"user-agent":"devcontainer",accept:n}},r);if(!u){i.write(`Request '${e}' failed`,5);return}let{resBody:f,statusCode:c,resHeaders:d}=u;if(s=f.toString(),c>299){i.write(`Did not fetch target with expected mimetype '${n}': ${s}`,1);return}let p=JSON.parse(s);return i.write(`Fetched: ${JSON.stringify(p,void 0,4)}`,1),{body:p,headers:d}}catch{i.write(`Failed to parse JSON with mimeType '${n}': ${s}`,5);return}}async function bl(t,e,r=!1){let{output:n}=t;try{let o={type:"GET",url:`https://${e.registry}/v2/${e.namespace}/${e.id}/tags/list`,headers:{Accept:"application/json"}},a=await In(t,o,e);if(!a){n.write("Request failed",5);return}let{statusCode:u,resBody:f}=a,c=f.toString();if(u===404)return[];if(u>299){n.write(`(!) ERR: Could not fetch published tags for '${e.namespace}/${e.id}' : ${f??""} `,5);return}let d=JSON.parse(c);if(!r)return d.tags;let p=d.tags.includes("latest"),l=d.tags.filter(h=>h!=="latest").sort((h,y)=>sN.compareIdentifiers(h,y));return p?["latest",...l]:l}catch(i){n.write(`Failed to parse published versions: ${i}`,5);return}}async function cg(t,e,r,n,i,s,o=[],a){let{output:u}=t;try{await mn(r);let f=jx.default.join(r,"blob.tar"),p=await In(t,{type:"GET",url:e,headers:{Accept:"application/vnd.oci.image.manifest.v1+json"}},i);if(!p){u.write("Request failed",5);return}let{statusCode:l,resBody:h}=p;if(l>299){u.write(`Failed to fetch blob (${e}): ${h}`,5);return}if(`sha256:${qx.createHash("sha256").update(h).digest("hex")}`!==s)throw new Error(`Digest did not match for ${i.resource}.`);await mn(n),await Ht(f,h);let g=[];if(await $x.x({file:f,cwd:n,filter:(x,E)=>o.some(S=>x.indexOf(S)!==-1)?(u.write(`Skipping file '${x}' during blob extraction`,1),!1):(u.write(`${x} : ${E.type}`,1),E.type.toString()==="File"&&g.push(x),!0)}),u.write("Files extracted from blob: "+g.join(", "),1),!a)return{files:g,metadata:void 0};await $x.x({file:f,cwd:r,filter:(x,E)=>x===`./${a}`});let v=jx.default.join(r,a),b;return await st(v)&&(u.write(`Found metadata file '${a}' in blob`,1),b=Je((await tt(v)).toString())),{files:g,metadata:b}}catch(f){u.write(`Error getting blob: ${f}`,5);return}}function lN(t,e,r,n,i){let s=dr(t,e);if(!s){t.write(`Unable to parse '${e}'`,5);return}let o={id:s.id,included:!0,value:r},a=Mee(i);return{sourceInformation:{type:"oci",manifest:n.manifestObj,manifestDigest:n.contentDigest,featureRef:s,userFeatureId:i,userFeatureIdWithoutVersion:a},features:[o]}}var Nee=/[/:@][^/:@]*$/;function Mee(t){let e=Nee.exec(t);return e&&e[0].charAt(0)!=="/"?t.substring(0,e.index):t}async function cN(t,e,r){let{output:n}=t,i=dr(n,e);if(i)return await Ss(t,i,r)}async function fg(t,e,r,n,i){var c;let{output:s}=t;if(e.sourceInformation.type!=="oci")throw s.write("FeatureSet is not an OCI featureSet.",5),new Error("FeatureSet is not an OCI featureSet.");let{featureRef:o}=e.sourceInformation,a=(c=e.sourceInformation.manifest)==null?void 0:c.layers[0].digest,u=`https://${e.sourceInformation.featureRef.registry}/v2/${e.sourceInformation.featureRef.path}/blobs/${a}`;s.write(`blob url: ${u}`,1);let f=await cg(t,u,r,n,o,a,void 0,i);if(!f)throw new Error(`Failed to download package for ${e.sourceInformation.featureRef.resource}`);return f}var wl=Ce(require("path"));async function fN(t,e,r){let n=hN(e),i=await tt(n).catch(a=>{if((a==null?void 0:a.code)!=="ENOENT")throw a});if(!i&&!t.experimentalLockfile&&!t.experimentalFrozenLockfile)return;let s=r.featureSets.map(a=>[a,a.sourceInformation]).filter(a=>a[1].type==="oci").map(([a,u])=>({id:u.userFeatureId,version:a.features[0].version,resolved:`${u.featureRef.registry}/${u.featureRef.path}@${a.computedDigest}`,integrity:a.computedDigest})).sort((a,u)=>a.id.localeCompare(u.id)).reduce((a,u)=>{let f={...u};return delete f.id,a.features[u.id]=f,a},{features:{}}),o=Buffer.from(JSON.stringify(s,null,2));if(t.experimentalFrozenLockfile&&!i)throw new Error("Lockfile does not exist.");if(!i||!o.equals(i)){if(t.experimentalFrozenLockfile)throw new Error("Lockfile does not match.");await Ht(n,o)}}async function Vx(t){try{let e=await tt(hN(t));return JSON.parse(e.toString())}catch(e){if((e==null?void 0:e.code)==="ENOENT")return;throw e}}function hN(t){let e=typeof t=="string"?t:t.configFilePath.fsPath;return wl.join(wl.dirname(e),wl.basename(e).startsWith(".")?".devcontainer-lock.json":"devcontainer-lock.json")}var pg=Ce(require("path"));var zx=Ce(require("os")),Nf=Ce(require("crypto"));function hg(t,e,r){var o,a;let{output:n}=t,i=(o=e.featureSet)==null?void 0:o.sourceInformation,s=(a=r.featureSet)==null?void 0:a.sourceInformation;if(!i||!s)throw n.write(`Missing sourceInfo: equals(${i==null?void 0:i.userFeatureId}, ${s==null?void 0:s.userFeatureId})`,1),new Error("ERR: Failure resolving Features.");return i.type!==s.type?!1:pN(t,e,r)===0}function dg(t,e,r){var o,a,u;let{output:n}=t,i=(o=e.featureSet)==null?void 0:o.sourceInformation,s=(a=r.featureSet)==null?void 0:a.sourceInformation;if(!i||!s)throw n.write(`Missing sourceInfo: satisifiesSoftDependency(${i==null?void 0:i.userFeatureId}, ${s==null?void 0:s.userFeatureId})`,1),new Error("ERR: Failure resolving Features.");if(i.type!==s.type)return!1;switch(i.type){case"oci":s=s;let f=i.featureRef,c=s.featureRef,d=`${c.registry}/${c.namespace}`;return f.resource===c.resource||((u=r.featureIdAliases)==null?void 0:u.some(h=>`${d}/${h}`===f.resource))||!1;case"file-path":return s=s,i.resolvedFilePath===s.resolvedFilePath;case"direct-tarball":return s=s,i.tarballUri===s.tarballUri;default:let p=s.userFeatureIdWithoutVersion||s.userFeatureId,l=i.userFeatureIdWithoutVersion||i.userFeatureId;return p===l}}function Bf(t,e){if(typeof t=="string"&&typeof e=="string")return t.localeCompare(e);if(typeof t=="boolean"&&typeof e=="boolean")return t===e?0:t?1:-1;if(typeof t=="object"&&typeof e=="object"){let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return r.length-n.length;r.sort(),n.sort();for(let i=0;i<r.length;i++){if(r[i]!==n[i])return r[i].localeCompare(n[i]);let s=t[r[i]],o=e[n[i]];if(typeof s=="string"&&typeof o=="string"){let a=s.localeCompare(o);if(a!==0)return a}if(typeof s=="boolean"&&typeof o=="boolean"){let a=s===o?0:s?1:-1;if(a!==0)return a}if(typeof s>"u"||typeof o>"u"){let a=s===o?0:s===void 0?1:-1;if(a!==0)return a}}return 0}return(typeof t).localeCompare(typeof e)}function jee(t,e){let r=t.featureRef,n=`${r.registry}/${r.namespace}`,i=e.featureRef,s=`${i.registry}/${i.namespace}`;if(n!==s)return n.localeCompare(s);let o;for(let a of t.aliases||[r.id]){if(o)break;for(let u of e.aliases||[i.id])if(a===u){o=a;break}}return o?0:r.id.localeCompare(i.id)}function pN(t,e,r){var o,a;let{output:n}=t,i=(o=e.featureSet)==null?void 0:o.sourceInformation,s=(a=r.featureSet)==null?void 0:a.sourceInformation;if(!i||!s)throw n.write(`Missing sourceInfo: compareTo(${i==null?void 0:i.userFeatureId}, ${s==null?void 0:s.userFeatureId})`,1),new Error("ERR: Failure resolving Features.");if(i.type!==s.type)return i.userFeatureId.localeCompare(s.userFeatureId);switch(i.type){case"oci":s=s;let u=i.manifestDigest,f=s.manifestDigest;if(u===f&&Bf(e.options,r.options)===0)return 0;let c=jee({featureRef:i.featureRef,aliases:e.featureIdAliases},{featureRef:s.featureRef,aliases:r.featureIdAliases});if(c!==0)return c;let d=i.featureRef.tag,p=s.featureRef.tag;if(d&&p&&d!==p)return d.localeCompare(p);let l=Bf(e.options,r.options);return l!==0?l:u!==f?u.localeCompare(f):0;case"file-path":s=s;let h=i.resolvedFilePath.localeCompare(s.resolvedFilePath);return h!==0?h:Bf(e.options,r.options);case"direct-tarball":s=s;let y=i.tarballUri.localeCompare(s.tarballUri);return y!==0?y:Bf(e.options,r.options);default:let g=i.userFeatureIdWithoutVersion||i.userFeatureId,v=s.userFeatureIdWithoutVersion||s.userFeatureId,b=g.localeCompare(v);return b!==0?b:Bf(e.options,r.options)}}async function $ee(t,e,r,n){let{output:i}=t;if(!n.overrideFeatureInstallOrder)return r;let s=n.overrideFeatureInstallOrder.length;for(let o=n.overrideFeatureInstallOrder.length-1;o>=0;o--){let a=n.overrideFeatureInstallOrder[o],u=s-o,f={type:"override",userFeatureId:a,options:{},roundPriority:u,installsAfter:[],dependsOn:[],featureSet:void 0},c=await e(f);if(!c)throw new Error(`Feature '${f.userFeatureId}' in 'overrideFeatureInstallOrder' could not be processed.`);f.featureSet=c;for(let d of r)dg(t,d,f)&&(i.write(`[override]: '${d.userFeatureId}' has override priority of ${u}`,1),d.roundPriority=Math.max(d.roundPriority,u))}return r}async function Uee(t,e,r,n){let{output:i}=t;for(;r.length>0;){let s=r.shift();i.write(`Resolving Feature dependencies for '${s.userFeatureId}'...`,3);let o=await e(s);if(!o)throw new Error(`ERR: Feature '${s.userFeatureId}' could not be processed.  You may not have permission to access this Feature, or may not be logged in.  If the issue persists, report this to the Feature author.`);if(s.featureSet=o,n.some(f=>hg(t,f,s)))continue;let a=o.sourceInformation.type,u;switch(a){case"oci":u=await dN(t,s);break;case"file-path":let f=s.featureSet.sourceInformation.resolvedFilePath,c=pg.join(f,jf);if(!st(f))throw new Error(`Metadata file '${c}' cannot be read for Feature '${s.userFeatureId}'.`);let d=(await tt(c)).toString();d&&(u=Je(d));break;case"direct-tarball":u=await qee(t,s);break;default:break}if(u){s.featureSet.features[0]={...s.featureSet.features[0],...u};let f=u.dependsOn||{},c=u.installsAfter||[],d=u.legacyIds||[],p=u.currentId||u.id;s.featureIdAliases=[p,...d];for(let[l,h]of Object.entries(f)){let y={type:"resolved",userFeatureId:l,options:h,featureSet:void 0,dependsOn:[],installsAfter:[],roundPriority:0};s.dependsOn.push(y),r.push(y)}for(let l of c){let h={type:"resolved",userFeatureId:l,options:{},featureSet:void 0,dependsOn:[],installsAfter:[],roundPriority:0},y=await e(h);if(!y)throw new Error(`installsAfter dependency '${l}' of Feature '${s.userFeatureId}' could not be processed.`);h.featureSet=y;let g=await dN(t,h);if(g){let v=g.legacyIds||[],b=g.currentId||g.id;h.featureIdAliases=[b,...v]}s.installsAfter.push(h)}}n.push(s)}return{worklist:n}}async function dN(t,e){var o,a;let{output:r}=t,n=(o=e==null?void 0:e.featureSet)==null?void 0:o.sourceInformation;if(!e.featureSet||!n||n.type!=="oci")return;let i=n.manifest,s=(a=i==null?void 0:i.annotations)==null?void 0:a["dev.containers.metadata"];if(s)return Je(s);{let u=pg.join(zx.tmpdir(),Nf.randomUUID()),f=await fg(t,e.featureSet,u,u,jf);if(f&&f.metadata)return f.metadata}r.write("No metadata found for Feature",1)}async function qee(t,e){var a;let{output:r}=t,n=(a=e==null?void 0:e.featureSet)==null?void 0:a.sourceInformation;if(!e.featureSet||!n||n.type!=="direct-tarball")return;let i=pg.join(zx.tmpdir(),Nf.randomUUID()),s=await Wx(t,n.tarballUri,i,void 0,i,jf);if(!s||!s.metadata){r.write(`No metadata for Feature '${e.userFeatureId}' from '${n.tarballUri}'`,1);return}return s.metadata}async function Mf(t,e,r,n){let{output:i}=t,s=r.map(a=>({type:"user-provided",userFeatureId:a.userFeatureId,options:a.options,dependsOn:[],installsAfter:[],roundPriority:0}));i.write(`[* user-provided] ${s.map(a=>a.userFeatureId).join(", ")}`,1);let{worklist:o}=await Uee(t,e,s,[]);return i.write(`[* resolved worklist] ${o.map(a=>a.userFeatureId).join(", ")}`,1),n!=null&&n.overrideFeatureInstallOrder&&await $ee(t,e,o,n),{worklist:o}}async function mg(t,e,r,n,i){let{output:s}=t,o=i??await Mf(t,e,r,n);if(!o)return;let{worklist:a}=o;if(a.length===0){s.write("Zero length or undefined worklist.",5);return}if(s.write(`${JSON.stringify(a,null,2)}`,1),a.some(f=>!f.featureSet))throw s.write("Feature dependency worklist contains one or more undefined entries.",5),new Error("ERR: Failure resolving Features.");s.write(`[raw worklist]: ${a.map(f=>f.userFeatureId).join(", ")}`,1);for(let f=0;f<a.length;f++){let c=a[f];for(let d=c.installsAfter.length-1;d>=0;d--){let p=c.installsAfter[d];a.some(l=>dg(t,l,p))||(s.write(`Soft-dependency '${p.userFeatureId}' is not required.  Removing from installation order...`,3),c.installsAfter.splice(d,1))}}s.write(`[worklist-without-dangling-soft-deps]: ${a.map(f=>f.userFeatureId).join(", ")}`,1),s.write("Starting round-based Feature install order calculation from worklist...",1);let u=[];for(;a.length>0;){let f=a.filter(d=>d.dependsOn.length===0&&d.installsAfter.length===0||d.dependsOn.every(p=>u.some(l=>hg(t,l,p)))&&d.installsAfter.every(p=>u.some(l=>dg(t,l,p))));if(s.write(`
[round] ${f.map(d=>d.userFeatureId).join(", ")}`,1),f.length===0){s.write("Circular dependency detected!",5),s.write(`Nodes remaining: ${a.map(d=>d.userFeatureId).join(", ")}`,5);return}s.write(`[round-candidates] ${f.map(d=>`${d.userFeatureId} (${d.roundPriority})`).join(", ")}`,1);let c=Math.max(...f.map(d=>d.roundPriority));f.splice(0,f.length,...f.filter(d=>d.roundPriority===c)),s.write(`[round-after-filter-priority] (maxPriority=${c}) ${f.map(d=>`${d.userFeatureId} (${d.roundPriority})`).join(", ")}`,1),a.splice(0,a.length,...a.filter(d=>!f.some(p=>hg(t,p,d)))),f.sort((d,p)=>pN(t,d,p)),s.write(`[round-after-comparesTo] ${f.map(d=>d.userFeatureId).join(", ")}`,1),u.push(...f)}return u.map(f=>f.featureSet)}function gg(t,e){let r=e==null?void 0:e.filter(i=>i.type==="user-provided"),n=`flowchart
`;for(let i of r)n+=`${Lf(i)}
`,n+=`${Hx(t,i,e).reduce((s,o)=>s+o+`
`,"")}`;return n}function Hx(t,e,r,n=[]){for(let i of e.dependsOn){for(let s of r)hg(t,s,i)&&n.push(`${Lf(e)} --> ${Lf(s)}`);Hx(t,i,r,n)}for(let i of e.installsAfter){for(let s of r)dg(t,s,i)&&n.push(`${Lf(e)} -.-> ${Lf(s)}`);Hx(t,i,r,n)}return n}function Lf(t){let r=Nf.createHash("sha256",{encoding:"hex"}).update(JSON.stringify(t)).digest("hex").slice(0,6),n=t.featureIdAliases&&t.featureIdAliases.length>0?`<br>aliases: ${t.featureIdAliases.join(", ")}`:"";return`${r}[${t.userFeatureId}<br/><${t.roundPriority}>${n}]`}var _a=require("fs"),yg=Ce(require("path"));var mN=Ce(require("crypto"));var Vee="control-manifest.json",gN={disallowedFeatures:[],featureAdvisories:[]},Hee=5*60*1e3;async function vg(t,e){let r=yg.join(t,Vee),n=await _a.promises.stat(r).catch(o=>{if((o==null?void 0:o.code)!=="ENOENT")throw o}),i=n!=null&&n.isFile()?await _a.promises.readFile(r).catch(o=>{if((o==null?void 0:o.code)!=="ENOENT")throw o}):void 0,s=i?yN(Je(i.toString())):void 0;return n&&s&&n.mtimeMs+Hee>Date.now()?s:zee(r,s,e)}async function zee(t,e,r){let n;try{n=await Wee(r)}catch(s){if(r.write(`Failed to fetch control manifest: ${s.message}`,5),e){let o=new Date;return await _a.promises.utimes(t,o,o),e}n=Buffer.from(JSON.stringify(gN,void 0,2))}let i=`${t}-${mN.randomUUID()}`;return await _a.promises.mkdir(yg.dirname(t),{recursive:!0}),await _a.promises.writeFile(i,n),await _a.promises.rename(i,t),yN(Je(n.toString()))}async function Wee(t){return Of({type:"GET",url:"https://containers.dev/static/devcontainer-control-manifest.json",headers:{"user-agent":"devcontainers-vscode",accept:"application/json"}},t)}function yN(t){if(!t||typeof t!="object")return gN;let e=t.disallowedFeatures,r=t.featureAdvisories;return{disallowedFeatures:Array.isArray(e)?e.filter(n=>typeof n.featureIdPrefix=="string"):[],featureAdvisories:Array.isArray(r)?r.filter(n=>typeof n.featureId=="string"&&typeof n.introducedInVersion=="string"&&typeof n.fixedInVersion=="string"&&typeof n.description=="string"):[]}}async function Gee(t,e){let r=e.featureSets.map(u=>[u,u.sourceInformation]).filter(u=>u[1].type==="oci").map(([u,f])=>({id:`${f.featureRef.registry}/${f.featureRef.path}`,version:u.features[0].version})).sort((u,f)=>u.id.localeCompare(f.id));if(!r.length)return[];let n=await vg(t.cacheFolder,t.output);if(!n.featureAdvisories.length)return[];let i=n.featureAdvisories.reduce((u,f)=>{let c=u.get(f.featureId);return c?c.push(f):u.set(f.featureId,[f]),u},new Map),s=new Map;function o(u){return s.has(u)||s.set(u,Ls(u)),s.get(u)}return r.map(u=>{let f=i.get(u.id),c=o(u.version);return c?{feature:u,advisories:(f==null?void 0:f.filter(d=>{let p=o(d.introducedInVersion),l=o(d.fixedInVersion);return!p||!l?!1:!Ns(c,p)&&Ns(c,l)}))||[]}:(t.output.write(`Unable to parse version for feature ${u.id}: ${u.version}`,4),{feature:u,advisories:[]})}).filter(u=>u.advisories.length)}async function vN(t,e){let r=await Gee(t,e);r.length&&t.output.write(`

-----------------------------------------------------------------------------------------------------------
FEATURE ADVISORIES:${r.map(n=>`
- ${n.feature.id}:${n.feature.version}:${n.advisories.map(i=>`
  - ${i.description} (introduced in ${i.introducedInVersion}, fixed in ${i.fixedInVersion}${i.documentationURL?`, see ${i.documentationURL}`:""})`).join("")}`).join("")}

It is recommended that you update your configuration to versions of these features with the fixes applied.
-----------------------------------------------------------------------------------------------------------

`,4)}var Yx="devcontainer-features.tgz",$f="devcontainer-features.json",jf="devcontainer-feature.json",ka="/tmp/dev-container-features",Jee={src:"source",destination:"target",dst:"target"};function bg(t){return t.split(",").map(e=>e.split("=")).reduce((e,[r,n])=>({...e,[Jee[r]||r]:n}),{})}var Kee=at.basename(process.argv[0])==="ts-node"||process.argv.indexOf("ts-node/register")!==-1;function Uf(t){if(Kee)return at.join(require.resolve("vscode-dev-containers/package.json"),"..","container-features");let e=typeof t=="string"?at.join(t,"dist"):t.distFolder;return at.join(e,"node_modules","vscode-dev-containers","container-features")}function CN(t){return`

#{nonBuildKitFeatureContentFallback}

FROM $_DEV_CONTAINERS_BASE_IMAGE AS dev_containers_feature_content_normalize
USER root
COPY --from=dev_containers_feature_content_source ${at.posix.join(t,"devcontainer-features.builtin.env")} /tmp/build-features/
RUN chmod -R 0755 /tmp/build-features/

FROM $_DEV_CONTAINERS_BASE_IMAGE AS dev_containers_target_stage

USER root

RUN mkdir -p ${ka}
COPY --from=dev_containers_feature_content_normalize /tmp/build-features/ ${ka}

#{featureLayer}

#{containerEnv}

ARG _DEV_CONTAINERS_IMAGE_USER=root
USER $_DEV_CONTAINERS_IMAGE_USER

#{devcontainerMetadata}

#{containerEnvMetadata}
`}function SN(t,e,r){let n=ho(e.sourceInformation.userFeatureIdWithoutVersion??"Unknown"),i=ho(t.name??"Unknown"),s=ho(t.description??""),o=ho(t.version??""),a=ho(t.documentationURL??""),u=ho(r.map(l=>`    ${l}`).join(`
`)),f="";t.deprecated&&(f+=`(!) WARNING: Using the deprecated Feature "${ho(t.id)}". This Feature will no longer receive any further updates/support.
`),t!=null&&t.legacyIds&&t.legacyIds.length>0&&t.currentId&&t.id!==t.currentId&&(f+=`(!) WARNING: This feature has been renamed. Please update the reference in devcontainer.json to "${ho(t.currentId)}".`);let c=f?`echo '${f}'`:"",d=`ERROR: Feature "${i}" (${n}) failed to install!`,p=a?` Look at the documentation at ${a} for help troubleshooting this error.`:"";return`#!/bin/sh
set -e

on_exit () {
	[ $? -eq 0 ] && exit
	echo '${d}${p}'
}

trap on_exit EXIT

echo ===========================================================================
${c}
echo 'Feature       : ${i}'
echo 'Description   : ${s}'
echo 'Id            : ${n}'
echo 'Version       : ${o}'
echo 'Documentation : ${a}'
echo 'Options       :'
echo '${u}'
echo ===========================================================================

set -a
. ../devcontainer-features.builtin.env
. ./devcontainer-features.env
set +a

chmod +x ./install.sh
./install.sh
`}function ho(t){return t.replace(new RegExp("'","g"),"'\\''")}function DN(t,e,r,n=!1,i="/tmp/build-features"){let s=`${at.posix.join(ka,"devcontainer-features.builtin.env")}`,o=`RUN \\
echo "_CONTAINER_USER_HOME=$(getent passwd ${e} | cut -d: -f6)" >> ${s} && \\
echo "_REMOTE_USER_HOME=$(getent passwd ${r} | cut -d: -f6)" >> ${s}

`;return(t.featureSets||[]).filter(u=>u.internalVersion!=="2").map(u=>u.features[0].consecutiveId).forEach(u=>{let f=at.posix.join(i,u),c=at.posix.join(ka,u);n?o+=`RUN --mount=type=bind,from=dev_containers_feature_content_source,source=${f},target=/tmp/build-features-src/${u} \\
    cp -ar /tmp/build-features-src/${u} ${ka} \\
 && chmod -R 0755 ${c} \\
 && cd ${c} \\
 && chmod +x ./install.sh \\
 && ./install.sh \\
 && rm -rf ${c}

`:o+=`COPY --chown=root:root --from=dev_containers_feature_content_source ${f} ${c}
RUN chmod -R 0755 ${c} \\
&& cd ${c} \\
&& chmod +x ./install.sh \\
&& ./install.sh

`}),t.featureSets.filter(u=>u.internalVersion==="2").forEach(u=>{u.features.forEach(f=>{o+=wg(f.containerEnv);let c=at.posix.join(i,f.consecutiveId),d=at.posix.join(ka,f.consecutiveId);n?o+=`
RUN --mount=type=bind,from=dev_containers_feature_content_source,source=${c},target=/tmp/build-features-src/${f.consecutiveId} \\
    cp -ar /tmp/build-features-src/${f.consecutiveId} ${ka} \\
 && chmod -R 0755 ${d} \\
 && cd ${d} \\
 && chmod +x ./devcontainer-features-install.sh \\
 && ./devcontainer-features-install.sh \\
 && rm -rf ${d}

`:o+=`
COPY --chown=root:root --from=dev_containers_feature_content_source ${c} ${d}
RUN chmod -R 0755 ${d} \\
&& cd ${d} \\
&& chmod +x ./devcontainer-features-install.sh \\
&& ./devcontainer-features-install.sh

`})}),o}function wg(t,e=!1){if(!t)return"";let r=Object.keys(t),n=e?/(?=["\\$])/g:/(?=["\\])/g;return r.map(i=>`ENV ${i}="${t[i].replace(n,"\\")}"`).join(`
`)}var EN=new RegExp("^[a-zA-Z0-9_-]*$"),Gx=async(t,e)=>{try{await Nn(t,{force:!0})}catch(r){e.write(`Didn't remove temporary tarball from disk with caught exception: ${r==null?void 0:r.Message} `,1)}};function AN(t,e){let{env:r,output:n}=t,i={"user-agent":"devcontainer"},s=o=>{let a=o.tarballUri;return a.startsWith("https://github.com")||a.startsWith("https://api.github.com")};if(e.type==="github-repo"||e.type==="direct-tarball"&&s(e)){let o=r.GITHUB_TOKEN;o?(n.write("Using environment GITHUB_TOKEN."),i.Authorization=`Bearer ${o}`):n.write("No environment GITHUB_TOKEN available.")}return i}async function Xee(t,e,r,n){let i={type:"GET",url:t.apiUri,headers:r},s=JSON.parse((await Of(i,n)).toString());if(s){let o=s.assets.find(a=>a.name===`${e.id}.tgz`)||s.assets.find(a=>a.name===Yx)||void 0;if(o&&o.url)return n.write(`Found url to fetch release artifact '${o.name}'. Asset of size ${o.size} has been downloaded ${o.download_count} times and was last updated at ${o.updated_at}`),o.url;n.write("Unable to fetch release artifact URI from GitHub API",5);return}}async function Yee(t,e,r){if(t.length===0){r.write("Parsed featureSet is empty.",5);return}let n=Je(t.toString());if(!(n!=null&&n.features)||n.features.length===0){r.write("Parsed featureSet contains no features.",5);return}return r.write(`Loaded ${e}, which declares ${n.features.length} features and ${n.sourceInformation?"contains":"does not contain"} explicit source info.`,1),Zx(n)}async function Zee(t,e){let r=at.join(t,$f),n=await tt(r);return Yee(n,r,e)}function Zx(t){return t.features.find(e=>e.extensions||e.settings)?{...t,features:t.features.map(e=>{if(!(e.extensions||e.settings))return e;let r={...e},n=r.customizations||(r.customizations={}),i=n.vscode||(n.vscode={});return r.extensions&&(i.extensions=(i.extensions||[]).concat(r.extensions),delete r.extensions),r.settings&&(i.settings={...r.settings,...i.settings||{}},delete r.settings),r})}:t}async function xg(t,e,r,n,i){let{output:s}=t,o=t.cwd;s.write(`workspace root: ${o}`,1);let a=_N(Cg(r,i),s);if(!a)return;let u=n(t.extensionPath),f=await Zee(u,s);if(!f){s.write("Failed to load locally cached features",5);return}let c=r.configFilePath&&At(r.configFilePath,t.platform);s.write(`configPath: ${c}`,1);let d=await Qee(e),p=await Vx(r),l=async g=>await qf(t,c,o,g,p);s.write("--- Processing User Features ----",1);let h=await mg(t,l,a,r);if(!h)throw new Error("Failed to compute Feature installation order!");let y={featureSets:h,dstFolder:e};return s.write("--- Fetching User Features ----",1),await tte(t,y,f,e,u,d),await vN(t,y),await fN(t,r,y),y}async function FN(t,e){let{output:r}=t,n=_N(Cg(e),r);if(!n)return{};let i=await Vx(e),s={};return await Promise.all(n.map(async o=>{var c,d;let a=o.userFeatureId,u=kN(r,a),f=dr(r,u);if(f){let p=(c=await bl(t,f,!0))==null?void 0:c.reverse();if(p){let l=(d=i==null?void 0:i.features[a])==null?void 0:d.version,h=l,y=f.tag;y&&(h=p.find(g=>xN.satisfies(g,y))),h&&(s[a]={current:l||h,wanted:h,latest:p[0]})}}})),{features:s}}async function Qee(t){let e=at.join(t,"ociCache");return await mn(e),e}function Cg(t,e){if(!Object.keys(t.features||{}).length&&!Object.keys(e||{}).length)return;let r=[],n=new Set;if(t.features)for(let i of Object.keys(t.features)){let s=t.features[i],o={userFeatureId:i,options:s};r.push(o),n.add(i)}if(e){for(let i of Object.keys(e))if(!n.has(i)){let s=e[i],o={userFeatureId:i,options:s};r.push(o)}}return r}var Jx={gradle:{mapTo:"java",withOptions:{installGradle:!0}},maven:{mapTo:"java",withOptions:{installMaven:!0}},jupyterlab:{mapTo:"python",withOptions:{installJupyterlab:!0}}};function _N(t,e){if(!t){e.write("No user features to update",1);return}let r="ghcr.io/devcontainers/features",n="1";for(let s of t.filter(o=>Jx[o.userFeatureId])){let{mapTo:o,withOptions:a}=Jx[s.userFeatureId];e.write(`(!) WARNING: Using the deprecated '${s.userFeatureId}' Feature. It is now part of the '${o}' Feature. See https://github.com/devcontainers/features/tree/main/src/${o}#options for the updated Feature.`,4);let u=`${r}/${o}`,f=t.find(c=>c.userFeatureId===o||c.userFeatureId===u||c.userFeatureId.startsWith(`${u}:`));f?f.options={...typeof f.options=="object"?f.options:typeof f.options=="string"?{version:f.options}:{},...a}:(f={userFeatureId:`${u}:${n}`,options:a},t.push(f))}return t.filter(s=>!Jx[s.userFeatureId])}async function ete(t,e,r){var s;let{output:n}=t;if(!e.includes("/")&&!e.includes("\\"))return{type:"local-cache",manifest:void 0};if(e.startsWith("https://"))return{type:"direct-tarball",manifest:void 0};if(e.startsWith("./")||e.startsWith("../")||e.startsWith("/"))return{type:"file-path",manifest:void 0};let i=await cN(t,e,(s=r==null?void 0:r.features[e])==null?void 0:s.integrity);return i?{type:"oci",manifest:i}:(n.write(`Could not resolve Feature manifest for '${e}'.  If necessary, provide registry credentials with 'docker login <registry>'.`,4),n.write("Falling back to legacy GitHub Releases mode to acquire Feature.",1),{type:"github-repo",manifest:void 0})}function kN(t,e){let r=["aws-cli","azure-cli","desktop-lite","docker-in-docker","docker-from-docker","dotnet","git","git-lfs","github-cli","java","kubectl-helm-minikube","node","powershell","python","ruby","rust","sshd","terraform"],n=new Map;n.set("golang","go"),n.set("common","common-utils");let i=new Map;i.set("gradle","java"),i.set("maven","java"),i.set("jupyterlab","python");let s="ghcr.io/devcontainers/features",o="1";return r.includes(e)?(t.write(`(!) WARNING: Using the deprecated '${e}' Feature. See https://github.com/devcontainers/features/tree/main/src/${e}#example-usage for the updated Feature.`,4),`${s}/${e}:${o}`):n.get(e)!==void 0?(t.write(`(!) WARNING: Using the deprecated '${e}' Feature. See https://github.com/devcontainers/features/tree/main/src/${n.get(e)}#example-usage for the updated Feature.`,4),`${s}/${n.get(e)}:${o}`):(i.get(e)!==void 0&&t.write(`(!) WARNING: Falling back to the deprecated '${e}' Feature. It is now part of the '${i.get(e)}' Feature. See https://github.com/devcontainers/features/tree/main/src/${i.get(e)}#options for the updated Feature.`,4),e)}async function qf(t,e,r,n,i,s){let{output:o}=t;o.write(`* Processing feature: ${n.userFeatureId}`);let a=n.userFeatureId;s||(n.userFeatureId=kN(o,n.userFeatureId));let{type:u,manifest:f}=await ete(t,n.userFeatureId,i);if(u==="local-cache"){o.write("Cached feature found.");let x={id:n.userFeatureId,name:n.userFeatureId,value:n.options,included:!0};return{sourceInformation:{type:"local-cache",userFeatureId:a},features:[x]}}if(u==="direct-tarball"){o.write("Remote tar file found.");let x=new bN.URL(n.userFeatureId),E=x.pathname,S=E.substring(E.lastIndexOf("/")+1);o.write(`tarballName = ${S}`,1);let P=new RegExp("devcontainer-feature-(.*).tgz").exec(S);if(!P||P.length!==2){o.write(`Expected tarball name to follow 'devcontainer-feature-<feature-id>.tgz' format.  Received '${S}'`,5);return}let V=P[1];if(V===""||!EN.test(V)){o.write(`Parse error. Specify a feature id with alphanumeric, dash, or underscore characters. Received ${V}.`,5);return}let H={id:V,name:n.userFeatureId,value:n.options,included:!0};return{sourceInformation:{type:"direct-tarball",tarballUri:x.toString(),userFeatureId:a},features:[H]}}if(u==="file-path"){o.write("Local disk feature.");let x=at.basename(n.userFeatureId);if(at.isAbsolute(n.userFeatureId)){o.write("An Absolute path to a local feature is not allowed.",5);return}if(!e){o.write("A local feature requires a configuration path.",5);return}let E=at.join(at.dirname(e),n.userFeatureId),S=at.join(r,".devcontainer"),F=E,P=at.relative(S,F);if(o.write(`${S} -> ${F}:   Relative Distance = '${P}'`,1),P.indexOf("..")!==-1){o.write(`Local file path parse error. Resolved path must be a child of the .devcontainer/ folder.  Parsed: ${E}`,5);return}o.write(`Resolved: ${n.userFeatureId}  ->  ${E}`,1),o.write(`Parsed feature id: ${x}`,1);let V={id:x,name:n.userFeatureId,value:n.options,included:!0};return{sourceInformation:{type:"file-path",resolvedFilePath:E,userFeatureId:a},features:[V]}}if(u==="oci"&&f)return lN(o,n.userFeatureId,n.options,f,a);o.write("Github feature.");let c="latest",d=n.userFeatureId.split("@");if(d.length>2){o.write("Parse error. Use the '@' symbol only to designate a version tag.",5);return}d.length===2&&(o.write(`[${n.userFeatureId}] has version ${d[1]}`,1),c=d[1]);let l=d[0].split("/");if(l.length!==3||l.some(x=>x==="")||!EN.test(l[2])){o.write(`Could not resolve Feature '${n.userFeatureId}'.  Ensure the Feature is published and accessible from your current environment.`,5);return}let h=l[0],y=l[1],v={id:l[2],name:n.userFeatureId,value:n.options,included:!0},b=a.split("@")[0];return c==="latest"?{sourceInformation:{type:"github-repo",apiUri:`https://api.github.com/repos/${h}/${y}/releases/latest`,unauthenticatedUri:`https://github.com/${h}/${y}/releases/latest/download`,owner:h,repo:y,isLatest:!0,userFeatureId:a,userFeatureIdWithoutVersion:b},features:[v]}:{sourceInformation:{type:"github-repo",apiUri:`https://api.github.com/repos/${h}/${y}/releases/tags/${c}`,unauthenticatedUri:`https://github.com/${h}/${y}/releases/download/${c}`,owner:h,repo:y,tag:c,isLatest:!1,userFeatureId:a,userFeatureIdWithoutVersion:b},features:[v]}}async function tte(t,e,r,n,i,s){var a;let o=e.featureSets;for(let u=0;u<o.length;u++){let f=o[u];try{if(!f||!f.features||!f.sourceInformation||!r)continue;let{output:c}=t,d=f.features[0],p=`${d.id}_${u}`,l=at.join(n,p),h=(a=f.sourceInformation)==null?void 0:a.type;if(d.cachePath=l,d.consecutiveId=p,!d.consecutiveId||!d.id||!(f!=null&&f.sourceInformation)||!f.sourceInformation.userFeatureId){let x="Internal Features error. Missing required attribute(s).";throw new Error(x)}let y=`${d.consecutiveId}_${h}`;if(c.write(`* Fetching feature: ${y}`),h==="oci"){if(c.write("Fetching from OCI",1),await mn(l),!await fg(t,f,s,l)){let E=`Could not download OCI feature: ${f.sourceInformation.featureRef.id}`;throw new Error(E)}if(!await Eg(c,f,d,l,f.sourceInformation.manifestDigest)){let E=`Failed to parse feature '${y}'. Please check your devcontainer.json 'features' attribute.`;throw new Error(E)}continue}if(h==="local-cache"){if(await mn(l),await zr(i,l),!await Eg(c,f,d,l,void 0)){let x=`Failed to parse feature '${y}'. Please check your devcontainer.json 'features' attribute.`;throw new Error(x)}continue}if(h==="file-path"){c.write("Detected local file path",1),await mn(l);let x=f.sourceInformation.resolvedFilePath;if(await zr(x,l),!await Eg(c,f,d,l,void 0)){let E=`Failed to parse feature '${y}'. Please check your devcontainer.json 'features' attribute.`;throw new Error(E)}continue}c.write("Detected tarball",1);let g=AN(t,f.sourceInformation),v=[];if(h==="github-repo"){if(c.write("Determining tarball URI for provided github repo.",1),g.Authorization&&g.Authorization!==""){c.write("GITHUB_TOKEN available. Attempting to fetch via GH API.",3);let x=await Xee(f.sourceInformation,d,g,c);x?v.push(x):c.write("Failed to generate autenticated tarball URI for provided feature, despite a GitHub token present",4),g.Accept="Accept: application/octet-stream"}c.write("Appending unauthenticated URIs for v2 and then v1",1),v.push(`${f.sourceInformation.unauthenticatedUri}/${d.id}.tgz`),v.push(`${f.sourceInformation.unauthenticatedUri}/${Yx}`)}else v.push(f.sourceInformation.tarballUri);let b;for(let x of v)if(b=await Wx(t,x,l,g,n),b){if(c.write(`Succeeded fetching ${x}`,1),!await Eg(c,f,d,l,b.computedDigest)){let E=`Failed to parse feature '${y}'. Please check your devcontainer.json 'features' attribute.`;throw new Error(E)}break}if(!b){let x=`(!) Failed to fetch tarball for ${y} after attempting ${v.length} possibilities.`;throw new Error(x)}}catch(c){throw t.output.write(`(!) ERR: Failed to fetch feature: ${(c==null?void 0:c.message)??""} `,5),c}}}async function Wx(t,e,r,n,i,s){let{output:o}=t,a=at.join(i,"temp.tgz");try{let u={type:"GET",url:e,headers:n??AN(t,{tarballUri:e,userFeatureId:e,type:"direct-tarball"})};o.write(`Fetching tarball at ${u.url}`),o.write(`Headers: ${JSON.stringify(u)}`,1);let f=await Of(u,o);if(!f||f.length===0){o.write(`Did not receive a response from tarball download URI: ${e}`,1);return}let c=`sha256:${wN.createHash("sha256").update(f).digest("hex")}`,d=(h,y)=>!(h.startsWith("./.")||h===`./${Yx}`||h==="./.");if(o.write(`Preparing to unarchive received tgz from ${a} -> ${r}.`,1),await mn(r),await Ht(a,f),await Xx.x({file:a,cwd:r,filter:d}),!s)return await Gx(a,o),{computedDigest:c,metadata:void 0};await Xx.x({file:a,cwd:r,filter:(h,y)=>h===`./${s}`});let p=at.join(r,s),l;return await st(p)&&(o.write(`Found metadata file '${s}' in tgz`,1),l=Je((await tt(p)).toString())),await Gx(a,o),{computedDigest:c,metadata:l}}catch(u){o.write(`Caught failure when fetching from URI '${e}': ${u}`,1),await Gx(a,o);return}}async function Eg(t,e,r,n,i){let s=at.join(n,jf);if(!await st(s))return t.write(`Feature ${r.id} is not a 'v2' feature. Attempting fallback to 'v1' implementation.`,1),t.write(`For v2, expected devcontainer-feature.json at ${s}`,1),await rte(t,e,r,n);e.internalVersion="2",e.computedDigest=i,r.cachePath=n;let o=await tt(s);return r={...Je(o.toString()),...r},e.features[0]=Zx({features:[r]}).features[0],!0}async function rte(t,e,r,n){let i=at.join(n,$f);if(!await st(i))return t.write(`Failed to find ${$f} metadata file (v1)`,5),!1;e.internalVersion="1",r.cachePath=n;let s=await tt(i),o=Je(s.toString()),a=o==null?void 0:o.features.find(u=>u.id===r.id);return a?(r={...a,...r},e.features[0]=Zx({features:[r]}).features[0],!0):(t.write(`Failed to find feature '${r.id}' in provided v1 metadata file`,5),!1)}function IN(t){var e;return(e=t.options)!=null&&e.version?"version":void 0}function Qx(t){var r,n;let e=IN(t);if(!e)return!!t.value;if(typeof t.value=="object"){let i=t.value[e];return i===void 0&&t.options?(r=t.options[e])==null?void 0:r.default:i}return t.value===void 0&&t.options?(n=t.options[e])==null?void 0:n.default:t.value}function PN(t){if(typeof t.value=="object")return{...Kx(t),...t.value};let e=IN(t);return e?{...Kx(t),[e]:t.value}:Kx(t)}function Kx(t){let e=t.options||{};return Object.keys(e).reduce((r,n)=>("default"in e[n]&&(r[n]=e[n].default),r),{})}function Jt(){return TN()}var Sg=!0;var RN=Ce(jc()),ite=new RegExp(/^(?<line>\s*FROM.*)/,"gm"),ste=/FROM\s+(?<platform>--platform=\S+\s+)?(?<image>"?[^\s]+"?)(\s+[Aa][Ss]\s+(?<label>[^\s]+))?/,ote=/^\s*FROM\s+(?<platform>--platform=\S+\s+)?(?<image>"?[^\s]+"?)(\s+[Aa][Ss]\s+(?<label>[^\s]+))?/m,ate=/^\s*(?<instruction>ARG|ENV|USER)\s+(?<name>[^\s=]+)([ =]+("(?<value1>\S+)"|(?<value2>\S+)))?/gm,ute=/^\s*#\s*(?<name>\S+)\s*=\s*(?<value>.+)/,lte=/\$\{?(?<variable>[a-zA-Z0-9_]+)(?<isVarExp>:(?<option>-|\+)(?<word>[^\}]+))?\}?/g;function cte(t){let e=ote.exec(t);if(!e)return{image:"unknown"};let{platform:r,image:n,label:i}=e.groups;return n=n.replace(/^['"]|['"]$/g,""),{platform:r,image:n,label:i}}function BN(t){var f;let e=/(?=^[\t ]*FROM)/gm,r=t.split(e),n=e.test(r[0]||"")?"":r.shift(),s=r.map(c=>({from:cte(c),instructions:ON(c)})),o=fte(n),a=o.syntax&&/^(?:docker.io\/)?docker\/dockerfile(?::(?<version>\S+))?/.exec(o.syntax)||void 0;return{preamble:{version:a&&(((f=a.groups)==null?void 0:f.version)||"latest"),directives:o,instructions:ON(n)},stages:s,stagesByLabel:s.reduce((c,d)=>(d.from.label&&(c[d.from.label]=d),c),{})}}function LN(t,e,r,n){let i=n?t.stagesByLabel[n]:t.stages[t.stages.length-1],s=new Set;for(;i;){if(s.has(i))return;s.add(i);let o=MN(i.instructions,u=>u.instruction==="USER");if(o!==-1)return xl(t,e,r,i.instructions[o].name,i,o)||void 0;let a=xl(t,e,r,i.from.image,t.preamble,t.preamble.instructions.length);i=t.stagesByLabel[a]}}function NN(t,e,r){let n=r?t.stagesByLabel[r]:t.stages[t.stages.length-1],i=new Set;for(;n;){if(i.has(n))return;i.add(n);let s=xl(t,e,{},n.from.image,t.preamble,t.preamble.instructions.length),o=t.stagesByLabel[s];if(!o)return s;n=o}}function fte(t){var r;let e={};for(let n of t.split(/\r?\n/)){let i=(r=n.match(ute))==null?void 0:r.groups;if(i)e[i.name]||(e[i.name]=i.value);else break}return e}function ON(t){return[...t.matchAll(ate)].map(e=>{let r=e.groups;return{instruction:r.instruction,name:r.name,value:r.value1||r.value2}})}function hte(t,e,r,n){return{"-":(s,o,a)=>s?a:o,"+":(s,o,a)=>s?o:a}[t](e,r,n).replace(/^['"]|['"]$/g,"")}function xl(t,e,r,n,i,s){return[...n.matchAll(lte)].map(o=>{let a=o.groups.variable,u=!!o.groups.isVarExp,f=dte(t,e,r,a,i,s)||"";if(u){let c=o.groups.option,d=o.groups.word;f=hte(c,f!=="",d,f)}return{begin:o.index,end:o.index+o[0].length,value:f}}).reverse().reduce((o,{begin:a,end:u,value:f})=>o.substring(0,a)+f+o.substring(u),n)}function dte(t,e,r,n,i,s){let o=!0,a=new Set;for(;;){if(a.has(i))return;a.add(i);let u=MN(i.instructions,c=>c.name===n&&(c.instruction==="ENV"||o&&typeof(e[c.name]??c.value)=="string"),s-1);if(u!==-1){let c=i.instructions[u];if(c.instruction==="ENV")return xl(t,e,r,c.value,i,u);if(c.instruction==="ARG")return xl(t,e,r,e[c.name]??c.value,i,u)}if(!i.from){let c=r[n];return typeof c=="string"?c:void 0}let f=xl(t,e,r,i.from.image,t.preamble,t.preamble.instructions.length);i=t.stagesByLabel[f]||t.preamble,s=i.instructions.length,o=i===t.preamble}}function MN(t,e,r=t.length-1){for(let n=r;n>=0;n--)if(e(t[n],n,t))return n;return-1}function Dg(t,e){var d,p;let r=[...t.matchAll(ite)],n=r[r.length-1],i=(d=n.groups)==null?void 0:d.line,s=i.match(ste);if(!s)throw new Error("Error parsing Dockerfile: failed to parse final FROM line");if((p=s.groups)!=null&&p.label)return{lastStageName:s.groups.label,modifiedDockerfile:void 0};let o=n.index+s.index,a=o+i.length,u=s[0],f=t.slice(0,o+u.length);f+=` AS ${e}`;let c=i.length-u.length;return f+=t.slice(a-c),{lastStageName:e,modifiedDockerfile:f}}function jN(t){let e=t.preamble.version;if(!e)return t.preamble.directives.syntax?"unknown":!1;let r=(/^\d+(\.\d+){0,2}/.exec(e)||[])[0];return r?RN.intersects(r,">=1.4"):!0}function $N(t){let e="--mount";if(typeof t=="string")return[e,t];let r=`type=${t.type},`,n=t.source?`src=${t.source},`:"",i=`dst=${t.target}`,s=`${r}${n}${i}`;return[e,s]}var pte=["onCreateCommand","updateContentCommand","postCreateCommand","postStartCommand","postAttachCommand","waitFor","customizations","mounts","containerEnv","containerUser","init","privileged","capAdd","securityOpt","remoteUser","userEnvProbe","remoteEnv","overrideCommand","portsAttributes","otherPortsAttributes","forwardPorts","shutdownAction","updateRemoteUserUID","hostRequirements"],UN=["remoteUser","userEnvProbe","remoteEnv"],zN=["onCreateCommand","updateContentCommand","postCreateCommand","postStartCommand","postAttachCommand"],mte=[...zN,"init","privileged","capAdd","securityOpt","entrypoint","mounts","customizations"],gte=["customizations","entrypoint","onCreateCommand","updateContentCommand","postCreateCommand","postStartCommand","postAttachCommand","shutdownAction"];function Ia(t){let e={onCreateCommand:[],updateContentCommand:[],postCreateCommand:[],postStartCommand:[],postAttachCommand:[],initializeCommand:[]};for(let r of t){let i=r.id??"devcontainer.json";for(let s of zN){let o=r[s];o&&e[s].push({origin:i,command:o})}}return e}function Vf(t,e){let r=[];for(let n of t){let i=n[e];i&&r.push(i)}return r}function wi(t,e){var o,a,u,f,c,d,p,l;let r=e.reduce((h,y)=>{for(let g in y.customizations)g in h?h[g].push(y.customizations[g]):h[g]=[y.customizations[g]];return h},{}),n=e.slice().reverse(),i={...t};return gte.forEach(h=>delete i[h]),{...i,init:e.some(h=>h.init),privileged:e.some(h=>h.privileged),capAdd:VN(e.map(h=>h.capAdd)),securityOpt:VN(e.map(h=>h.securityOpt)),entrypoints:wte(e,"entrypoint"),mounts:bte(e),customizations:Object.keys(r).length?r:void 0,onCreateCommands:Vf(e,"onCreateCommand"),updateContentCommands:Vf(e,"updateContentCommand"),postCreateCommands:Vf(e,"postCreateCommand"),postStartCommands:Vf(e,"postStartCommand"),postAttachCommands:Vf(e,"postAttachCommand"),waitFor:(o=n.find(h=>h.waitFor))==null?void 0:o.waitFor,remoteUser:(a=n.find(h=>h.remoteUser))==null?void 0:a.remoteUser,containerUser:(u=n.find(h=>h.containerUser))==null?void 0:u.containerUser,userEnvProbe:(f=n.find(h=>h.userEnvProbe))==null?void 0:f.userEnvProbe,remoteEnv:Object.assign({},...e.map(h=>h.remoteEnv)),containerEnv:Object.assign({},...e.map(h=>h.containerEnv)),overrideCommand:(c=n.find(h=>typeof h.overrideCommand=="boolean"))==null?void 0:c.overrideCommand,portsAttributes:Object.assign({},...e.map(h=>h.portsAttributes)),otherPortsAttributes:(d=n.find(h=>h.otherPortsAttributes))==null?void 0:d.otherPortsAttributes,forwardPorts:yte(e),shutdownAction:(p=n.find(h=>h.shutdownAction))==null?void 0:p.shutdownAction,updateRemoteUserUID:(l=n.find(h=>typeof h.updateRemoteUserUID=="boolean"))==null?void 0:l.updateRemoteUserUID,hostRequirements:vte(e)}}function yte(t){let e=[...new Set([].concat(...t.map(r=>r.forwardPorts||[])).map(r=>typeof r=="number"?`localhost:${r}`:r))].map(r=>/localhost:\d+/.test(r)?parseInt(r.substring(10)):r);return e.length?e:void 0}function vte(t){let e=Math.max(...t.map(s=>{var o;return((o=s.hostRequirements)==null?void 0:o.cpus)||0})),r=Math.max(...t.map(s=>{var o;return Ag(((o=s.hostRequirements)==null?void 0:o.memory)||"0")})),n=Math.max(...t.map(s=>{var o;return Ag(((o=s.hostRequirements)==null?void 0:o.storage)||"0")})),i=t.map(s=>{var o;return(o=s.hostRequirements)==null?void 0:o.gpu}).reduce(Ete,void 0);return e||r||n||i?{cpus:e,memory:r?`${r}`:void 0,storage:n?`${n}`:void 0,gpu:i}:void 0}function Ete(t,e){if(t===void 0||t===!1)return e;if(e===void 0||e===!1)return t;if(t==="optional"&&e==="optional")return"optional";{let r=qN(t),n=qN(e),i=Math.max(r.cores||0,n.cores||0),s=Math.max(Ag(r.memory||"0"),Ag(n.memory||"0"));return{cores:i||void 0,memory:s?`${s}`:void 0}}}function qN(t){return typeof t!="object"?{}:t}function Ag(t){let e=/^(\d+)([tgmk]b)?$/.exec(t);if(e){let[,r,n]=e,i=parseInt(r,10),s=n&&{t:2**40,g:2**30,m:2**20,k:2**10}[n[0]]||1;return i*s}return 0}function bte(t){let e=new Set,r=t.map(n=>n.mounts).filter(Boolean).flat().map(n=>({obj:typeof n=="string"?bg(n):n,orig:n})).reverse().filter(n=>!e.has(n.obj.target)&&e.add(n.obj.target)).reverse().map(n=>n.orig);return r.length?r:void 0}function VN(t){let e=[...new Set([].concat(...t.filter(r=>!!r)))];return e.length?e:void 0}function wte(t,e){let r=t.map(n=>n[e]).filter(n=>!!n);return r.length?r:void 0}function on(t,e,r,n=[],i=[]){let s=mte.filter(f=>!n.includes(f)),o=pte.filter(f=>!i.includes(f)),a=(r==null?void 0:r.featureSets.map(f=>f.features.map(c=>({id:f.sourceInformation.userFeatureId,...Hf(c,s)}))).flat())||[],u=[...t.raw,...a,Hf(e.raw,o)].filter(f=>Object.keys(f).length);return{config:[...t.config,...a.map(e.substitute),Hf(e.config,o)].filter(f=>Object.keys(f).length),raw:u,substitute:e.substitute}}function Hf(t,e){return e.reduce((r,n)=>(n in t&&(r[n]=t[n]),r),{})}async function WN(t,e){var a,u;let{dockerCLI:r,dockerComposeCLI:n}=t,{cliHost:i,output:s}="cliHost"in t?t:t.common,{config:o}=e;if(jn(o)){let f=Us(i,o),c=await Wf(f,i);if(!i.isFile(c))throw new Me({description:`Dockerfile (${c}) not found.`});let d=(await i.readFile(c)).toString();return Sl(t,d,((a=o.build)==null?void 0:a.args)||{},(u=o.build)==null?void 0:u.target,e.substitute)}else if("dockerComposeFile"in o){let f=i.path.join(i.cwd,".env"),c=Array.isArray(o.dockerComposeFile)&&o.dockerComposeFile.length===0&&await i.isFile(f)?f:void 0,d=await ru(i,o,i.env,i.cwd),p={cliHost:i,dockerCLI:r,dockerComposeCLI:n,env:i.env,output:s},l=await Dl(p,d,c);if(Object.keys(l.services||{}).indexOf(o.service)===-1)throw new Error(`Service '${o.service}' configured in devcontainer.json not found in Docker Compose configuration.`);let y=l.services[o.service],g=tC(y,i.path,d);if(g.build){let{context:v,dockerfilePath:b}=g.build,x=i.path.isAbsolute(b)?b:i.path.resolve(v,b),E=(await i.readFile(x)).toString();return Sl(t,E,g.build.args||{},g.build.target,e.substitute)}else return Cl(t,y.image,e.substitute)}else{if(!o.image)throw new Me({description:"No image information specified in devcontainer.json."});return Cl(t,o.image,e.substitute)}}async function Cl(t,e,r){let n=await As(t,e,!0),i=n.Config.User||"root",{output:s}="output"in t?t:t.common,o=GN(n,r,s);return{user:i,metadata:o,imageDetails:n}}async function Sl(t,e,r,n,i){let{output:s}="output"in t?t:t.common;return xte(o=>As(t,o,!0),e,r,n,i,s)}async function xte(t,e,r,n,i,s){let o=BN(e),a=NN(o,r,n),u=a&&await t(a)||void 0,c=LN(o,r,pr(u==null?void 0:u.Config.Env),n)||(u==null?void 0:u.Config.User)||"root",d=u?GN(u,i,s):{config:[],raw:[],substitute:i};return{user:c,metadata:d,dockerfile:o}}var zf="devcontainer.metadata";function Ds(t,e,r,n,i){if(!(t.Config.Labels||{})[zf])return on({config:[],raw:[],substitute:e.substitute},e,r);let s=JN(t,e.substitute,i);return!!n&&Object.keys(pr(n)).every(a=>(t.Config.Labels||{})[a])?{config:[...s.config,Hf(e.config,UN)].filter(a=>Object.keys(a).length),raw:[...s.raw,Hf(e.raw,UN)].filter(a=>Object.keys(a).length),substitute:s.substitute}:on(s,e,r)}function GN(t,e,r){return JN(t,e,r)}function JN(t,e,r){let n=Cte(t,r);return{config:n.map(e),raw:n,substitute:e}}function Cte(t,e){let r=(t.Config.Labels||{})[zf];if(r)try{let n=JSON.parse(r);if(Array.isArray(n))return n;if(n&&typeof n=="object")return[n];e.write(`Invalid image metadata: ${r}`)}catch(n){e.write(`Error parsing image metadata: ${(n==null?void 0:n.message)||n}`)}return[]}function eC(t){let e=t.raw;if(!e.length)return"";let r=e.length!==1?`[${e.map(n=>` \\
${HN(n)}`).join(",")} \\
]`:HN(e[0]);return`LABEL ${zf}="${r}"`}function HN(t){return JSON.stringify(t).replace(/(?=["\\$])/g,"\\")}var Al=t=>t.replace(/[^\w_]/g,"_").replace(/^[\d_]+/g,"_").toUpperCase();async function _g(t,e,r,n,i){let{common:s}=t,{cliHost:o,output:a}=s,u=await Cl(t,r,e.substitute),f=await Gf(t,e,r,u,void 0,n,i);if(!(f!=null&&f.featureBuildInfo))return{updatedImageName:[r],imageMetadata:on(u.metadata,e,f==null?void 0:f.featuresConfig),imageDetails:async()=>u.imageDetails,labels:f==null?void 0:f.labels};let{featureBuildInfo:c,featuresConfig:d}=f,p=o.path.join(c.dstFolder,"Dockerfile.extended");await o.writeFile(p,Buffer.from(c.dockerfilePrefixContent+c.dockerfileContent));let l=Pa(s),h=`${r.startsWith(l)?r:l}-features`,y=[];if(!t.buildKitVersion&&(t.buildxPlatform||t.buildxPush))throw new Me({description:"--platform or --push require BuildKit enabled.",data:{fileWithError:p}});if(t.buildKitVersion){y.push("buildx","build"),t.buildxPlatform&&(a.write("Setting BuildKit platform(s): "+t.buildxPlatform,1),y.push("--platform",t.buildxPlatform)),t.buildxPush?y.push("--push"):t.buildxOutput?y.push("--output",t.buildxOutput):y.push("--load");for(let v in c.buildKitContexts)y.push("--build-context",`${v}=${c.buildKitContexts[v]}`)}else y.push("build");for(let v in c.buildArgs)y.push("--build-arg",`${v}=${c.buildArgs[v]}`);let g=Jf(s);if(o.mkdirp(g),y.push("--target",c.overrideTarget,"-t",h,"-f",p,g),t.isTTY){let v={...fi(t),output:dt(a,3)};await gn(v,...y)}else{let v={...Wr(t),output:dt(a,3),print:"continuous"};await er(v,...y)}return{updatedImageName:[h],imageMetadata:on(u.metadata,e,d),imageDetails:async()=>u.imageDetails}}async function Gf(t,e,r,n,i,s,o){let a=await Ig(t.common);await Dte(t,a);let u=t.common.cliHost.platform,f=await xi(t.common.cliHost),{experimentalLockfile:c,experimentalFrozenLockfile:d}=t,p=await xg({...t.common,platform:u,cacheFolder:f,experimentalLockfile:c,experimentalFrozenLockfile:d},a,e.config,Uf,s);if(!p)return o&&!n.dockerfile?{labels:{[zf]:JSON.stringify(on(n.metadata,e,void 0,[],iC(t.common)).raw)}}:{featureBuildInfo:Ate(t,e,a,r,n)};let l=await Fte(t,e,p,r,n,i);if(l)return{featureBuildInfo:l,featuresConfig:p}}function Ste(t){let e="";for(let r of t.featureSets)r.internalVersion!=="2"&&(e+=`
`,e+=r.features.filter(n=>(Sg||n.included)&&n.value).reduce((n,i)=>n.concat(wg(i.containerEnv)),[]).join(`
`));return e}async function Dte(t,e){let{common:r}=t,{cliHost:n,output:i}=r,s="local-cache",o=Uf(r.extensionPath);i.write(`local container features stored at: ${o}`),await n.mkdirp(`${e}/${s}`);let a=KN.c({cwd:o,filter:p=>p!=="./Dockerfile"&&p!==`./${$f}`},["."]),u=new Promise((p,l)=>{a.on("error",l),a.on("finish",p)}),f=await n.exec({cmd:"tar",args:["--no-same-owner","-x","-f","-"],cwd:`${e}/${s}`,output:i}),c=new nC.StringDecoder;f.stdout.on("data",p=>{i.write(c.write(p))});let d=new nC.StringDecoder;f.stderr.on("data",p=>{i.write(St(d.write(p)))}),a.pipe(f.stdin),await Promise.all([f.exit,u])}function Ate(t,e,r,n,i){var o;let s=(o=i.dockerfile)==null?void 0:o.preamble.directives.syntax;return{dstFolder:r,dockerfileContent:`
FROM $_DEV_CONTAINERS_BASE_IMAGE AS dev_containers_target_stage
${eC(on(i.metadata,e,{featureSets:[]},[],iC(t.common)))}
`,overrideTarget:"dev_containers_target_stage",dockerfilePrefixContent:`${s?`# syntax=${s}`:""}
	ARG _DEV_CONTAINERS_BASE_IMAGE=placeholder
`,buildArgs:{_DEV_CONTAINERS_BASE_IMAGE:n},buildKitContexts:{}}}function iC(t){return t.omitConfigRemotEnvFromMetadata?["remoteEnv"]:[]}async function Fte(t,e,r,n,i,s){var V;let{common:o}=t,{cliHost:a,output:u}=o,{dstFolder:f}=r;if(!f||f===""){u.write("dstFolder is undefined or empty in addContainerFeatures",5);return}let c=t.buildKitVersion?Ls(t.buildKitVersion):null,p=c?!Ns(c,[0,8,0]):!1,l="dev_container_feature_content_temp",h=t.common.skipPersistingCustomizationsFromFeatures?["customizations"]:[],y=on(i.metadata,e,r,h,iC(t.common)),{containerUser:g,remoteUser:v}=_te(y,s,i.user),b=[`_CONTAINER_USER=${g}`,`_REMOTE_USER=${v}`],x=a.path.join(f,"devcontainer-features.builtin.env");await a.writeFile(x,Buffer.from(b.join(`
`)+`
`));let E=p?".":"/tmp/build-features/",S=CN(E).replace("#{nonBuildKitFeatureContentFallback}",p?"":`FROM ${l} as dev_containers_feature_content_source`).replace("#{featureLayer}",DN(r,g,v,p,E)).replace("#{containerEnv}",Ste(r)).replace("#{devcontainerMetadata}",eC(y)).replace("#{containerEnvMetadata}",wg(e.config.containerEnv,!0)),F=(V=i.dockerfile)==null?void 0:V.preamble.directives.syntax,P=`${p&&!(i.dockerfile&&jN(i.dockerfile))?"# syntax=docker/dockerfile:1.4":F?`# syntax=${F}`:""}
ARG _DEV_CONTAINERS_BASE_IMAGE=placeholder
`;for await(let H of r.featureSets)if(H.internalVersion==="2"){for await(let j of H.features)if(j.cachePath){j.internalVersion="2";let R=a.path.join(j.cachePath,"devcontainer-features.env"),N=rC(j);await a.writeFile(R,Buffer.from(N.join(`
`)));let J=a.path.join(j.cachePath,"devcontainer-features-install.sh"),K=SN(j,H,N);await a.writeFile(J,Buffer.from(K))}}else{let j=[].concat(...H.features.filter(N=>(Sg||N.included)&&N.value).map(rC)).join(`
`),R=a.path.join(H.features[0].cachePath,"devcontainer-features.env");await Promise.all([a.writeFile(R,Buffer.from(j)),...H.features.filter(N=>(Sg||N.included)&&N.value).map(N=>{let J=N.consecutiveId;if(!J)throw new Error("consecutiveId is undefined for Feature "+N.id);let K=[...rC(N),`_BUILD_ARG_${Al(N.id)}_TARGETPATH=${Fg.posix.join("/usr/local/devcontainer-features",J)}`].join(`
`),X=a.path.join(f,J,"devcontainer-features.env");return a.writeFile(X,Buffer.from(K))})])}if(!p){let H=`
	FROM scratch
	COPY . /tmp/build-features/
	`,j=a.path.join(f,"Dockerfile.buildContent");await a.writeFile(j,Buffer.from(H));let R=["build","-t",l,"-f",j];if(R.push(f),t.isTTY){let N={...fi(t),output:dt(u,3)};await gn(N,...R)}else{let N={...Wr(t),output:dt(u,3),print:"continuous"};await er(N,...R)}}return{dstFolder:f,dockerfileContent:S,overrideTarget:"dev_containers_target_stage",dockerfilePrefixContent:P,buildArgs:{_DEV_CONTAINERS_BASE_IMAGE:n,_DEV_CONTAINERS_IMAGE_USER:i.user,_DEV_CONTAINERS_FEATURE_CONTENT_SOURCE:l},buildKitContexts:p?{dev_containers_feature_content_source:f}:{}}}function _te(t,e,r){var o,a;let n=t.config.slice().reverse(),i=((o=n.find(u=>u.containerUser))==null?void 0:o.containerUser)||e||r,s=((a=n.find(u=>u.remoteUser))==null?void 0:a.remoteUser)||i;return{containerUser:i,remoteUser:s}}function rC(t){let e=PN(t),r=Al(t.id),n=[];return t.internalVersion!=="2"?(e&&(n.push(...Object.keys(e).map(i=>`_BUILD_ARG_${r}_${Al(i)}="${e[i]}"`)),n.push(`_BUILD_ARG_${r}=true`)),t.buildArg&&n.push(`${t.buildArg}=${Qx(t)}`),n):(e&&n.push(...Object.keys(e).map(i=>`${Al(i)}="${e[i]}"`)),t.buildArg&&n.push(`${t.buildArg}=${Qx(t)}`),n)}async function kte(t,e,r,n,i){let{common:s}=t,{cliHost:o}=s,{updateRemoteUserUID:a}=e;if(t.updateRemoteUserUIDDefault==="never"||!(typeof a=="boolean"?a:t.updateRemoteUserUIDDefault==="on")||!(o.platform==="linux"||t.updateRemoteUserUIDOnMacOS&&o.platform==="darwin"))return null;let f=(await n()).Config.User||"root",c=e.remoteUser||i||f;if(c==="root"||/^\d+$/.test(c))return null;let d=Pa(s);return{imageName:`${r.startsWith(d)?r:d}-uid`,remoteUser:c,imageUser:f}}async function kg(t,e,r,n,i){let{common:s}=t,{cliHost:o}=s,a=await kte(t,e,r,n,i);if(!a)return r;let{imageName:u,remoteUser:f,imageUser:c}=a,d="updateUID.Dockerfile",p=Fg.join(s.extensionPath,"scripts",d),l=s.package.version,h=o.path.join(await xi(o),`${d}-${l}`),y=`${h}-${Date.now()}`;await o.mkdirp(o.path.dirname(y)),await o.writeFile(y,await tt(p)),await o.rename(y,h);let g=Jf(s);await o.mkdirp(g);let v=["build","-f",h,"-t",u,"--build-arg",`BASE_IMAGE=${r}`,"--build-arg",`REMOTE_USER=${f}`,"--build-arg",`NEW_UID=${await o.getuid()}`,"--build-arg",`NEW_GID=${await o.getgid()}`,"--build-arg",`IMAGE_USER=${c}`,g];return t.isTTY?await gn(t,...v):await er(t,...v),u}var YN=Ce(require("path"));var ZN="com.docker.compose.project",QN="com.docker.compose.service";async function e3(t,e,r,n,i){let{common:s,dockerCLI:o,dockerComposeCLI:a}=t,{cliHost:u,env:f,output:c}=s;return Pte(t,{cliHost:u,dockerCLI:o,dockerComposeCLI:a,env:f,output:c},e,r,oC(r.config),n,i)}async function Pte(t,e,r,n,i,s,o){let{common:a}=t,{cliHost:u}=e,{config:f}=n,c,d;try{let p=await ru(u,f,u.env,u.cwd),l=u.path.join(u.cwd,".env"),h=Array.isArray(f.dockerComposeFile)&&f.dockerComposeFile.length===0&&await u.isFile(l)?l:void 0,y=await cC(e,r,p),g=await t3(t,y,f.service);if(t.expectExistingContainer&&!g)throw new Me({description:"The expected container does not exist."});if(c=g?await ki(t,g):void 0,c&&(t.removeOnStartup===!0||t.removeOnStartup===c.Id)){let E="Removing existing container.",S=a.output.start(E);await er(t,"rm","-f",c.Id),a.output.stop(E,S),c=void 0}if(!c||c.State.Status!=="running"){let E=await Tte(t,e,n,y,p,h,c,s,o);c=await ki(t,E.containerId)}let v=Ds(c,n,void 0,s,a.output).config,b=wi(n.config,v);d=await po(t,c.Id,i,b.remoteUser);let{remoteEnv:x}=await Xa(a,d,b,Ia(v));return{params:a,properties:d,config:f,resolvedAuthority:{extensionHostEnv:x},tunnelInformation:a.isLocalContainer?Bg(c):{},dockerParams:t,dockerContainerId:c.Id,composeProjectName:y}}catch(p){let l=p instanceof Me?p:new Me({description:"An error occurred setting up the container.",originalError:p});throw c&&(l.manageContainer=!0,l.params=t.common,l.containerId=c.Id,l.dockerParams=t),d&&(l.containerProperties=d),l.config=f,l}}function oC(t){return t.workspaceFolder||"/"}function tC(t,e,r){let n=t.image,i=t.build;return i?typeof i=="string"?{image:n,build:{context:i,dockerfilePath:"Dockerfile"}}:{image:n,build:{dockerfilePath:i.dockerfile??"Dockerfile",context:i.context??e.dirname(r[0]),target:i.target,args:i.args}}:{image:n}}async function aC(t,e,r,n,i,s,o,a,u,f,c,d,p,l,h){var L,$,Z,ie;let{common:y,dockerCLI:g,dockerComposeCLI:v}=r,{cliHost:b,env:x,output:E}=y,{config:S}=t,V=(await Dl({cliHost:b,dockerCLI:g,dockerComposeCLI:v,env:x,output:E},n,i)).services[S.service],H="dev_container_auto_added_stage_label",j,R,N=tC(V,b.path,n);if(N.build){let{context:he,dockerfilePath:ee,target:me}=N.build,ce=b.path.isAbsolute(ee)?ee:YN.default.resolve(he,ee),ye=(await b.readFile(ce)).toString();if(j=ye,me)H=me;else{let{lastStageName:Le,modifiedDockerfile:fe}=Dg(ye,H);H=Le,fe&&(j=fe)}R=await Sl(r,ye,((L=N.build)==null?void 0:L.args)||{},($=N.build)==null?void 0:$.target,t.substitute)}else R=await Cl(r,V.image,t.substitute);let J={...r,buildKitVersion:null},K=await Gf(J,t,H,R,V.user,d,p),X,z="";if(K!=null&&K.featureBuildInfo){N.build||(X=Pa(y),z+=`    image: ${X}
`),z+=`    build:
`,j||(j=`FROM ${V.image} AS ${H}
`);let{featureBuildInfo:he}=K,ee=j.match(/^\s*#\s*syntax\s*=.*[\r\n]/g);ee&&(j=j.slice(ee[0].length));let me=`${he.dockerfilePrefixContent}${j}
${he.dockerfileContent}`,ce=b.path.join(he==null?void 0:he.dstFolder,"Dockerfile-with-features");if(await b.writeFile(ce,Buffer.from(me)),z+=`      dockerfile: ${ce}
`,(Z=N.build)!=null&&Z.target&&(z+=`      target: ${he.overrideTarget}
`),!((ie=N.build)!=null&&ie.context)){let ye=Jf(y);await b.mkdirp(ye),z+=`      context: ${ye}
`}if(Object.keys(he.buildArgs).length>0||r.buildKitVersion){z+=`      args:
`,r.buildKitVersion&&(z+=`        - BUILDKIT_INLINE_CACHE=1
`);for(let ye in he.buildArgs)z+=`        - ${ye}=${he.buildArgs[ye]}
`}}let T=["--project-name",e,...s],W=[];if(l&&l.length>0||z){let he=b.path.join(u,"docker-compose");await b.mkdirp(he);let ee=b.path.join(he,`${f}-${Date.now()}.yml`),me=l&&l.length>0?`      cache_from:
${l.map(ye=>`        - ${ye}
`).join(`
`)}`:"",ce=`${c}services:
  ${S.service}:
${z==null?void 0:z.trimEnd()}
${me}
`;E.write(`Docker Compose override file for building image:
${ce}`),await b.writeFile(ee,Buffer.from(ce)),W.push(ee),T.push("-f",ee)}if(!h){T.push("build"),a&&(T.push("--no-cache"),K||T.push("--pull")),o.length&&(T.push(...o),o.indexOf(S.service)===-1&&T.push(S.service));try{if(r.isTTY){let he={...fi(r,await v()),output:dt(E,3)};await Hh(he,...T)}else{let he={...Wr(r,await v()),output:dt(E,3),print:"continuous"};await jo(he,...T)}}catch(he){throw he instanceof Me?he:new Me({description:"An error occurred building the Docker Compose images.",originalError:he,data:{fileWithError:n[0]}})}}return{imageMetadata:on(R.metadata,t,K==null?void 0:K.featuresConfig),additionalComposeOverrideFiles:W,overrideImageName:X,labels:K==null?void 0:K.labels}}async function XN(t,e,r,n){let i=r.find(s=>s.indexOf(n)>-1);return i?await t.isFile(i)?(e.write(`Restoring ${i} from persisted storage`),{foundLabel:!0,fileExists:!0,file:i}):(e.write(`Expected ${i} to exist, but it did not`,5),{foundLabel:!0,fileExists:!1,file:i}):(e.write(`Expected to find a docker-compose file prefixed with ${n}, but did not.`,5),{foundLabel:!1})}async function Tte(t,e,r,n,i,s,o,a,u){var J;let{common:f}=t,{persistedFolder:c,output:d}=f,{cliHost:p}=e,{config:l}=r,h="docker-compose.devcontainer.build",y="docker-compose.devcontainer.containerFeatures";f.progress(3);let g=i,v=[].concat(...g.map(K=>["-f",K]));s&&v.push("--env-file",s);let b=dt(e.output,3),x=await Dl(e,g,s);if(Object.keys(x.services||{}).indexOf(l.service)===-1)throw new Me({description:`Service '${l.service}' configured in devcontainer.json not found in Docker Compose configuration.`,data:{fileWithError:i[0]}});let S,F=new Promise((K,X)=>S=X),{started:P}=await Og(t,{[ZN]:n,[QN]:l.service},F,f.output,f.getLogLevel()===1),V=x.services[l.service],H=V.image||lC(await e.dockerComposeCLI(),n,l.service),j=(J=o==null?void 0:o.Config)==null?void 0:J.Labels;d.write(`PersistedPath=${c}, ContainerHasLabels=${!!j}`);let R=!1;if(o&&j){let K=j["com.docker.compose.project.config_files"];d.write(`Container was created with these config files: ${K}`);let X=(K==null?void 0:K.split(","))??[],z=await XN(p,d,X,h),T=await XN(p,d,X,y);(z.fileExists||!z.foundLabel)&&T.fileExists&&(R=!0,z.fileExists&&v.push("-f",z.file),T.fileExists&&v.push("-f",T.file))}if(!o||!R){let K=!!o,X=await uC(p,g),z={...t,common:{...t.common,output:b}},{imageMetadata:T,additionalComposeOverrideFiles:W,overrideImageName:L,labels:$}=await aC(r,n,z,g,s,v,l.runServices??[],t.buildNoCache??!1,c,h,X,u,!0,t.additionalCacheFroms,K);W.forEach(Le=>v.push("-f",Le));let Z=L||H,ie,he=()=>ie||(ie=As(t,Z,!0)),ee=wi(l,T.config),me=K?Z:await kg(t,ee,Z,he,V.user),ce=$?a.concat(Object.keys($).map(Le=>`${Le}=${$[Le]}`)):a,ye=await Ote(me,Z,ee,l,X,he,V,ce,t.additionalMounts,c,y,p,t,d);ye&&v.push("-f",ye)}let N=["--project-name",n,...v];N.push("up","-d"),(o||t.expectExistingContainer)&&N.push("--no-recreate"),l.runServices&&l.runServices.length&&(N.push(...l.runServices),l.runServices.indexOf(l.service)===-1&&N.push(l.service));try{t.isTTY?await Hh({...e,output:b},...N):await jo({...e,output:b},...N)}catch(K){throw S(),new Me({description:"An error occurred starting Docker Compose up.",originalError:K,data:{fileWithError:g[0]}})}return await P,{containerId:await t3(t,n,l.service)}}async function uC(t,e){if(!e.length)return"";let r=(await t.readFile(e[0])).toString(),n=(/^\s*(version:.*)$/m.exec(r)||[])[1];return n?`${n}

`:""}function lC(t,e,r){let n=Ls(t.version),i=n&&Ns(n,[2,8,0])?"_":"-";return`${e}${i}${r}`}async function Ote(t,e,r,n,i,s,o,a,u,f,c,d,p,l){let h=await Rte(t,e,r,n,i,s,o,a,u,p);if(!!h&&h.length>0&&h.trim()!==""){l.write(`Docker Compose override file for creating container:
${h}`);let g=`${c}-${Date.now()}.yml`,v=d.path.join(f,"docker-compose"),b=d.path.join(v,g);return l.write(`Writing ${g} to ${v}`),await d.mkdirp(v),await d.writeFile(b,Buffer.from(h)),b}else{l.write("Override file was generated, but was empty and thus not persisted or included in the docker-compose arguments.");return}}async function Rte(t,e,r,n,i,s,o,a,u,f){var j;let c=t!==e,d=r.containerUser,p=r.containerEnv||{},l=r.capAdd||[],h=r.securityOpt||[],y=[...r.mounts||[],...u].map(R=>typeof R=="string"?bg(R):R),g=y.filter(R=>R.type==="volume"&&R.source),v=r.entrypoints||[],b=typeof o.entrypoint=="string"?sC.parse(o.entrypoint):o.entrypoint,x=typeof o.command=="string"?sC.parse(o.command):o.command,{overrideCommand:E}=r,S=E?[]:b||((await s()).Config.Entrypoint||[]).map(R=>R.replace(/\$/g,"$$$$")),F=E?[]:x||(b?[]:((await s()).Config.Cmd||[]).map(R=>R.replace(/\$/g,"$$$$"))),P=(j=n.hostRequirements)==null?void 0:j.gpu,V=P&&await Rg(f);P&&P!=="optional"&&!V&&f.common.output.write('No GPU support found yet a GPU was required - consider marking it as "optional"',4);let H=V?`
    deploy:
      resources:
        reservations:
          devices:
            - capabilities: [gpu]`:"";return`${i}services:
  '${n.service}':${c?`
    image: ${t}`:""}
    entrypoint: ["/bin/sh", "-c", "echo Container started\\n
trap \\"exit 0\\" 15\\n
${v.join(`\\n
`)}\\n
exec \\"$$@\\"\\n
while sleep 1 & wait $$!; do :; done", "-"${S.map(R=>`, ${JSON.stringify(R)}`).join("")}]${F!==x?`
    command: ${JSON.stringify(F)}`:""}${r.init?`
    init: true`:""}${d?`
    user: ${d}`:""}${Object.keys(p).length?`
    environment:${Object.keys(p).map(R=>`
      - ${R}=${p[R]}`).join("")}`:""}${r.privileged?`
    privileged: true`:""}${l.length?`
    cap_add:${l.map(R=>`
      - ${R}`).join("")}`:""}${h.length?`
    security_opt:${h.map(R=>`
      - ${R}`).join("")}`:""}${a.length?`
    labels:${a.map(R=>`
      - '${R.replace(/\$/g,"$$$$").replace(/'/g,"''")}'`).join("")}`:""}${y.length?`
    volumes:${y.map(R=>`
      - ${Lte(R)}`).join("")}`:""}${H}${g.length?`
volumes:${g.map(R=>`
  ${Nte(R)}`).join("")}`:""}
`}async function Dl(t,e,r){try{let n=[].concat(...e.map(s=>["-f",s]));r&&n.push("--env-file",r);let i=await t.dockerComposeCLI();(Ls(i.version)||[])[0]>=2&&n.push("--profile","*");try{let s=Wr(t,"dockerComposeCLI"in t?await t.dockerComposeCLI():void 0),{stdout:o}=await jo({...s,output:dt(t.output,3),print:"onerror"},...n,"config"),a=o.toString();return t.output.write(a),Yh(a)||{}}catch(s){if(!Buffer.isBuffer(s==null?void 0:s.stderr)||(s==null?void 0:s.stderr.toString().indexOf("UnicodeEncodeError"))===-1)throw s;if(t.cliHost.platform==="win32"){let{cmdOutput:u}=await Hh({...t,output:dt({event:t.output.event,dimensions:{columns:999999,rows:1}},3)},...n,"config");return Yh(u.replace(za,""))||{}}let{stdout:o}=await jo({...t,env:{...t.env,LANG:"en_US.UTF-8",LC_CTYPE:"en_US.UTF-8"}},...n,"config"),a=o.toString();return t.output.write(a),Yh(a)||{}}}catch(n){throw n instanceof Me?n:new Me({description:"An error occurred retrieving the Docker Compose configuration.",originalError:n,data:{fileWithError:e[0]}})}}async function t3(t,e,r){let n=await Vh(t,!0,[`${ZN}=${e}`,`${QN}=${r}`]);return n&&n[0]}async function cC(t,e,r){let{cliHost:n}="cliHost"in t?t:t.common,i=await Bte(t),s=Pg(n.env.COMPOSE_PROJECT_NAME||"",i);if(s)return s;try{let u=n.path.join(n.cwd,".env"),f=await n.readFile(u),c=/^COMPOSE_PROJECT_NAME=(.+)$/m.exec(f.toString()),d=c&&c[1].trim(),p=Pg(d||"",i);if(p)return p}catch(u){if(!(u&&(u.code==="ENOENT"||u.code==="EISDIR")))throw u}let o=e.configFolderPath,a=r[0]?n.path.dirname(r[0]):n.cwd;return qD(n.platform,a,n.path.join(o,".devcontainer"))?Pg(`${n.path.basename(o)}_devcontainer`,i):Pg(n.path.basename(a),i)}function Pg(t,e){return e?t.toLowerCase().replace(/[^-_a-z0-9]/g,""):t.toLowerCase().replace(/[^a-z0-9]/g,"")}async function Bte(t){try{let e=Ls((await t.dockerComposeCLI()).version);return e?!Ns(e,[1,21,0]):!0}catch{return!0}}function Tg(t,e,r){let n;return()=>n||(n=(async()=>{let i=!1,s;try{s=(await jo({...t,cmd:r},"version","--short")).stdout}catch(a){if((a==null?void 0:a.code)!=="ENOENT")throw a;s=(await jo({...t,cmd:e},"compose","version","--short")).stdout,i=!0}let o=s.toString().trim();return t.output.write(`Docker Compose version: ${o}`),{version:o,cmd:i?e:r,args:i?["compose"]:[]}})())}function Lte(t){let e="";return t.source&&(e=`${t.source}:`),e+=t.target,e}function Nte(t){let e=`
  ${t.source}:`;return t.external&&(e+=`
    external: true`),e}async function r3(t,e,r){if(!("exec"in t)){for(let n=e,i="";n!==i;i=n,n=t.path.dirname(n))if(await t.isFile(t.path.join(n,".git","config")))return n;return}try{let{stdout:n}=await Mn({exec:t.exec,cmd:"git",args:["rev-parse","--show-cdup"],cwd:e,output:r}),i=n.toString().trim();return t.path.resolve(e,i)}catch{return}}var a3=require("string_decoder");var Kf="devcontainer.local_folder",Xf="devcontainer.config_file";async function n3(t,e,r,n,i){let{common:s}=t,{config:o}=e,a,u;try{a=await Vte(t,n);let f,c;if(a)await Hte(t,n,a),f=Ds(a,e,void 0,n,s.output).config,c=wi(o,f);else{let d=await fC(t,e,i,!0);f=d.imageMetadata.config,c=wi(o,f);let{containerUser:p}=c,l=await kg(t,c,d.updatedImageName[0],d.imageDetails,qte(o.runArgs)||p);try{await Wte(t,o,c,l,n,r.workspaceMount,d.imageDetails,p,d.labels||{})}finally{a=await Fs(t,n)}if(!a)return Fl(s.output,"Dev container not found.")}return u=await po(t,a.Id,r.workspaceFolder,c.remoteUser),await jte(a,t,u,o,c,f)}catch(f){throw Mte(f,a,t,u,o)}}function Mte(t,e,r,n,i){let s=t instanceof Me?t:new Me({description:"An error occurred setting up the container.",originalError:t});return e&&(s.manageContainer=!0,s.params=r.common,s.containerId=e.Id,s.dockerParams=r),n&&(s.containerProperties=n),i&&(s.config=i),s}async function jte(t,e,r,n,i,s){let{common:o}=e,{remoteEnv:a}=await Xa(o,r,i,Ia(s));return{params:o,properties:r,config:n,resolvedAuthority:{extensionHostEnv:a},tunnelInformation:o.isLocalContainer?Bg(t):{},dockerParams:e,dockerContainerId:t.Id}}function $te(t,e){return"image"in t&&t.image?t.image:Pa(e.common)}async function fC(t,e,r,n,i){let{config:s}=e,o=i??[$te(s,t)];return t.common.progress(2),jn(s)?await Ute(t,e,o,t.buildNoCache??!1,r):await _g(t,e,o[0],r,n)}async function Ute(t,e,r,n,i){var S,F,P,V,H,j;let{cliHost:s,output:o}=t.common,{config:a}=e,u=Us(s,a),f=await Wf(u,s);if(!s.isFile(f))throw new Me({description:`Dockerfile (${f}) not found.`});let c=(await s.readFile(f)).toString(),d=c,p="dev_container_auto_added_stage_label";if((S=a.build)!=null&&S.target)p=a.build.target;else{let{lastStageName:R,modifiedDockerfile:N}=Dg(c,p);p=R,N&&(c=N)}let l=await Sl(t,d,((F=a.build)==null?void 0:F.args)||{},(P=a.build)==null?void 0:P.target,e.substitute),h=await Gf(t,e,p,l,void 0,i,!1),y=f,g=[];if(h!=null&&h.featureBuildInfo){let{featureBuildInfo:R}=h,N=c.match(/^\s*#\s*syntax\s*=.*[\r\n]/g);N&&(c=c.slice(N[0].length));let J=`${R.dockerfilePrefixContent}${c}
${R.dockerfileContent}`;y=s.path.join(R==null?void 0:R.dstFolder,"Dockerfile-with-features"),await s.writeFile(y,Buffer.from(J));for(let K in R.buildKitContexts)g.push("--build-context",`${K}=${R.buildKitContexts[K]}`);for(let K in R.buildArgs)g.push("--build-arg",`${K}=${R.buildArgs[K]}`)}let v=[];if(!t.buildKitVersion&&(t.buildxPlatform||t.buildxPush))throw new Me({description:"--platform or --push require BuildKit enabled.",data:{fileWithError:f}});t.buildKitVersion?(v.push("buildx","build"),t.buildxPlatform&&(o.write("Setting BuildKit platform(s): "+t.buildxPlatform,1),v.push("--platform",t.buildxPlatform)),t.buildxPush?v.push("--push"):t.buildxOutput?v.push("--output",t.buildxOutput):v.push("--load"),v.push("--build-arg","BUILDKIT_INLINE_CACHE=1")):v.push("build"),v.push("-f",y),r.map(R=>v.push("-t",R));let b=h!=null&&h.featureBuildInfo?h.featureBuildInfo.overrideTarget:(V=a.build)==null?void 0:V.target;if(b&&v.push("--target",b),n)v.push("--no-cache"),(t.buildKitVersion||!h)&&v.push("--pull");else{let R=(H=a.build)==null?void 0:H.cacheFrom;if((t.additionalCacheFroms.length||R&&(R==="string"||R.length))&&await i3(t),t.additionalCacheFroms.forEach(N=>v.push("--cache-from",N)),a.build&&a.build.cacheFrom)if(typeof a.build.cacheFrom=="string")v.push("--cache-from",a.build.cacheFrom);else for(let N=0;N<a.build.cacheFrom.length;N++){let J=a.build.cacheFrom[N];v.push("--cache-from",J)}}let x=(j=a.build)==null?void 0:j.args;if(x)for(let R in x)v.push("--build-arg",`${R}=${x[R]}`);v.push(...g),v.push(await Wf(s3(s,a),s));try{if(t.isTTY){let R={...fi(t),output:dt(o,3)};await gn(R,...v)}else{let R={...Wr(t),output:dt(o,3),print:"continuous"};await er(R,...v)}}catch(R){throw new Me({description:"An error occurred building the image.",originalError:R,data:{fileWithError:f}})}let E=()=>As(t,r[0],!1);return{updatedImageName:r,imageMetadata:on(l.metadata,e,h==null?void 0:h.featuresConfig),imageDetails:E}}function qte(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if((r==="-u"||r==="--user")&&e+1<t.length)return t[e+1];if(r.startsWith("-u=")||r.startsWith("--user="))return r.substr(r.indexOf("=")+1)}}async function Vte(t,e){let{common:r}=t,n=await Fs(t,e);if(t.expectExistingContainer&&!n)throw new Me({description:"The expected container does not exist."});if(n&&(t.removeOnStartup===!0||t.removeOnStartup===n.Id)){let i="Removing Existing Container",s=r.output.start(i);await er(t,"rm","-f",n.Id),r.output.stop(i,s),n=void 0}return n}async function Hte(t,e,r){let{common:n}=t,i=r.State.Status!=="running";if(i){let s="Starting container",o=n.output.start(s);await er(t,"start",r.Id),n.output.stop(s,o),await Fs(t,e)||Fl(n.output,"Dev container not found.")}return i}async function Fs(t,e){let r=await Vh(t,!0,e);return(await K0(t,r)).filter(i=>i.State.Status!=="removing")[0]}async function zte(t,e,r){var i,s;let n=[];return(i=r.hostRequirements)!=null&&i.gpu&&(await Rg(e)?(t.output.write("GPU support found, add GPU flags to docker call."),n.push("--gpus","all")):((s=r.hostRequirements)==null?void 0:s.gpu)!=="optional"&&t.output.write('No GPU support found yet a GPU was required - consider marking it as "optional"',4)),n}async function Wte(t,e,r,n,i,s,o,a,u){let{common:f}=t;f.progress(3);let c=e.appPort,d=typeof c=="number"||typeof c=="string"?[c]:c||[],p=[].concat(...d.map(X=>["-p",typeof X=="number"?`127.0.0.1:${X}:${X}`:X])),l=s?["--mount",s]:[],h=r.containerEnv||{},y=Object.keys(h).reduce((X,z)=>(X.push("-e",`${z}=${h[z]}`),X),[]),g=a?["-u",a]:[],v=[];r.init&&v.push("--init"),r.privileged&&v.push("--privileged");for(let X of r.capAdd||[])v.push("--cap-add",X);for(let X of r.securityOpt||[])v.push("--security-opt",X);let b=[].concat(...[...r.mounts||[],...t.additionalMounts].map(X=>$N(X))),x=r.entrypoints||[],E=["--entrypoint","/bin/sh"],S=["-c",`echo Container started
trap "exit 0" 15
${x.join(`
`)}
exec "$@"
while sleep 1 & wait $!; do :; done`,"-"];if(r.overrideCommand===!1&&o){let X=await o();S.push(...X.Config.Entrypoint||[]),S.push(...X.Config.Cmd||[])}let P=["run","--sig-proxy=false","-a","STDOUT","-a","STDERR",...p,...l,...b,...Gte(i),...y,...g,...e.runArgs||[],...await zte(f,t,e)||[],...v,...E,...Object.keys(u).map(X=>["-l",`${X}=${u[X]}`]).flat(),n,...S],V,H=new Promise((X,z)=>V=z),{started:j}=await Og(t,Jte(i),H,f.output,f.getLogLevel()===1),R="Starting container",N=f.output.start(R),J={...fi(t),output:dt(t.common.output,3)};gn(J,...P).then(V,V),await j,f.output.stop(R,N)}function Gte(t){let e=[];return t.forEach(r=>e.push("-l",r)),e}function Jte(t){let e={};return t.forEach(r=>{let n=r.split("=");e[n[0]]=n[1]}),e}function Fl(t,e){throw t.write(St(e)),new Error(e)}async function Kte(t,e){let{retryIntervalMilliseconds:r,maxRetries:n,output:i}=e,s;for(let o=0;o<n;o++)try{return await t()}catch(a){s=a,i.write(`Retrying (Attempt ${o}) with error '${St(a)}'`,4),await new Promise(u=>setTimeout(u,r))}throw s}async function Wf(t,e){if(t.scheme==="file"&&e.type==="wsl"){let{stdout:r}=await Mn({exec:e.exec,cmd:"wslpath",args:["-u",t.fsPath],output:ui});return r.toString().trim()}return At(t,e.platform)}async function i3(t){let{common:e}=t,{cliHost:r,output:n}=e;if(r.platform!=="win32")try{let{stdout:i}=await Mn({exec:r.exec,cmd:"umask",cwd:r.cwd,env:r.env,output:n,print:!0});return i.toString().trim()}catch{return}}function _s(t,e){let r=t.substitute,n=t.config;return{config:Array.isArray(n)?n.map(e):e(n),raw:t.raw,substitute:i=>e(r(i))}}async function Og(t,e,r,n,i){let s=await fA(t,{event:["start"]});return{started:new Promise((o,a)=>{r.catch(c=>{s.terminate(),a(c)});let u=new a3.StringDecoder("utf8"),f="";s.stdout.on("data",async c=>{if(c){let d=u.write(c);i&&n.write(`Log: startEventSeen#data ${d.trim().replace(/\r?\n/g,`\r
`)}\r
`);let p=(f+d).split(`
`);f=p.pop();for(let l of p)if(l.trim())try{let h=JSON.parse(l);(h.status||h.Status)==="start"&&await Xte(t,h,e)&&(s.terminate(),o())}catch(h){console.error(h),console.error(l)}}})})}}async function Xte(t,e,r){var i;let n=((i=e.Actor)==null?void 0:i.Attributes)||(await ki(t,e.id||e.ID)).Config.Labels||{};return Object.keys(r).every(s=>n[s]===r[s])}async function Rg(t){return(await er(t,"info","-f","{{.Runtimes.nvidia}}")).stdout.includes("nvidia-container-runtime")}async function As(t,e,r){try{return await X0(t,e)}catch(n){if(!r)throw n;let i="cliHost"in t?t.cliHost:t.common.cliHost,s="cliHost"in t?t.output:t.common.output;try{return await Yte(s,{arch:i.arch,os:i.platform},e)}catch(o){s.write(`Error fetching image details: ${o==null?void 0:o.message}`)}try{await Kte(async()=>gn(t,"pull",e),{maxRetries:5,retryIntervalMilliseconds:1e3,output:s})}catch{throw n.stdout&&s.write(n.stdout.toString()),n.stderr&&s.write(St(n.stderr.toString())),n}return X0(t,e)}}async function Yte(t,e,r){let n=Zte(r),i={output:t,env:process.env},s=dr(t,n);if(!s)throw new Error(`Could not parse image name '${r}'`);let o=s.registry==="docker.io"?"registry-1.docker.io":s.registry,a=`https://${o}/v2/${s.path}/manifests/${s.version}`;t.write(`manifest url: ${a}`,1);let u,f=await lg(i,a,s,"application/vnd.docker.distribution.manifest.v2+json");if(f)u=f.manifestObj.config.digest;else{let y=await uN(i,a,s,e);if(y){let g=`https://${o}/v2/${s.path}/manifests/${y.digest}`,v=await lg(i,g,s);v&&(u=v.manifestObj.config.digest)}}if(!u)throw new Error(`No manifest found for ${n}.`);let c=`https://${o}/v2/${s.path}/blobs/${u}`;t.write(`blob url: ${c}`,1);let p=await In(i,{type:"GET",url:c,headers:{}},s);if(!p)throw new Error(`Failed to fetch blob for ${n}.`);let l=p.resBody.toString(),h=JSON.parse(l);return{Id:u,Config:h.config}}function Zte(t){let e=t.split("/");return e.length===1?`docker.io/library/${t}`:e.length===2?t.startsWith("docker.io/")?`docker.io/library/${e[1]}`:`docker.io/${t}`:t}function u3(t){return t.hostPath!==void 0}async function Qte(t,e,r,n){return r&&await r3(t,e,n)||e}async function l3(t,e,r,n,i,s){if("dockerComposeFile"in r)return{workspaceFolder:oC(r),workspaceMount:void 0};let{workspaceFolder:o,workspaceMount:a}=r;if(e&&(!o||!("workspaceMount"in r))){let u=await Qte(t,e.rootFolderPath,n,i);if(!o){let f=t.path.relative(t.path.dirname(u),e.rootFolderPath);o=`/workspaces/${t.platform==="win32"?f.replace(/\\/g,"/"):f}`}if(!("workspaceMount"in r)){let f=`/workspaces/${t.path.basename(u)}`,c=t.platform!=="linux"?`,consistency=${s||"consistent"}`:"",d=u.indexOf(",")!==-1?'"':"",p=f.indexOf(",")!==-1?'"':"";a=`type=bind,${d}source=${u}${d},${p}target=${f}${p}${c}`}}return{workspaceFolder:o,workspaceMount:a}}function Bg(t){return{environmentTunnels:t.Ports.filter(e=>!!e.PublicPort).map(e=>({remoteAddress:{port:e.PrivatePort,host:e.IP},localAddress:e.IP+":"+e.PublicPort}))}}function s3(t,e){let r="dockerFile"in e?e.context:e.build.context;return r?Ho(t,e,r):tu(Us(t,e))}async function po(t,e,r,n,i){let{common:s}=t,o="Inspecting container",a=s.output.start(o),u=await ki(t,e);s.output.stop(o,a);let f=n||u.Config.User||"root",[,c,,d]=/([^:]*)(:(.*))?/.exec(f),p=pr(u.Config.Env),l=Y0(t,e,f),h=await dA(t,e,f,s.loadNativeModule),y=Y0(t,e,"root");return iA({params:s,createdAt:u.Created,startedAt:u.State.StartedAt,remoteWorkspaceFolder:r,containerUser:c==="0"?"root":c,containerGroup:d,containerEnv:p,remoteExec:l,remotePtyExec:h,remoteExecAsRoot:y,rootShellServer:i})}function pr(t){return(t||[]).reduce((e,r)=>{let n=r.indexOf("=");return n!==-1&&(e[r.substring(0,n)]=r.substring(n+1)),e},{})}async function c3(t,e,r){if(!e)return;let n=!1;if(typeof e=="string"?n=e.trim().length>0:Array.isArray(e)?n=e.length>0:typeof e=="object"&&(n=Object.keys(e).length>0),!n)return;let{common:i,dockerEnv:s}=t,{cliHost:o,output:a}=i,u="initializeCommand",f=o.platform==="win32",c=f?[o.env.ComSpec||"cmd.exe","/c"]:["/bin/sh","-c"],d=dt(a,3);try{async function p(h,y){let g=f&&Array.isArray(h)&&h.length?[(h[0]||"").replace(/\//g,"\\"),...h.slice(1)]:h,v=typeof g=="string"?[...c,g]:g;if(!v.length)return;y?d.raw(`\x1B[1mRunning '${y}' from ${u}...\x1B[0m\r
\r
`):d.raw(`\x1B[1mRunning the ${u} from devcontainer.json...\x1B[0m\r
\r
`);let b=y?"end":"continuous";await No({ptyExec:o.ptyExec,cmd:v[0],args:v.slice(1),env:s,output:d,onDidInput:r,print:b}),d.raw(`\r
`)}let l;typeof e=="string"||Array.isArray(e)?l=[p(e)]:l=Object.keys(e).map(h=>{let y=e[h];return p(y,h)}),await Promise.all(l)}catch(p){if(p&&(p.code===130||p.signal===2))d.raw(`\r
\x1B[1m${u} interrupted.\x1B[0m\r
\r
`);else throw new Me({description:`The ${u} in the devcontainer.json failed.`,originalError:p})}}function Pa(t){let{cwd:e}="cwd"in t?t:t.cliHost,r=ere(e),n=hC.basename(e);return gA(`vsc-${n}-${r}`)}function ere(t){return o3.createHash("sha256").update(t).digest("hex")}async function Ig(t){let{cliHost:e}=t,{version:r}=t.package,n=e.path.join(await xi(e),"container-features",`${r}-${Date.now()}`);return await e.mkdirp(n),n}async function xi(t){return t.path.join(await t.tmpdir(),t.platform==="linux"?`devcontainercli-${await t.getUsername()}`:"devcontainercli")}function Jf(t){return t.cliHost.path.join(t.persistedFolder,"empty-folder")}async function _l(t,e,r,n,i,s){var a,u;if(r)return{container:e?await ki(t,e):await Fs(t,r),idLabels:r};let o;if(e)o=await ki(t,e);else if(n&&i)o=await Fs(t,[`${Kf}=${n}`,`${Xf}=${i}`]),o||(o=await Fs(t,[`${Kf}=${n}`]),o&&((a=o.Config.Labels)!=null&&a[Xf]?o=void 0:(s===!0||s===o.Id)&&(await er(t,"rm","-f",o.Id),o=void 0)));else throw new Error("Either containerId or workspaceFolder and configFile must be provided.");return{container:o,idLabels:!o||(u=o.Config.Labels)!=null&&u[Xf]?[`${Kf}=${n}`,`${Xf}=${i}`]:[`${Kf}=${n}`]}}var h3=Ce(require("path"));var f3=Ce(require("path"));function mo(t,e){if(dC(e)){let r=t.dirname(e);return{isWorkspaceFile:!0,workspaceOrFolderPath:e,rootFolderPath:r,configFolderPath:r}}return{isWorkspaceFile:!1,workspaceOrFolderPath:e,rootFolderPath:e,configFolderPath:e}}function dC(t){return f3.extname(t)===".code-workspace"}async function Lg(t,e,r,n){var f;let i=await vg(await xi(t.cliHost),t.output),s=Object.keys({...e.features,...r}).map(c=>{let d=tre(i,c);return d?{configFeatureId:c,disallowedFeatureEntry:d}:void 0}).filter(Boolean);if(!s.length)return;let o=!1;if(n){let c=await Fs(t,n);((f=c==null?void 0:c.State)==null?void 0:f.Status)==="running"&&(await er(t,"stop","-t","0",c.Id),o=!0)}let a=s[0],u=a.disallowedFeatureEntry.documentationURL;throw new Me({description:`Cannot use the '${a.configFeatureId}' Feature since it was reported to be problematic. Please remove this Feature from your configuration and rebuild any dev container using it before continuing.${o?" The existing dev container was stopped.":""}${u?` See ${u} to learn more.`:""}`})}function tre(t,e){return t.disallowedFeatures.find(r=>e.startsWith(r.featureIdPrefix)&&(e.length===r.featureIdPrefix.length||"/:@".indexOf(e[r.featureIdPrefix.length])!==-1))}async function d3(t,e,r,n,i){if(e&&!/\/\.?devcontainer\.json$/.test(e.path))throw new Error(`Filename must be devcontainer.json or .devcontainer.json (${At(e,t.common.cliHost.platform)}).`);let s=t.parsedAuthority;if(!s||u3(s))return rre(t,s,e,r,n,i);throw new Error(`Unexpected authority: ${JSON.stringify(s)}`)}async function rre(t,e,r,n,i,s){let{common:o,workspaceMountConsistencyDefault:a}=t,{cliHost:u,output:f}=o,c=u.cwd,d=e&&mo(u.path,dC(e.hostPath)?u.path.join(c,h3.basename(e.hostPath)):c),p=r||(d?await $s(u,d.configFolderPath)||(n?yn(u,d.configFolderPath):void 0):n),l=p&&await go(u,d,p,t.mountWorkspaceGitRoot,f,a,n)||void 0;if(!l)throw p||d?new Me({description:`Dev container config (${At(p||yn(u,d.configFolderPath),u.platform)}) not found.`}):new Me({description:"No dev container config and no workspace found."});let h=i||(await _l(t,void 0,i,d==null?void 0:d.rootFolderPath,p==null?void 0:p.fsPath,t.removeOnStartup)).idLabels,y=_s(l.config,F=>Ka(pr(h),F)),{config:g}=y,{dockerCLI:v,dockerComposeCLI:b}=t,{env:x}=o;await Lg({cliHost:u,dockerCLI:v,dockerComposeCLI:b,env:x,output:f},g,s,h),await c3({...t,common:{...o,output:o.lifecycleHook.output}},g.initializeCommand,o.lifecycleHook.onDidInput);let S;if(jn(g)||"image"in g)S=await n3(t,y,l.workspaceConfig,h,s);else if("dockerComposeFile"in g){if(!d)throw new Me({description:"A Dev Container using Docker Compose requires a workspace folder."});S=await e3(t,d,y,h,s)}else throw new Me({description:`Dev container config (${g.configFilePath}) is missing one of "image", "dockerFile" or "dockerComposeFile" properties.`});return S}async function go(t,e,r,n,i,s,o){let u=await Qh(t).readDocument(o??r);if(!u)return;let f=Je(u),c=f&&h1(f);if(!c||typeof c!="object"||Array.isArray(c))throw new Me({description:`Dev container config (${At(r,t.platform)}) must contain a JSON object literal.`});let d=await l3(t,e,c,n,i,s),p=h=>Mo({platform:t.platform,localWorkspaceFolder:e==null?void 0:e.rootFolderPath,containerWorkspaceFolder:d.workspaceFolder,configFile:r,env:t.env},h),l=p(c);return typeof l.workspaceFolder=="string"&&(d.workspaceFolder=l.workspaceFolder),"workspaceMount"in l&&(d.workspaceMount=l.workspaceMount),l.configFilePath=r,{config:{config:l,raw:c,substitute:p},workspaceConfig:d}}async function Yf(t,e,r){let n=await yo(t,r),i=n.common.output,s="Resolving Remote",o=i.start(s),a=await d3(n,t.configFile,t.overrideConfigFile,e,t.additionalFeatures??{});i.stop(s,o);let{dockerContainerId:u,composeProjectName:f}=a;return{containerId:u,composeProjectName:f,remoteUser:a.properties.user,remoteWorkspaceFolder:a.properties.remoteWorkspaceFolder,finishBackgroundTasks:async()=>{try{await lA(a.params.backgroundTasks)}catch(c){i.write(St(String(c&&(c.stack||c.message)||c)))}}}}async function yo(t,e){let{persistedFolder:r,additionalMounts:n,updateRemoteUserUIDDefault:i,containerDataFolder:s,containerSystemDataFolder:o,workspaceMountConsistency:a,mountWorkspaceGitRoot:u,remoteEnv:f,experimentalLockfile:c,experimentalFrozenLockfile:d,omitLoggerHeader:p,secretsP:l}=t,h;t.workspaceFolder&&(h={hostPath:t.workspaceFolder});let y=p3.join(__dirname,"..",".."),g=new Date,v=Jt(),b=Tr(t,v,g,e,p,l?await l:void 0),x=void 0,E=t.workspaceFolder||process.cwd(),S=await yr(E,Er),F=m3.randomUUID(),P={prebuild:t.prebuild,computeExtensionHostEnv:!1,package:v,containerDataFolder:s,containerSystemDataFolder:o,appRoot:x,extensionPath:y,sessionId:F,sessionStart:g,cliHost:S,env:S.env,cwd:E,isLocalContainer:!1,progress:()=>{},output:b,allowSystemConfigChange:!0,defaultUserEnvProbe:t.defaultUserEnvProbe,lifecycleHook:nA(t.postCreateEnabled,t.skipNonBlocking,b),getLogLevel:()=>t.logLevel,onDidChangeLogLevel:()=>({dispose(){}}),loadNativeModule:Er,shutdowns:[],backgroundTasks:[],persistedFolder:r||await xi(S),remoteEnv:f,secretsP:l,buildxPlatform:t.buildxPlatform,buildxPush:t.buildxPush,buildxOutput:t.buildxOutput,skipFeatureAutoMapping:t.skipFeatureAutoMapping,skipPostAttach:t.skipPostAttach,containerSessionDataFolder:t.containerSessionDataFolder,skipPersistingCustomizationsFromFeatures:t.skipPersistingCustomizationsFromFeatures,omitConfigRemotEnvFromMetadata:t.omitConfigRemotEnvFromMetadata,dotfilesConfiguration:{repository:t.dotfiles.repository,installCommand:t.dotfiles.installCommand,targetPath:t.dotfiles.targetPath||"~/dotfiles"}},V=t.dockerPath||"docker",H=t.dockerComposePath||"docker-compose",j=Tg({exec:S.exec,env:S.env,output:P.output},V,H),R=t.useBuildKit==="never"?null:await hA({cliHost:S,dockerCLI:V,dockerComposeCLI:j,env:S.env,output:b});return{common:P,parsedAuthority:h,dockerCLI:V,dockerComposeCLI:j,dockerEnv:S.env,workspaceMountConsistencyDefault:a,mountWorkspaceGitRoot:u,updateRemoteUserUIDOnMacOS:!1,cacheMount:"bind",removeOnStartup:t.removeExistingContainer,buildNoCache:t.buildNoCache,expectExistingContainer:t.expectExistingContainer,additionalMounts:n,userRepositoryConfigurationPaths:[],updateRemoteUserUIDDefault:i,additionalCacheFroms:t.additionalCacheFroms,buildKitVersion:R,isTTY:process.stdout.isTTY||t.logFormat==="json",experimentalLockfile:c,experimentalFrozenLockfile:d,buildxPlatform:P.buildxPlatform,buildxPush:P.buildxPush,buildxOutput:P.buildxOutput}}function Tr(t,e,r,n,i,s){let o=i?void 0:`${e.name} ${e.version}. Node.js ${process.version}. ${kl.platform()} ${kl.release()} ${kl.arch()}.`,a=nre(t,r,o,s);return a.dimensions=t.terminalDimensions,a.onDidChangeDimensions=t.onDidChangeTerminalDimensions,n.push(()=>a.join()),a}function nre({log:t,logLevel:e,logFormat:r},n,i=void 0,s){let o=r==="json"?vD(t,()=>e,n):process.stdout.isTTY?yD(t,()=>e,n):gD(t,()=>e);return{...dt(mD([ire(o,s)],i)),join:async()=>{}}}function ire(t,e){if(e){let r="********",n=Object.values(e);return wD(t,n,r)}return t}var an=Ce(require("path"));var g3=(t=0)=>e=>`\x1B[${e+t}m`,y3=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,v3=(t=0)=>(e,r,n)=>`\x1B[${38+t};2;${e};${r};${n}m`,Ct={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},E3=Object.keys(Ct.modifier),pC=Object.keys(Ct.color),mC=Object.keys(Ct.bgColor),b3=[...pC,...mC];function sre(){let t=new Map;for(let[e,r]of Object.entries(Ct)){for(let[n,i]of Object.entries(r))Ct[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},r[n]=Ct[n],t.set(i[0],i[1]);Object.defineProperty(Ct,e,{value:r,enumerable:!1})}return Object.defineProperty(Ct,"codes",{value:t,enumerable:!1}),Ct.color.close="\x1B[39m",Ct.bgColor.close="\x1B[49m",Ct.color.ansi=g3(),Ct.color.ansi256=y3(),Ct.color.ansi16m=v3(),Ct.bgColor.ansi=g3(10),Ct.bgColor.ansi256=y3(10),Ct.bgColor.ansi16m=v3(10),Object.defineProperties(Ct,{rgbToAnsi256:{value(e,r,n){return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(e){let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(s=>s+s).join(""));let i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:e=>Ct.rgbToAnsi256(...Ct.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return 90+(e-8);let r,n,i;if(e>=232)r=((e-232)*10+8)/255,n=r,i=r;else{e-=16;let a=e%36;r=Math.floor(e/36)/5,n=Math.floor(a/6)/5,i=a%6/5}let s=Math.max(r,n,i)*2;if(s===0)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(r));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(e,r,n)=>Ct.ansi256ToAnsi(Ct.rgbToAnsi256(e,r,n)),enumerable:!1},hexToAnsi:{value:e=>Ct.ansi256ToAnsi(Ct.hexToAnsi256(e)),enumerable:!1}}),Ct}var ore=sre(),Ci=ore;var Mg=Ce(require("process"),1),x3=Ce(require("os"),1),gC=Ce(require("tty"),1);function si(t,e=globalThis.Deno?globalThis.Deno.args:Mg.default.argv){let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}var{env:Lt}=Mg.default,Ng;si("no-color")||si("no-colors")||si("color=false")||si("color=never")?Ng=0:(si("color")||si("colors")||si("color=true")||si("color=always"))&&(Ng=1);function are(){if("FORCE_COLOR"in Lt)return Lt.FORCE_COLOR==="true"?1:Lt.FORCE_COLOR==="false"?0:Lt.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Lt.FORCE_COLOR,10),3)}function ure(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function lre(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let n=are();n!==void 0&&(Ng=n);let i=r?Ng:n;if(i===0)return 0;if(r){if(si("color=16m")||si("color=full")||si("color=truecolor"))return 3;if(si("color=256"))return 2}if("TF_BUILD"in Lt&&"AGENT_NAME"in Lt)return 1;if(t&&!e&&i===void 0)return 0;let s=i||0;if(Lt.TERM==="dumb")return s;if(Mg.default.platform==="win32"){let o=x3.default.release().split(".");return Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in Lt)return"GITHUB_ACTIONS"in Lt?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(o=>o in Lt)||Lt.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in Lt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Lt.TEAMCITY_VERSION)?1:0;if(Lt.COLORTERM==="truecolor"||Lt.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in Lt){let o=Number.parseInt((Lt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Lt.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Lt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Lt.TERM)||"COLORTERM"in Lt?1:s}function w3(t,e={}){let r=lre(t,{streamIsTTY:t&&t.isTTY,...e});return ure(r)}var cre={stdout:w3({isTTY:gC.default.isatty(1)}),stderr:w3({isTTY:gC.default.isatty(2)})},C3=cre;function S3(t,e,r){let n=t.indexOf(e);if(n===-1)return t;let i=e.length,s=0,o="";do o+=t.slice(s,n)+e+r,s=n+i,n=t.indexOf(e,s);while(n!==-1);return o+=t.slice(s),o}function D3(t,e,r,n){let i=0,s="";do{let o=t[n-1]==="\r";s+=t.slice(i,o?n-1:n)+e+(o?`\r
`:`
`)+r,i=n+1,n=t.indexOf(`
`,i)}while(n!==-1);return s+=t.slice(i),s}var{stdout:A3,stderr:F3}=C3,yC=Symbol("GENERATOR"),Il=Symbol("STYLER"),Zf=Symbol("IS_EMPTY"),_3=["ansi","ansi","ansi256","ansi16m"],Pl=Object.create(null),fre=(t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=A3?A3.level:0;t.level=e.level===void 0?r:e.level};var hre=t=>{let e=(...r)=>r.join(" ");return fre(e,t),Object.setPrototypeOf(e,Qf.prototype),e};function Qf(t){return hre(t)}Object.setPrototypeOf(Qf.prototype,Function.prototype);for(let[t,e]of Object.entries(Ci))Pl[t]={get(){let r=jg(this,EC(e.open,e.close,this[Il]),this[Zf]);return Object.defineProperty(this,t,{value:r}),r}};Pl.visible={get(){let t=jg(this,this[Il],!0);return Object.defineProperty(this,"visible",{value:t}),t}};var vC=(t,e,r,...n)=>t==="rgb"?e==="ansi16m"?Ci[r].ansi16m(...n):e==="ansi256"?Ci[r].ansi256(Ci.rgbToAnsi256(...n)):Ci[r].ansi(Ci.rgbToAnsi(...n)):t==="hex"?vC("rgb",e,r,...Ci.hexToRgb(...n)):Ci[r][t](...n),dre=["rgb","hex","ansi256"];for(let t of dre){Pl[t]={get(){let{level:r}=this;return function(...n){let i=EC(vC(t,_3[r],"color",...n),Ci.color.close,this[Il]);return jg(this,i,this[Zf])}}};let e="bg"+t[0].toUpperCase()+t.slice(1);Pl[e]={get(){let{level:r}=this;return function(...n){let i=EC(vC(t,_3[r],"bgColor",...n),Ci.bgColor.close,this[Il]);return jg(this,i,this[Zf])}}}}var pre=Object.defineProperties(()=>{},{...Pl,level:{enumerable:!0,get(){return this[yC].level},set(t){this[yC].level=t}}}),EC=(t,e,r)=>{let n,i;return r===void 0?(n=t,i=e):(n=r.openAll+t,i=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:i,parent:r}},jg=(t,e,r)=>{let n=(...i)=>mre(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,pre),n[yC]=t,n[Il]=e,n[Zf]=r,n},mre=(t,e)=>{if(t.level<=0||!e)return t[Zf]?"":e;let r=t[Il];if(r===void 0)return e;let{openAll:n,closeAll:i}=r;if(e.includes("\x1B"))for(;r!==void 0;)e=S3(e,r.close,r.open),r=r.parent;let s=e.indexOf(`
`);return s!==-1&&(e=D3(e,i,n,s)),n+e+i};Object.defineProperties(Qf.prototype,Pl);var gre=Qf(),Ige=Qf({level:F3?F3.level:0});var $g=gre;var T3=require("os");var k3={workspaceMountConsistency:"cached",defaultUserEnvProbe:"loginInteractiveShell",logFormat:"text",removeExistingContainer:!1,buildNoCache:!1,expectExistingContainer:!1,postCreateEnabled:!0,skipNonBlocking:!1,prebuild:!1,additionalMounts:[],updateRemoteUserUIDDefault:"on",additionalCacheFroms:[],dockerPath:void 0,dockerComposePath:void 0,containerDataFolder:void 0,containerSystemDataFolder:void 0,configFile:void 0,overrideConfigFile:void 0,persistedFolder:void 0,terminalDimensions:void 0,useBuildKit:"auto",buildxPlatform:void 0,buildxPush:!1,buildxOutput:void 0,skipPostAttach:!1},I3={"user-data-folder":void 0,"docker-path":void 0,"docker-compose-path":void 0,"container-data-folder":void 0,"container-system-data-folder":void 0,"id-label":void 0,config:void 0,"override-config":void 0,"terminal-rows":void 0,"terminal-columns":void 0,"container-id":void 0,"mount-workspace-git-root":!0,"log-level":"info","log-format":"text","default-user-env-probe":"loginInteractiveShell"},Ug=`
#!/bin/bash
SCRIPT_FOLDER="$(cd "$(dirname $0)" && pwd)"
USERNAME=\${1:-root}

if [ -z $HOME ]; then
    HOME="/root"
fi

FAILED=()

echoStderr()
{
    echo "$@" 1>&2
}

check() {
    LABEL=$1
    shift
    echo -e "
"
    echo -e "\u{1F504} Testing '$LABEL'"
    echo -e '\\033[37m'
    if "$@"; then
        echo -e "
" 
        echo "\u2705  Passed '$LABEL'!"
        return 0
    else
        echo -e "
"
        echoStderr "\u274C $LABEL check failed."
        FAILED+=("$LABEL")
        return 1
    fi
}

checkMultiple() {
    PASSED=0
    LABEL="$1"
    echo -e "
"
    echo -e "\u{1F504} Testing '$LABEL'."
    shift; MINIMUMPASSED=$1
    shift; EXPRESSION="$1"
    while [ "$EXPRESSION" != "" ]; do
        if $EXPRESSION; then ((PASSED++)); fi
        shift; EXPRESSION=$1
    done
    if [ $PASSED -ge $MINIMUMPASSED ]; then
        echo -e "
"
        echo "\u2705 Passed!"
        return 0
    else
        echo -e "
"
        echoStderr "\u274C '$LABEL' check failed."
        FAILED+=("$LABEL")
        return 1
    fi
}

reportResults() {
    if [ \${#FAILED[@]} -ne 0 ]; then
        echo -e "
"
        echoStderr -e "\u{1F4A5}  Failed tests: \${FAILED[@]}"
        exit 1
    else
        echo -e "
"
        echo -e "Test Passed!"
        exit 0
    fi
}`;var bC="dev-container-features-test-lib";function Vr(t){kt(t,{prefix:"[-]",error:!0}),process.exit(1)}function kt(t,e){let r=(e==null?void 0:e.prefix)||"> ",n=`${e!=null&&e.omitPrefix?"":`${r} `}${t}
`;e!=null&&e.error?process.stdout.write($g.red(n)):e!=null&&e.info?process.stdout.write($g.bold.blue(n)):process.stdout.write($g.blue(n))}async function O3(t){let{pkg:e,globalScenariosOnly:r,features:n,collectionFolder:i,cliHost:s}=t;process.stdout.write(`
\u250C \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2510
|    Dev Container Features   |   
\u2502           v${e.version}           \u2502
\u2514 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2518

`);let o=`${i}/src`,a=`${i}/test`;(!await s.isFolder(o)||!await s.isFolder(a))&&Vr(`Folder '${i}' does not contain the required 'src' and 'test' folders.`);let u=[];return r?await P3(t,u):(await bre(t,u),n||await P3(t,u)),t.preserveTestContainers||await yre(s),xre(u)}async function yre(t){let e=["ps","-a","--filter","label=devcontainer.is_test_run=true","--format","{{.ID}}"],{cmdOutput:r}=await No({cmd:"docker",args:e,output:ui,ptyExec:t.ptyExec}),n=r.split(`
`).filter(i=>i!=="").map(i=>i.trim());kt(`Cleaning up ${n.length} test containers...`,{prefix:"\u{1F9F9}",info:!0});for(let i of n)kt(`Removing container ${i}...`,{prefix:"\u{1F9F9}",info:!0}),await t.exec({cmd:"docker",args:["rm","-f",i],output:ui})}async function P3(t,e=[]){let{collectionFolder:r}=t,n=`${r}/test/_global`;return kt(`Scenarios:         ${n}
`,{prefix:`
\u{1F4CA}`,info:!0}),e=await R3(n,"_global",t,e),e||(Vr(`Failed to run scenarios in ${n}`),[])}async function vre(t,e,r=[]){let{collectionFolder:n,cliHost:i}=t,s=`${e} executed twice with randomized options`,o=an.default.join(n,"test",e),a="duplicate.sh",u=an.default.join(o,a);if(!await i.isFile(u))return kt(`Skipping duplicate test for ${e} because '${u}' does not exist.`,{prefix:"\u26A0\uFE0F"}),r;let c=(await Ere(t,e)).options||{},d={};Object.entries(c).forEach(([g,v])=>{var b,x;if(v.type==="boolean"&&(d[g]=!v.default),v.type==="string"&&"proposals"in v&&((b=v==null?void 0:v.proposals)!=null&&b.length)){let E=v.default?v.proposals.indexOf(v.default):0,S=0;t.permitRandomization&&(S=Math.floor(Math.random()*v.proposals.length)),S===E&&(S=(S+1)%v.proposals.length),d[g]=v.proposals[S]}if(v.type==="string"&&"enum"in v&&((x=v==null?void 0:v.enum)!=null&&x.length)){let E=v.default?v.enum.indexOf(v.default):0,S=0;t.permitRandomization&&(S=Math.floor(Math.random()*v.enum.length)),S===E&&(S=(S+1)%v.enum.length),d[g]=v.enum[S]}});let p=Object.entries(c).reduce((g,[v,b])=>(b.default===void 0||(g[`${v}__DEFAULT`]=b.default),g),{}),l={image:t.baseImage,remoteUser:t.remoteUser,features:{[e]:d}},h=await L3(i,n,s,l,void 0,[{featureId:e,featureValue:{}}]),y=await CC(h,t);return await wC(y,h,t),await zr(o,h),await i.writeFile(an.default.join(h,bC),Buffer.from(Ug)),r.push({testName:s,result:await xC(a,h,i,{...d,...p})}),r}async function Ere(t,e){let{cliHost:r,collectionFolder:n}=t,i=an.default.join(n,"src",e),s=an.default.join(i,"devcontainer-feature.json");await r.isFile(s)||Vr(`Feature '${e}' does not contain a 'devcontainer-feature.json' file.`);let o=await r.readFile(s);return(!o||o.length===0)&&Vr(`Failed to read 'devcontainer-feature.json' file for feature '${e}'`),Je(o.toString())}async function bre(t,e=[]){let{baseImage:r,collectionFolder:n,remoteUser:i,cliHost:s,skipAutogenerated:o,skipScenarios:a,skipDuplicateTest:u}=t,{features:f}=t,c=`${n}/test`;kt(`baseImage:         ${r}`),kt(`Target Folder:     ${n}`),f||(f=(await s.readDir(c)).filter(l=>l!=="_global"),f.length===0&&Vr(`No features specified and no test folders found in '${c}'`)),kt(`features:          ${f.join(", ")}`);let d,p;o||(d=await Sre(s,r,n,f,i),p=await CC(d,t),await wC(p,d,t)),kt(`Starting test(s)...
`,{prefix:`
\u{1F3C3}`,info:!0});for(let l of f){kt(`Starting '${l}' tests...`,{prefix:"\u{1F9EA}"});let h=an.default.join(n,"test",l);if(!o){if(!d||!p)return Vr("Uninitialized workspaceFolder or params"),[];await wre(l,d,h,t,e)}if(a||(kt(`Executing scenarios for feature '${l}'...`,{prefix:"\u{1F9EA}"}),await R3(h,l,t,e)),u||(kt(`Executing duplicate test for feature '${l}'...`,{prefix:"\u{1F9EA}"}),await vre(t,l,e)),!e)return Vr("Failed to run tests"),[]}return e}async function wre(t,e,r,n,i=[]){let{cliHost:s}=n,o=an.default.join(r,"test.sh");await s.isFile(o)||Vr(`Could not find test.sh script at ${o}`),await zr(r,e),await s.writeFile(an.default.join(e,bC),Buffer.from(Ug));let a=await xC("test.sh",e,s);return i.push({testName:t,result:a}),i}async function R3(t,e,r,n=[]){let{collectionFolder:i,cliHost:s,filter:o}=r,a=an.default.join(t,"scenarios.json");if(!await s.isFile(a))return kt(`No scenario file found at '${a}'. Skipping...`,{prefix:"\u26A0\uFE0F"}),n;let u=await s.readFile(a),f={},c=[];if(f=Je(u.toString(),c),c.length>0)return c.forEach(d=>{kt(`${kh(d.error)}`,{prefix:"\u26A0\uFE0F"})}),Vr(`Failed to parse scenarios.json at ${a}`),[];for(let[d,p]of Object.entries(f)){if(o&&!d.includes(o))continue;kt(`Running scenario:  ${d}`),await s.isFile(an.default.join(t,`${d}.sh`))||Vr(`No scenario test script found at path '${an.default.join(t,`${d}.sh`)}'.  Either add a script to the test folder, or remove from scenarios.json.`);let l=await L3(s,i,d,p,e),h=await CC(l,r);await wC(h,l,r),await zr(t,l),await s.writeFile(an.default.join(l,bC),Buffer.from(Ug)),n.push({testName:d,result:await xC(`${d}.sh`,l,s)})}return n}function xre(t){t||Vr("No test results found!");let e=t.every(r=>r.result);return process.stdout.write(`


`),kt("================== TEST REPORT ==================",{info:!0,prefix:" "}),t.forEach(r=>{r.result?kt(`Passed:      '${r.testName}'`,{prefix:"\u2705",info:!0}):kt(`Failed:      '${r.testName}'`,{prefix:"\u274C",info:!0})}),process.stdout.write(`
`),e?0:1}var Cre=`
{
	#{REMOTE_USER}
	"image": "#{IMAGE}",
	"features": {
		#{FEATURES}
	}
}`;async function wC(t,e,r){let{quiet:n,disposables:i}=r;kt(`workspaceFolder:   ${e}`),kt(`Building test container...
`,{prefix:`
\u23F3`,info:!0});let s=await Dre(t,e,n,i);if(!s||!s.containerId){Vr("Failed to launch container");return}let{containerId:o}=s;return kt("Launched container.",{prefix:`
\u{1F680}`,info:!0}),kt(`containerId:          ${o}`),s}async function B3(t){let e=(0,T3.tmpdir)(),r=an.default.join(e,"devcontainercli","container-features-test",Date.now().toString());return await t.mkdirp(`${r}/.devcontainer`),r}async function Sre(t,e,r,n,i){let s=await B3(t),o=n.map(u=>`"./${u}": {}`).join(`,
`);for(let u of n){let f=`${r}/src/${u}`;await t.isFolder(f)||(await Nn(s,{recursive:!0,force:!0}),Vr(`Folder '${f}' does not exist for the '${u}' Feature.`)),await zr(f,`${s}/.devcontainer/${u}`)}let a=Cre.replace("#{IMAGE}",e).replace("#{FEATURES}",o);return i?a=a.replace("#{REMOTE_USER}",`"remoteUser": "${i}",`):a=a.replace("#{REMOTE_USER}",""),await t.writeFile(`${s}/.devcontainer/devcontainer.json`,Buffer.from(a)),s}async function L3(t,e,r,n,i,s=[]){let o=await B3(t),a=n.features;if(!n||!a)return Vr(`Scenario '${r}' is missing Features!`),"";let u={};for(let[c,d]of Object.entries(a)){if(c.indexOf("/")!==-1){u[c]=d;continue}let p=`${e}/src/${c}`;await zr(p,`${o}/.devcontainer/${c}`),u[`./${c}`]=d}let f=0;for(let{featureId:c,featureValue:d}of s){let p=`${e}/src/${c}`,l=`${c}-${f++}`,h=`${o}/.devcontainer/${l}`;await zr(p,h),u[`./${l}`]=d}if(n.features=u,kt(`Scenario generated: ${JSON.stringify(n,null,2)}`,{prefix:`
\u{1F4DD}`,info:!0}),await t.writeFile(`${o}/.devcontainer/devcontainer.json`,Buffer.from(JSON.stringify(n))),i){let c=`${e}/test/${i}/${r}`;await t.isFolder(c)&&await zr(c,`${o}/.devcontainer`)}return await t.exec({cmd:"chmod",args:["-R","777",o],output:ui}),o}async function Dre(t,e,r,n){let{common:i}=t,s={},o=[`devcontainer.local_folder=${e}`,"devcontainer.is_test_run=true"],a={...k3,workspaceFolder:e,logLevel:i.getLogLevel(),mountWorkspaceGitRoot:!0,remoteEnv:i.remoteEnv,skipFeatureAutoMapping:i.skipFeatureAutoMapping,skipPersistingCustomizationsFromFeatures:i.skipPersistingCustomizationsFromFeatures,omitConfigRemotEnvFromMetadata:i.omitConfigRemotEnvFromMetadata,log:u=>r?null:process.stderr.write(u),dotfiles:{}};try{if(r){let u=!1;for(Yf(a,o,n).then(function(c){process.stdout.write(`
`),s=c,u=!0});!u;)process.stdout.write("."),await new Promise(c=>setTimeout(c,500))}else s=await Yf(a,o,n);return{...s,disposables:n}}catch(u){return Vr(`Failed to launch container:

${(u==null?void 0:u.message)??"Unknown error"}`),s}}async function xC(t,e,r,n={}){await r.exec({cmd:"chmod",args:["-R","777",e],output:ui});let i=`./${t}`;return await Are(i,[],e,n)}async function Are(t,e,r,n={}){let i=Object.keys(n).length>0?Object.entries(n).map(([a,u])=>`${Al(a)}=${u}`):void 0,s={...I3,"remote-env":i,"workspace-folder":r,"skip-feature-auto-mapping":!1,cmd:t,args:e,_:[t,...e]},o=await qg(s);return!o.code&&!o.signal}async function CC(t,e){let{logLevel:r,quiet:n,disposables:i}=e;return await yo({workspaceFolder:t,dockerPath:void 0,dockerComposePath:void 0,containerDataFolder:void 0,containerSystemDataFolder:void 0,mountWorkspaceGitRoot:!1,configFile:void 0,overrideConfigFile:void 0,logLevel:r,logFormat:"text",log:s=>n?null:process.stderr.write(s),terminalDimensions:void 0,defaultUserEnvProbe:"loginInteractiveShell",removeExistingContainer:!1,buildNoCache:!1,expectExistingContainer:!1,postCreateEnabled:!1,skipNonBlocking:!1,prebuild:!1,persistedFolder:void 0,additionalMounts:[],updateRemoteUserUIDDefault:"never",remoteEnv:{},additionalCacheFroms:[],omitLoggerHeader:!0,useBuildKit:"auto",buildxPlatform:void 0,buildxPush:!1,buildxOutput:void 0,skipFeatureAutoMapping:!1,skipPostAttach:!1,skipPersistingCustomizationsFromFeatures:!1,dotfiles:{}},i)}function N3(t){return t.options({"project-folder":{type:"string",alias:"p",default:".",description:"Path to folder containing 'src' and 'test' sub-folders. This is likely the git root of the project."},features:{array:!0,alias:"f",describe:"Feature(s) to test as space-separated parameters. Omit to run all tests.  Cannot be combined with '--global-scenarios-only'."},filter:{type:"string",describe:"Filter current tests to only run scenarios containing this string.  Cannot be combined with '--skip-scenarios'."},"global-scenarios-only":{type:"boolean",default:!1,description:"Run only scenario tests under 'tests/_global' .  Cannot be combined with '-f'."},"skip-scenarios":{type:"boolean",default:!1,description:"Skip all 'scenario' style tests.  Cannot be combined with '--global--scenarios-only'."},"skip-autogenerated":{type:"boolean",default:!1,description:"Skip all 'autogenerated' style tests (test.sh)."},"skip-duplicated":{type:"boolean",default:!1,description:"Skip all 'duplicate' style tests (duplicate.sh)."},"permit-randomization":{type:"boolean",default:!1,description:"Allow an element of randomness in test cases."},"base-image":{type:"string",alias:"i",default:"ubuntu:focal",description:"Base Image. Not used for scenarios."},"remote-user":{type:"string",alias:"u",describe:"Remote user.  Not used for scenarios."},"log-level":{choices:["info","debug","trace"],default:"info",description:"Log level."},"preserve-test-containers":{type:"boolean",default:!1,description:"Do not remove test containers after running tests."},quiet:{type:"boolean",alias:"q",default:!1,description:"Quiets output"}}).deprecateOption("target","Use --project-folder instead").positional("target",{type:"string",default:".",description:"Path to folder containing 'src' and 'test' sub-folders."}).check(e=>{if(e["global-scenarios-only"]&&e.features)throw new Error("Cannot combine --global-scenarios-only and --features");if(e["skip-scenarios"]&&e["global-scenarios-only"])throw new Error("Cannot combine --skip-scenarios and --global-scenarios-only");if(e["filter-scenarios"]&&e["skip-scenarios"])throw new Error("Cannot combine --filter-scenarios and --skip-scenarios");return!0})}function M3(t){(async()=>await Fre(t))().catch(console.error)}async function Fre({"base-image":t,target:e,"project-folder":r,features:n,filter:i,"global-scenarios-only":s,"skip-scenarios":o,"skip-autogenerated":a,"skip-duplicated":u,"permit-randomization":f,"remote-user":c,"log-level":d,"preserve-test-containers":p,quiet:l}){let h=[],y=async()=>{await Promise.all(h.map(P=>P()))},g=process.cwd(),v=await yr(g,Er),b=Jt(),x=Ot(d),E=r!=="."?r:e,S={baseImage:t,cliHost:v,logLevel:x,quiet:l,pkg:b,collectionFolder:v.path.resolve(E),features:n?Array.isArray(n)?n:[n]:void 0,filter:i,globalScenariosOnly:s,skipScenarios:o,skipAutogenerated:a,skipDuplicateTest:u,permitRandomization:f,remoteUser:c,preserveTestContainers:p,disposables:h},F=await O3(S);await y(),process.exit(F)}var pM=Ce(require("path"));var lM=Ce(_c());var IC=Ce(require("os")),cM=Ce(uM());var Si=Ce(require("path"));var Di="devcontainer-collection.json";async function zg(t,e){let{cliHost:r,targetFolder:n,outputDir:i,forceCleanOutputDir:s,output:o,disposables:a}=t,u=r.path.resolve(n);if(!await Wa(u))throw new Error(`Target folder '${u}' does not exist`);let f=r.path.resolve(i);await Wa(f)&&(s?await Nn(f,{recursive:!0,force:!0}):(o.write(`(!) ERR: Output directory '${f}' already exists. Manually delete, or pass '-f' to continue.`,5),process.exit(1)));let c=await Wa(r.path.join(u)),d=await st(r.path.join(u,`devcontainer-${e}.json`));if(!c)throw new Error(`Target folder '${u}' does not exist`);return await mn(f),{cliHost:r,targetFolder:u,outputDir:f,forceCleanOutputDir:s,output:o,disposables:a,isSingle:d}}async function fM(t,e,r){return new Promise(n=>n(lM.default.create({file:Si.default.join(r,e),cwd:t},["."])))}var Ol=(t,e)=>`devcontainer-${e}-${t}.tgz`;async function Wg(t,e){let{output:r,targetFolder:n,outputDir:i}=t,s=[],o=`devcontainer-${e}.json`,a=Si.default.join(IC.tmpdir(),`/templates-src-output-${Date.now()}`);await zr(n,a);let u=Si.default.join(a,o);if(!await st(u)){r.write(`${e} is missing a ${o}`,5);return}if(e==="template"){if(!await hM(a,u,r))return}else e==="feature"&&await dM(u,r);let f=Je(await tt(u,"utf-8"));if(!f.id||!f.version||!f.name){r.write(`${e} is missing one of the following required properties in its devcontainer-${e}.json: 'id', 'version', 'name'.`,5);return}let c=Ol(f.id,e);return await fM(a,c,i),r.write(`Packaged ${e} '${f.id}'`,3),s.push(f),await Nn(a,{recursive:!0,force:!0}),s}async function hM(t,e,r){let n=await Qre(t);if(!n)return r.write("Template is missing a devcontainer.json",5),!1;let i=await tt(n),s=Je(i.toString()),o,a=await tt(e),u=Je(a.toString());if("image"in s)o="image";else if(jn(s))o="dockerfile";else if("dockerComposeFile"in s)o="dockerCompose";else return r.write(`Dev container config (${n}) is missing one of "image", "dockerFile" or "dockerComposeFile" properties.`,5),!1;return u.type=o,u.fileCount=(await cM.default(t)).length,u.featureIds=s.features?Object.keys(s.features).map(f=>f.split(":")[0]):[],await Ht(e,JSON.stringify(u,null,4)),!0}async function dM(t,e){let r=await tt(t),n=Je(r.toString());n.legacyIds&&n.legacyIds.length>0&&(n.currentId=n.id,e.write(`Programmatically adding currentId:${n.currentId}...`,1),await Ht(t,JSON.stringify(n,null,4)))}async function Qre(t){let e=Si.default.join(t,".devcontainer.json"),r=Si.default.join(t,".devcontainer/devcontainer.json");if(await st(e))return e;if(await st(r))return r}async function Gg(t,e){let{output:r,targetFolder:n,outputDir:i}=t,s=await Th(n),o=[];for await(let a of s)if(r.write(`Processing ${e}: ${a}...`,3),!a.startsWith(".")){let u=Si.default.join(n,a),f=`devcontainer-${e}.json`;if(!await st(Si.default.join(u,f))){r.write(`(!) WARNING: ${e} '${a}' is missing a ${f}. Skipping... `,4);continue}let c=Si.default.join(IC.tmpdir(),`/templates-src-output-${Date.now()}`);await zr(u,c);let d=Ol(a,e),p=Si.default.join(c,f);if(e==="feature"){let h=Si.default.join(c,"install.sh");if(!await st(h)){r.write(`Feature '${a}' is missing an install.sh`,5);return}await dM(p,r)}else if(e==="template"&&!await hM(c,p,r))return;await fM(c,d,i);let l=Je(await tt(p,"utf-8"));if(!l.id||!l.version||!l.name){r.write(`${e} '${a}' is missing one of the following required properties in its ${f}: 'id', 'version', 'name'.`,5);return}o.push(l),await Nn(c,{recursive:!0,force:!0})}if(o.length!==0)return r.write(`Packaged ${o.length} ${e}s!`,3),o}var PC="feature";async function Jg(t){t=await zg(t,PC);let{output:e,outputDir:r}=t,n=t.isSingle,i=[];if(n?(e.write("Packaging single feature...",3),i=await ene(t)):(e.write("Packaging feature collection...",3),i=await tne(t)),!i){e.write("Failed to package features",5);return}let s={sourceInformation:{source:"devcontainer-cli"},features:i},o=pM.default.join(r,Di);return await Ht(o,JSON.stringify(s,null,4)),s}async function ene(t){return await Wg(t,PC)}async function tne(t){return await Gg(t,PC)}var rne=t=>`
Package ${t}s at provided [target] (default is cwd), where [target] is either:
   1. A path to the src folder of the collection with [1..n] ${t}s.
   2. A path to a single ${t} that contains a devcontainer-${t}.json.
   
   Additionally, a 'devcontainer-collection.json' will be generated in the output directory.
`;function mM(t,e){return t.options({"output-folder":{type:"string",alias:"o",default:"./output",description:"Path to output directory. Will create directories as needed."},"force-clean-output-folder":{type:"boolean",alias:"f",default:!1,description:"Automatically delete previous output directory before packaging"},"log-level":{choices:["info","debug","trace"],default:"info",description:"Log level."}}).positional("target",{type:"string",default:".",description:rne(e)}).check(r=>!0)}function gM(t){return mM(t,"feature")}function yM(t){(async()=>await nne(t))().catch(console.error)}async function nne({target:t,"log-level":e,"output-folder":r,"force-clean-output-folder":n}){let i=[],s=async()=>{await Promise.all(i.map(p=>p()))},o=Jt(),a=process.cwd(),u=await yr(a,Er),f=Tr({logLevel:Ot(e),logFormat:"text",log:p=>process.stderr.write(p),terminalDimensions:void 0},o,new Date,i),d=await Jg({cliHost:u,targetFolder:t,outputDir:r,output:f,disposables:i,forceCleanOutputDir:n})?0:1;await s(),process.exit(d)}var AM=Ce(require("path")),FM=Ce(require("os"));var ine=t=>`
Package and publish ${t}s at provided [target] (default is cwd), where [target] is either:
   1. A path to the src folder of the collection with [1..n] ${t}s.
   2. A path to a single ${t} that contains a devcontainer-${t}.json.
`;function Kg(t,e){return t.options({registry:{type:"string",alias:"r",default:"ghcr.io",description:"Name of the OCI registry."},namespace:{type:"string",alias:"n",require:!0,description:`Unique indentifier for the collection of ${e}s. Example: <owner>/<repo>`},"log-level":{choices:["info","debug","trace"],default:"info",description:"Log level."}}).positional("target",{type:"string",default:".",description:ine(e)}).check(r=>!0)}var BC=Ce(require("path")),Rl=Ce(jc());var vM=Ce(require("path")),TC=Ce(require("fs")),OC=Ce(require("crypto"));async function EM(t,e,r,n,i,s={}){let{output:o}=t;if(o.write(`-- Starting push of ${i} '${e.id}' to '${e.resource}' with tags '${n.join(", ")}'`),o.write(`${JSON.stringify(e,null,2)}`,1),!await st(r)){o.write(`Blob ${r} does not exist.`,5);return}let a=TC.readFileSync(r),u=await sne(o,a,r,e,i,s);if(!u){o.write(`Failed to generate manifest for ${e.id}`,5);return}o.write(`Generated manifest: 
${JSON.stringify(u==null?void 0:u.manifestObj,void 0,4)}`,1);let f=await Ss(t,e,u.contentDigest);if(u.contentDigest&&f)return o.write("Not reuploading blobs, digest already exists.",1),await Xg(t,u,e,n);let c=[{name:"configLayer",digest:u.manifestObj.config.digest,contents:Buffer.alloc(0),size:u.manifestObj.config.size},{name:"tgzLayer",digest:u.manifestObj.layers[0].digest,size:u.manifestObj.layers[0].size,contents:a}];for await(let d of c){let{name:p,digest:l}=d,h=await CM(t,e,l);if(o.write(`blob: '${p}'  ${h?"DOES exists":"DOES NOT exist"} in registry.`,1),!h){let y=await SM(t,e);if(!y){o.write("Failed to get upload session ID",5);return}if(!await wM(t,y,e,d)){o.write(`Failed to PUT blob '${p}' with digest '${l}'`,5);return}}}return await Xg(t,u,e,n)}async function bM(t,e,r,n){let{output:i}=t;if(i.write(`Starting push of latest ${n} collection for namespace '${e.path}' to '${e.registry}'`),i.write(`${JSON.stringify(e,null,2)}`,1),!await st(r)){i.write(`Collection Metadata was not found at expected location: ${r}`,5);return}let s=TC.readFileSync(r),o=await one(i,s,e);if(!o){i.write(`Failed to generate manifest for ${e.path}`,5);return}i.write(`Generated manifest: 
${JSON.stringify(o==null?void 0:o.manifestObj,void 0,4)}`,1);let a=await Ss(t,e,o.contentDigest);if(o.contentDigest&&a)return i.write("Not reuploading blobs, digest already exists.",1),await Xg(t,o,e,["latest"]);let u=[{name:"configLayer",digest:o.manifestObj.config.digest,size:o.manifestObj.config.size,contents:Buffer.alloc(0)},{name:"collectionLayer",digest:o.manifestObj.layers[0].digest,size:o.manifestObj.layers[0].size,contents:s}];for await(let f of u){let{name:c,digest:d}=f,p=await CM(t,e,d);if(i.write(`blob: '${c}' with digest '${d}'  ${p?"already exists":"does not exist"} in registry.`,1),!p){let l=await SM(t,e);if(!l){i.write("Failed to get upload session ID",5);return}if(!await wM(t,l,e,f)){i.write(`Failed to PUT blob '${c}' with digest '${d}'`,5);return}}}return await Xg(t,o,e,["latest"])}async function Xg(t,e,r,n){let{output:i}=t;i.write(`Tagging manifest with tags: ${n.join(", ")}`,1);let{manifestBuffer:s,contentDigest:o}=e;for await(let a of n){let u=`https://${r.registry}/v2/${r.path}/manifests/${a}`;i.write(`PUT -> '${u}'`,1);let f={type:"PUT",url:u,headers:{"content-type":"application/vnd.oci.image.manifest.v1+json"},data:s},c=await In(t,f,r);if(!c){i.write("Request failed",5);return}if(c.statusCode===429&&(i.write(`Failed to PUT manifest for tag ${a} due to too many requests. Retrying...`,4),await Zl(2e3),c=await In(t,f,r),!c)){i.write("Request failed",5);return}let{statusCode:d,resBody:p,resHeaders:l}=c;if(d!==201){let g=JSON.parse((p==null?void 0:p.toString())||"{}");i.write(`Failed to PUT manifest for tag ${a}
${JSON.stringify(g,void 0,4)}`,5);return}let h=l["docker-content-digest"],y=l.location||l.Location;i.write(`Tagged: ${a} -> ${y}`,3),i.write(`Returned Content-Digest: ${h}`,1)}return o}async function wM(t,e,r,n){let{output:i}=t,{name:s,digest:o,size:a,contents:u}=n;i.write(`Starting PUT of ${s} blob '${o}' (size=${a})`,3);let f={"content-type":"application/octet-stream","content-length":`${a}`},c="";e.startsWith("https://")||e.startsWith("http://")?c=e:c=`https://${r.registry}${e}`;let d=c.indexOf("?");d===-1?c+=`?digest=${o}`:c=c.substring(0,d)+`?digest=${o}&`+c.substring(d+1),i.write(`PUT blob to ->  ${c}`,1);let p=await In(t,{type:"PUT",url:c,headers:f,data:u},r);if(!p)return i.write("Request failed",5),!1;let{statusCode:l,resBody:h}=p;if(l!==201){let y=JSON.parse((h==null?void 0:h.toString())||"{}");return i.write(`${l}: Failed to upload blob '${o}' to '${c}' 
${JSON.stringify(y,void 0,4)}`,5),!1}return!0}async function sne(t,e,r,n,i,s={}){let o=await xM(t,e,vM.basename(r),oN);if(!o){t.write("Failed to calculate tgz layer.",5);return}let a=s;return n.registry==="ghcr.io"&&(a={...a,"com.github.package.type":`devcontainer_${i}`}),await DM(t,n,o,a)}async function one(t,e,r){let n=await xM(t,e,"devcontainer-collection.json",aN);if(!n){t.write("Failed to calculate collection file layer.",5);return}let i;return r.registry==="ghcr.io"&&(i={"com.github.package.type":"devcontainer_collection"}),await DM(t,r,n,i)}async function xM(t,e,r,n){t.write("Creating manifest from data",1);let i="sha256",s=OC.createHash(i).update(e).digest("hex"),o=`${i}:${s}`;return t.write(`Data layer digest: ${o} (archive size: ${e.byteLength})`,3),{mediaType:n,digest:o,size:e.byteLength,annotations:{"org.opencontainers.image.title":r}}}async function CM(t,e,r){let{output:n}=t,i=`https://${e.registry}/v2/${e.path}/blobs/${r}`,s=await In(t,{type:"HEAD",url:i,headers:{}},e);if(!s)return n.write("Request failed",5),!1;let o=s.statusCode;return n.write(`checkIfBlobExists: ${i}: ${o}`,1),o===200}async function SM(t,e){let{output:r}=t,n=`https://${e.registry}/v2/${e.path}/blobs/uploads/`;r.write(`Generating Upload URL -> ${n}`,1);let i=await In(t,{type:"POST",url:n,headers:{}},e);if(!i){r.write("Request failed",5);return}let{statusCode:s,resBody:o,resHeaders:a}=i;if(r.write(`${n}: ${s}`,1),s===202){let u=a.location||a.Location;if(!u){r.write(`${n}: Got 202 status code, but no location header found.`,5);return}return r.write(`Generated Upload URL: ${u}`,1),u}else{let u=JSON.parse((o==null?void 0:o.toString())||"{}");r.write(`${n}: Unexpected status code '${s}' 
${JSON.stringify(u,void 0,4)}`,5);return}}async function DM(t,e,r,n){let i={schemaVersion:2,mediaType:"application/vnd.oci.image.manifest.v1+json",config:{mediaType:"application/vnd.devcontainers",digest:"sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",size:0},layers:[r]};n&&(i.annotations=n);let s=Buffer.from(JSON.stringify(i)),o="sha256",a=OC.createHash(o).update(s).digest("hex"),u=`${o}:${a}`;return t.write(`Computed content digest from manifest: ${u}`,3),{manifestBuffer:s,manifestObj:i,contentDigest:u,canonicalId:`${e.resource}@sha256:${a}`}}var Yg=[];function RC(t,e,r,n){let i=Rl.maxSatisfying(t,r);(i===null||Rl.compare(e,i)===1)&&Yg.push(n)}function ane(t,e,r){if(e.includes(t)){r.write(`(!) WARNING: Version ${t} already exists, skipping ${t}...`,4);return}let n=Rl.parse(t);return n||(r.write(`(!) ERR: Version ${t} is not a valid semantic version, skipping ${t}...`,5),process.exit(1)),Yg=[],RC(e,t,`${n.major}.x.x`,`${n.major}`),RC(e,t,`${n.major}.${n.minor}.x`,`${n.major}.${n.minor}`),Yg.push(t),RC(e,t,"x.x.x","latest"),Yg}async function th(t,e,r,n,i,s,o={}){let{output:a}=t;a.write("Fetching published versions...",3);let u=await bl(t,r);if(!u)return;let f=ane(e,u,a);if(f){a.write(`Publishing versions: ${f.toString()}...`,3);let c=BC.default.join(n,s),d=await EM(t,r,c,f,i,o);if(!d){a.write(`(!) ERR: Failed to publish ${i}: '${r.resource}'`,5);return}return a.write(`Published ${i}: '${r.id}'`,3),{publishedVersions:f,digest:d}}return{}}async function Zg(t,e,r,n){let{output:i}=t;i.write("Publishing collection metadata...",3);let s=BC.default.join(r,Di),o=await bM(t,e,s,n);if(!o){i.write(`(!) ERR: Failed to publish collection metadata: ${Di}`,5);return}return i.write("Published collection metadata.",3),o}var Qg="feature";function _M(t){return Kg(t,"feature")}function kM(t){(async()=>await une(t))().catch(console.error)}async function une({target:t,"log-level":e,registry:r,namespace:n}){let i=[],s=async()=>{await Promise.all(i.map(g=>g()))},o=Jt(),a=process.cwd(),u=await yr(a,Er),f=Tr({logLevel:Ot(e),logFormat:"text",log:g=>process.stderr.write(g),terminalDimensions:void 0},o,new Date,i),c={output:f,env:process.env},d=AM.default.join(FM.tmpdir(),`/features-output-${Date.now()}`),l=await Jg({cliHost:u,targetFolder:t,outputDir:d,output:f,disposables:i,forceCleanOutputDir:!0});l||(f.write(`(!) ERR: Failed to fetch ${Di}`,5),process.exit(1));let h={};for(let g of l.features){if(f.write(`Processing feature: ${g.id}...`,3),!g.version){f.write(`(!) WARNING: Version does not exist, skipping ${g.id}...`,4);continue}let v=`${r}/${n}/${g.id}`,b=dr(f,v);b||(f.write(`(!) Could not parse provided Feature identifier: '${v}'`,5),process.exit(1));let x=Ol(g.id,Qg),E={"dev.containers.metadata":JSON.stringify(g)};f.write(`Feature Annotations: ${JSON.stringify(E)}`,2);let S=await th(c,g.version,b,d,Qg,x,E);S||(f.write(`(!) ERR: Failed to publish '${v}'`,5),process.exit(1));let F=(S==null?void 0:S.digest)&&(S==null?void 0:S.publishedVersions.length)>0,P=F?{...S,version:g.version}:{};if(F&&g.legacyIds){f.write(`Processing legacyIds for '${g.id}'...`,3);let V=[];for await(let H of g.legacyIds){f.write(`Processing legacyId: '${H}'...`,3);let j=`${r}/${n}/${H}`,R=dr(f,j);R||(f.write(`(!) Could not parse provided Feature identifier: '${j}'`,5),process.exit(1));let N=await th(c,g.version,R,d,Qg,x,E);N||(f.write(`(!) ERR: Failed to publish '${j}'`,5),process.exit(1)),N!=null&&N.digest&&(N==null?void 0:N.publishedVersions.length)>0&&V.push(H)}V.length>0&&(P={...P,publishedLegacyIds:V})}h={...h,[g.id]:P}}let y=ug(f,r,n);y||(f.write(`(!) Could not parse provided collection identifier with registry '${r}' and namespace '${n}'`,5),process.exit(1)),await Zg(c,y,d,Qg)||(f.write(`(!) ERR: Failed to publish '${y.registry}/${y.path}'`,5),process.exit(1)),console.log(JSON.stringify(h)),await Nn(d,{recursive:!0,force:!0}),await s(),process.exit()}var TM=Ce(require("path")),OM=Ce(require("os"));var IM=Ce(require("path"));var LC="template";async function PM(t){t=await zg(t,LC);let{output:e,outputDir:r}=t,n=t.isSingle,i=[];if(n?(e.write("Packaging single template...",3),i=await lne(t)):(e.write("Packaging template collection...",3),i=await cne(t)),!i){e.write("Failed to package templates",5);return}let s={sourceInformation:{source:"devcontainer-cli"},templates:i},o=IM.default.join(r,Di);return await Ht(o,JSON.stringify(s,null,4)),s}async function lne(t){return await Wg(t,LC)}async function cne(t){return await Gg(t,LC)}var NC="template";function RM(t){return Kg(t,"template")}function BM(t){(async()=>await fne(t))().catch(console.error)}async function fne({target:t,"log-level":e,registry:r,namespace:n}){var g;let i=[],s=async()=>{await Promise.all(i.map(v=>v()))},o=Jt(),a=process.cwd(),u=await yr(a,Er),f=Tr({logLevel:Ot(e),logFormat:"text",log:v=>process.stderr.write(v),terminalDimensions:void 0},o,new Date,i),c={output:f,env:process.env},d=TM.default.join(OM.tmpdir(),`/templates-output-${Date.now()}`),l=await PM({cliHost:u,targetFolder:t,outputDir:d,output:f,disposables:i,forceCleanOutputDir:!0});l||(f.write(`(!) ERR: Failed to fetch ${Di}`,5),process.exit(1));let h={};for(let v of l.templates){if(f.write(`Processing template: ${v.id}...`,3),!v.version){f.write(`(!) WARNING: Version does not exist, skipping ${v.id}...`,4);continue}let b=`${r}/${n}/${v.id}`,x=dr(f,b);x||(f.write(`(!) Could not parse provided Template identifier: '${b}'`,5),process.exit(1));let E=Ol(v.id,NC),S=await th(c,v.version,x,d,NC,E);S||(f.write(`(!) ERR: Failed to publish '${b}'`,5),process.exit(1));let F=S!=null&&S.digest&&((g=S==null?void 0:S.publishedVersions)==null?void 0:g.length)>0?{...S,version:v.version}:{};h={...h,[v.id]:F}}let y=ug(f,r,n);y||(f.write(`(!) Could not parse provided collection identifier with registry '${r}' and namespace '${n}'`,5),process.exit(1)),await Zg(c,y,d,NC)||(f.write(`(!) ERR: Failed to publish '${y.registry}/${y.path}'`,5),process.exit(1)),console.log(JSON.stringify(h)),await Nn(d,{recursive:!0,force:!0}),await s(),process.exit()}var LM=Ce(require("os")),e0=Ce(require("path"));async function NM(t,e,r,n){var g,v;let{output:i}=t,{id:s,options:o}=e,a=dr(i,s);if(!a){i.write(`Failed to parse template ref for ${s}`,5);return}let u=await hne(t,s);if(!u){i.write(`Failed to fetch template manifest for ${s}`,5);return}let f=(v=(g=u==null?void 0:u.manifestObj)==null?void 0:g.layers[0])==null?void 0:v.digest;if(!f){i.write(`Failed to fetch template manifest for ${s}`,5);return}let c=`https://${a.registry}/v2/${a.path}/blobs/${f}`;i.write(`blob url: ${c}`,1);let d=n||e0.join(LM.tmpdir(),"vsch-template-temp",`${Date.now()}`),p=await cg(t,c,d,r,a,f,["devcontainer-template.json","README.md","NOTES.md"],"devcontainer-template.json");if(!p)throw new Error(`Failed to download package for ${a.resource}`);let{files:l,metadata:h}=p;if(h){let b=h;if(b.options){let x=b.options;for(let E of Object.keys(x))if(o[E]===void 0){let S=x[E];if(S.type==="string"){let F=S.default;F&&(i.write(`Using default value for ${E} --> ${F}`,1),o[E]=F)}else if(S.type==="boolean"){let F=S.default;F&&(i.write(`Using default value for ${E} --> ${F}`,1),o[E]=F.toString())}}}}for(let b of l){i.write(`Scanning file '${b}'`,1);let x=e0.join(r,b);if(await st(x)){let E=await tt(x),S=dne(i,E.toString(),o);await Ht(x,Buffer.from(S))}else i.write(`Could not find templated file '${b}'.`,5)}let y=async b=>{let x=b.find(E=>E.endsWith("devcontainer.json"));if(x){let E=e0.join(r,x);if(await st(E)){let S=await tt(E);return{configPath:E,configText:S.toString(),configObject:Je(S.toString())}}}};if(e.features.length!==0){let b=await y(l);b?await pne(i,e.features,b):i.write("Could not find a devcontainer.json to apply selected Features onto.",5)}return l}async function hne(t,e,r){let{output:n}=t,i=dr(n,e);if(i)return await Ss(t,i,r)}function dne(t,e,r){let n=/\${templateOption:\s*(\w+?)\s*}/g;return e.replace(n,(i,s)=>(t.write(`Replacing ${s} with ${r[s]}`),r[s]||""))}async function pne(t,e,r){let{configPath:n,configText:i,configObject:s}=r;if(e){let o=i,a=i;if(!s.features){let u=O0(a,["features"],{},{formattingOptions:{}});a=Lo(a,u)}for(let u of e){let f=[],c=["features",u.id];f=f.concat(O0(a,c,u.options,{formattingOptions:{}})),a=Lo(a,f)}o!==a&&(t.write(`Updating ${n} with ${e.length} Features`,1),await Ht(n,Buffer.from(a)))}}function MM(t){return t.options({"workspace-folder":{type:"string",alias:"w",demandOption:!0,default:".",description:"Target workspace folder to apply Template"},"template-id":{type:"string",alias:"t",demandOption:!0,description:"Reference to a Template in a supported OCI registry"},"template-args":{type:"string",alias:"a",default:"{}",description:"Arguments to replace within the provided Template, provided as JSON"},features:{type:"string",alias:"f",default:"[]",description:"Features to add to the provided Template, provided as JSON."},"log-level":{choices:["info","debug","trace"],default:"info",description:"Log level."},"tmp-dir":{type:"string",description:"Directory to use for temporary files. If not provided, the system default will be inferred."}}).check(e=>!0)}function jM(t){(async()=>await mne(t))().catch(console.error)}async function mne({"workspace-folder":t,"template-id":e,"template-args":r,features:n,"log-level":i,"tmp-dir":s}){let o=[],a=async()=>{await Promise.all(o.map(v=>v()))},u=Jt(),f=Tr({logLevel:Ot(i),logFormat:"text",log:v=>process.stderr.write(v),terminalDimensions:void 0},u,new Date,o),c=e,d=[],p=Je(r,d);(!p||!gne(f,p,d))&&(f.write("Invalid template arguments provided.",5),process.exit(1));let l=Je(n);(!l||!yne(f,l,[]))&&(f.write("Invalid template arguments provided.",5),process.exit(1));let y={id:e,options:p,features:l},g=await NM({output:f,env:process.env},y,t,s);g||(f.write(`Failed to fetch template '${c}'.`,5),process.exit(1)),console.log(JSON.stringify({files:g})),await a(),process.exit()}function gne(t,e,r){if($M(t,r))return!1;if(Array.isArray(e)||typeof e!="object"||e===null)return t.write("Invalid template options provided. Expected an object.",5),!1;for(let[n,[i,s]]of Object.entries(e).entries()){if(typeof i!="string")return t.write(`Invalid template options provided. Expected a string key, but got ${typeof i}`,5),!1;if(typeof s!="string")return t.write(`Invalid template options provided. Expected a string value, but got ${typeof s}`,5),!1}return!0}function yne(t,e,r){if($M(t,r))return!1;if(!Array.isArray(e))return t.write("Invalid template options provided. Expected an array.",5),!1;for(let[n,i]of Object.entries(e)){let s=i;if(!(s!=null&&s.id))return t.write("Feature entry requires an Id.",5),!1}return!0}function $M(t,e){for(let r of e)t.write(`JSON parse error: ${kh(r.error)}`,5);return e.length>0}function UM(t){return t.options({"log-level":{choices:["info","debug","trace"],default:"info",description:"Log level."},"output-format":{choices:["text","json"],default:"text",description:"Output format."}}).positional("mode",{choices:["manifest","tags","dependencies","verbose"],description:"Data to query. Select 'verbose' to return everything."}).positional("feature",{type:"string",demandOption:!0,description:"Feature Identifier"})}function qM(t){(async()=>await vne(t))().catch(console.error)}async function vne({mode:t,feature:e,"log-level":r,"output-format":n}){let i=[],s=async()=>{await Promise.all(i.map(p=>p()))},o=Jt(),a=Tr({logLevel:Ot(r),logFormat:"text",log:p=>process.stderr.write(p),terminalDimensions:void 0},o,new Date,i,!0),u={output:a,env:process.env,outputFormat:n},f={},c=dr(a,e);c||(n==="json"?console.log(JSON.stringify({}),3):console.log(`Failed to parse Feature identifier '${e}'
`,5),process.exit(1));let d=await Ene(u,c);if(d||process.exit(1),t==="manifest"||t==="verbose"){let{manifestObj:p,canonicalId:l}=d;n==="text"?(console.log(t0("Manifest")),console.log(`${JSON.stringify(p,void 0,2)}
`),console.log(t0("Canonical Identifier")),console.log(`${l}
`)):(f.manifest=p,f.canonicalId=l)}if(t==="tags"||t==="verbose"){let p=await bne(u,c);n==="text"?(console.log(t0("Published Version")),console.log(`${p.join(`
   `)}`)):f.publishedVersions=p}if((t==="dependencies"||t==="verbose")&&n==="text"){a.write(`Building dependency graph for '${e}'...`,3),c||(a.write(`Provide Feature reference '${e}' is invalid.`,5),process.exit(1));let l=await Mf(u,async h=>await qf(u,void 0,"",h),[{userFeatureId:e,options:{}}],{overrideFeatureInstallOrder:void 0});if(a.write(JSON.stringify(l,void 0,4),1),l||(a.write("Could not build dependency graph.",5),process.exit(1)),n==="text"){console.log(t0("Dependency Tree (Render with https://mermaid.live/)"));let h=gg(u,l.worklist);console.log(h)}}n==="json"&&console.log(JSON.stringify(f,void 0,4)),await s(),process.exit()}async function Ene(t,e){let{outputFormat:r}=t,n=await Ss(t,e,void 0);return n||(console.log(r==="json"?JSON.stringify({}):"No manifest found! If this manifest requires authentication, please login."),process.exit(1))}async function bne(t,e){let{outputFormat:r}=t,n=await bl(t,e,!0);return(!n||n.length===0)&&(console.log(r==="json"?JSON.stringify({}):`No published versions found for feature '${e.resource}'
`),process.exit(1)),n}function t0(t,e=0){let r=t.split(`
`);r[0]=`\x1B[1m${r[0]}\x1B[22m`;let n=Math.max(...r.map(s=>s.length-(s.includes("\x1B[1m")?9:0)));return["\u250C"+"\u2500".repeat(n)+"\u2510",...r.map(s=>"\u2502"+s.padEnd(n+(r.length>1&&s.includes("\x1B[1m")?9:0))+"\u2502"),"\u2514"+"\u2500".repeat(n)+"\u2518"].map(s=>`${" ".repeat(e)}${s}`).join(`
`)}var MC=Ce(require("path"));function VM(t){return t.options({"log-level":{choices:["error","info","debug","trace"],default:"error",description:"Log level."},"workspace-folder":{type:"string",description:"Workspace folder to use for the configuration.",demandOption:!0}})}function HM(t){(async()=>await wne(t))().catch(console.error)}async function wne({"workspace-folder":t,"log-level":e}){let r=[],n=async()=>{await Promise.all(r.map(g=>g()))},i=Jt(),s=Tr({logLevel:Ot(e),logFormat:"text",log:g=>process.stderr.write(g),terminalDimensions:void 0},i,new Date,r,!0),o={},a=MC.join(t,".devcontainer.json");await st(a)||(a=MC.join(t,".devcontainer","devcontainer.json"));let u=await tt(a);u||(s.write(`Could not load devcontainer.json file from path ${a}`,5),process.exit(1));let f=Je(u.toString());(!f||!f.features)&&(s.write(`No Features object in configuration '${a}'`,5),process.exit(1));let c=Cg(f);c||(s.write(`Could not parse features object in configuration '${a}'`,5),process.exit(1));let d={output:s,env:process.env},p=async g=>await qf(d,a,t,g),l=await Mf(d,p,c,f),h=l==null?void 0:l.worklist;console.log(gg(d,h));let y=await mg(d,p,c,f,l);y||(s.write("\x1B[1mNo viable installation order!\x1B[22m",5),process.exit(1)),o={...o,installOrder:y.map(g=>{let v=g==null?void 0:g.sourceInformation;switch(v.type){case"oci":return{id:`${v.featureRef.resource}@${v.manifestDigest}`,options:g==null?void 0:g.features[0].value};default:return{id:g.sourceInformation.userFeatureId,options:g==null?void 0:g.features[0].value}}})},console.log(JSON.stringify(o,void 0,2)),await n(),process.exit()}var r0="loginInteractiveShell",zM=/^type=(bind|volume),source=([^,]+),target=([^,]+)(?:,external=(true|false))?$/;(async()=>{let t=Nt.join(__dirname,"..",".."),e=Jt().version,r=process.argv.slice(2),n=r[0]==="exec"&&r[1]!=="--help",i=sD([]).parserConfiguration({"boolean-negation":!1,"halt-at-non-option":n}).scriptName("devcontainer").version(e).demandCommand().strict();i.wrap(Math.min(120,i.terminalWidth())),i.command("up","Create and run dev container",xne,Cne),i.command("set-up","Set up an existing container as a dev container",Ane,Fne),i.command("build [path]","Build a dev container image",Ine,Pne),i.command("run-user-commands","Run user commands",Rne,Bne),i.command("read-configuration","Read configuration",Mne,jne),i.command("outdated","Show current and available versions",qne,Vne),i.command("features","Features commands",s=>{s.command("test [target]","Test Features",N3,M3),s.command("package <target>","Package Features",gM,yM),s.command("publish <target>","Package and publish Features",_M,kM),s.command("info <mode> <feature>","Fetch metadata for a published Feature",UM,qM),s.command("resolve-dependencies","Read and resolve dependency graph from a configuration",VM,HM)}),i.command("templates","Templates commands",s=>{s.command("apply","Apply a template to the project",MM,jM),s.command("publish <target>","Package and publish templates",RM,BM)}),i.command(n?["exec","*"]:["exec <cmd> [args..]"],"Execute a command on a running dev container",zne,Wne),i.epilog(`devcontainer@${e} ${t}`),i.parse(n?r.slice(1):r)})().catch(console.error);function xne(t){return t.options({"docker-path":{type:"string",description:"Docker CLI path."},"docker-compose-path":{type:"string",description:"Docker Compose CLI path."},"container-data-folder":{type:"string",description:"Container data folder where user data inside the container will be stored."},"container-system-data-folder":{type:"string",description:"Container system data folder where system data inside the container will be stored."},"workspace-folder":{type:"string",description:"Workspace folder path. The devcontainer.json will be looked up relative to this path."},"workspace-mount-consistency":{choices:["consistent","cached","delegated"],default:"cached",description:"Workspace mount consistency."},"mount-workspace-git-root":{type:"boolean",default:!0,description:"Mount the workspace using its Git root."},"id-label":{type:"string",description:"Id label(s) of the format name=value. These will be set on the container and used to query for an existing container. If no --id-label is given, one will be inferred from the --workspace-folder path."},config:{type:"string",description:"devcontainer.json path. The default is to use .devcontainer/devcontainer.json or, if that does not exist, .devcontainer.json in the workspace folder."},"override-config":{type:"string",description:"devcontainer.json path to override any devcontainer.json in the workspace folder (or built-in configuration). This is required when there is no devcontainer.json otherwise."},"log-level":{choices:["info","debug","trace"],default:"info",description:"Log level for the --terminal-log-file. When set to trace, the log level for --log-file will also be set to trace."},"log-format":{choices:["text","json"],default:"text",description:"Log format."},"terminal-columns":{type:"number",implies:["terminal-rows"],description:"Number of rows to render the output for. This is required for some of the subprocesses to correctly render their output."},"terminal-rows":{type:"number",implies:["terminal-columns"],description:"Number of columns to render the output for. This is required for some of the subprocesses to correctly render their output."},"default-user-env-probe":{choices:["none","loginInteractiveShell","interactiveShell","loginShell"],default:r0,description:`Default value for the devcontainer.json's "userEnvProbe".`},"update-remote-user-uid-default":{choices:["never","on","off"],default:"on",description:"Default for updating the remote user's UID and GID to the local user's one."},"remove-existing-container":{type:"boolean",default:!1,description:"Removes the dev container if it already exists."},"build-no-cache":{type:"boolean",default:!1,description:"Builds the image with `--no-cache` if the container does not exist."},"expect-existing-container":{type:"boolean",default:!1,description:"Fail if the container does not exist."},"skip-post-create":{type:"boolean",default:!1,description:"Do not run onCreateCommand, updateContentCommand, postCreateCommand, postStartCommand or postAttachCommand and do not install dotfiles."},"skip-non-blocking-commands":{type:"boolean",default:!1,description:"Stop running user commands after running the command configured with waitFor or the updateContentCommand by default."},prebuild:{type:"boolean",default:!1,description:"Stop after onCreateCommand and updateContentCommand, rerunning updateContentCommand if it has run before."},"user-data-folder":{type:"string",description:"Host path to a directory that is intended to be persisted and share state between sessions."},mount:{type:"string",description:"Additional mount point(s). Format: type=<bind|volume>,source=<source>,target=<target>[,external=<true|false>]"},"remote-env":{type:"string",description:"Remote environment variables of the format name=value. These will be added when executing the user commands."},"cache-from":{type:"string",description:"Additional image to use as potential layer cache during image building"},buildkit:{choices:["auto","never"],default:"auto",description:"Control whether BuildKit should be used"},"additional-features":{type:"string",description:'Additional features to apply to the dev container (JSON as per "features" section in devcontainer.json)'},"skip-feature-auto-mapping":{type:"boolean",default:!1,hidden:!0,description:"Temporary option for testing."},"skip-post-attach":{type:"boolean",default:!1,description:"Do not run postAttachCommand."},"dotfiles-repository":{type:"string",description:"URL of a dotfiles Git repository (e.g., https://github.com/owner/repository.git)"},"dotfiles-install-command":{type:"string",description:"The command to run after cloning the dotfiles repository. Defaults to run the first file of `install.sh`, `install`, `bootstrap.sh`, `bootstrap`, `setup.sh` and `setup` found in the dotfiles repository`s root folder."},"dotfiles-target-path":{type:"string",default:"~/dotfiles",description:"The path to clone the dotfiles repository to. Defaults to `~/dotfiles`."},"container-session-data-folder":{type:"string",description:"Folder to cache CLI data, for example userEnvProbe results"},"omit-config-remote-env-from-metadata":{type:"boolean",default:!1,hidden:!0,description:"Omit remoteEnv from devcontainer.json for container metadata label"},"secrets-file":{type:"string",description:"Path to a json file containing secret environment variables as key-value pairs."},"experimental-lockfile":{type:"boolean",default:!1,hidden:!0,description:"Write lockfile"},"experimental-frozen-lockfile":{type:"boolean",default:!1,hidden:!0,description:"Ensure lockfile remains unchanged"}}).check(e=>{let r=e["id-label"]&&(Array.isArray(e["id-label"])?e["id-label"]:[e["id-label"]]);if(r!=null&&r.some(s=>!/.+=.+/.test(s)))throw new Error("Unmatched argument format: id-label must match <name>=<value>");if(!(e["workspace-folder"]||e["id-label"]))throw new Error("Missing required argument: workspace-folder or id-label");if(!(e["workspace-folder"]||e["override-config"]))throw new Error("Missing required argument: workspace-folder or override-config");let n=e.mount&&(Array.isArray(e.mount)?e.mount:[e.mount]);if(n!=null&&n.some(s=>!zM.test(s)))throw new Error("Unmatched argument format: mount must match type=<bind|volume>,source=<source>,target=<target>[,external=<true|false>]");let i=e["remote-env"]&&(Array.isArray(e["remote-env"])?e["remote-env"]:[e["remote-env"]]);if(i!=null&&i.some(s=>!/.+=.+/.test(s)))throw new Error("Unmatched argument format: remote-env must match <name>=<value>");return!0})}function Cne(t){(async()=>Sne(t))().catch(console.error)}async function Sne({"user-data-folder":t,"docker-path":e,"docker-compose-path":r,"container-data-folder":n,"container-system-data-folder":i,"workspace-folder":s,"workspace-mount-consistency":o,"mount-workspace-git-root":a,"id-label":u,config:f,"override-config":c,"log-level":d,"log-format":p,"terminal-rows":l,"terminal-columns":h,"default-user-env-probe":y,"update-remote-user-uid-default":g,"remove-existing-container":v,"build-no-cache":b,"expect-existing-container":x,"skip-post-create":E,"skip-non-blocking-commands":S,prebuild:F,mount:P,"remote-env":V,"cache-from":H,buildkit:j,"additional-features":R,"skip-feature-auto-mapping":N,"skip-post-attach":J,"dotfiles-repository":K,"dotfiles-install-command":X,"dotfiles-target-path":z,"container-session-data-folder":T,"omit-config-remote-env-from-metadata":W,"secrets-file":L,"experimental-lockfile":$,"experimental-frozen-lockfile":Z}){let ie=s?Nt.resolve(process.cwd(),s):void 0,he=V?Array.isArray(V)?V:[V]:[],ee=H?Array.isArray(H)?H:[H]:[],me=R?Je(R):{},ce=u?Array.isArray(u)?u:[u]:void 0,ye=ie||process.cwd(),Le=await yr(ye,Er),fe=WM({secretsFile:L,cliHost:Le}),se={dockerPath:e,dockerComposePath:r,containerDataFolder:n,containerSystemDataFolder:i,workspaceFolder:ie,workspaceMountConsistency:o,mountWorkspaceGitRoot:a,configFile:f?Kt.file(Nt.resolve(process.cwd(),f)):void 0,overrideConfigFile:c?Kt.file(Nt.resolve(process.cwd(),c)):void 0,logLevel:Ot(d),logFormat:p,log:pe=>process.stderr.write(pe),terminalDimensions:h&&l?{columns:h,rows:l}:void 0,defaultUserEnvProbe:y,removeExistingContainer:v,buildNoCache:b,expectExistingContainer:x,postCreateEnabled:!E,skipNonBlocking:S,prebuild:F,persistedFolder:t,additionalMounts:P?(Array.isArray(P)?P:[P]).map(pe=>{let[,ve,U,G,ge]=zM.exec(pe);return{type:ve,source:U,target:G,external:ge==="true"}}):[],dotfiles:{repository:K,installCommand:X,targetPath:z},updateRemoteUserUIDDefault:g,remoteEnv:pr(he),secretsP:fe,additionalCacheFroms:ee,useBuildKit:j,buildxPlatform:void 0,buildxPush:!1,buildxOutput:void 0,additionalFeatures:me,skipFeatureAutoMapping:N,skipPostAttach:J,containerSessionDataFolder:T,skipPersistingCustomizationsFromFeatures:!1,omitConfigRemotEnvFromMetadata:W,experimentalLockfile:$,experimentalFrozenLockfile:Z},te=await Dne(se,ce),ue=te.outcome==="error"?1:0;console.log(JSON.stringify(te)),te.outcome==="success"&&await te.finishBackgroundTasks(),await te.dispose(),process.exit(ue)}async function Dne(t,e){let r=[],n=async()=>{await Promise.all(r.map(i=>i()))};try{let i=await Yf(t,e,r);return{outcome:"success",dispose:n,...i}}catch(i){let s=i==null?void 0:i.stack,o=i instanceof Me?i:new Me({description:"An error occurred setting up the container.",originalError:i});return s&&console.error(s),{outcome:"error",message:o.message,description:o.description,containerId:o.containerId,dispose:n}}}function Ane(t){return t.options({"docker-path":{type:"string",description:"Docker CLI path."},"container-data-folder":{type:"string",description:"Container data folder where user data inside the container will be stored."},"container-system-data-folder":{type:"string",description:"Container system data folder where system data inside the container will be stored."},"container-id":{type:"string",required:!0,description:"Id of the container."},config:{type:"string",description:"devcontainer.json path."},"log-level":{choices:["info","debug","trace"],default:"info",description:"Log level for the --terminal-log-file. When set to trace, the log level for --log-file will also be set to trace."},"log-format":{choices:["text","json"],default:"text",description:"Log format."},"terminal-columns":{type:"number",implies:["terminal-rows"],description:"Number of rows to render the output for. This is required for some of the subprocesses to correctly render their output."},"terminal-rows":{type:"number",implies:["terminal-columns"],description:"Number of columns to render the output for. This is required for some of the subprocesses to correctly render their output."},"default-user-env-probe":{choices:["none","loginInteractiveShell","interactiveShell","loginShell"],default:r0,description:`Default value for the devcontainer.json's "userEnvProbe".`},"skip-post-create":{type:"boolean",default:!1,description:"Do not run onCreateCommand, updateContentCommand, postCreateCommand, postStartCommand or postAttachCommand and do not install dotfiles."},"skip-non-blocking-commands":{type:"boolean",default:!1,description:"Stop running user commands after running the command configured with waitFor or the updateContentCommand by default."},"user-data-folder":{type:"string",description:"Host path to a directory that is intended to be persisted and share state between sessions."},"remote-env":{type:"string",description:"Remote environment variables of the format name=value. These will be added when executing the user commands."},"dotfiles-repository":{type:"string",description:"URL of a dotfiles Git repository (e.g., https://github.com/owner/repository.git)"},"dotfiles-install-command":{type:"string",description:"The command to run after cloning the dotfiles repository. Defaults to run the first file of `install.sh`, `install`, `bootstrap.sh`, `bootstrap`, `setup.sh` and `setup` found in the dotfiles repository`s root folder."},"dotfiles-target-path":{type:"string",default:"~/dotfiles",description:"The path to clone the dotfiles repository to. Defaults to `~/dotfiles`."},"container-session-data-folder":{type:"string",description:"Folder to cache CLI data, for example userEnvProbe results"}}).check(e=>{let r=e["remote-env"]&&(Array.isArray(e["remote-env"])?e["remote-env"]:[e["remote-env"]]);if(r!=null&&r.some(n=>!/.+=.+/.test(n)))throw new Error("Unmatched argument format: remote-env must match <name>=<value>");return!0})}function Fne(t){(async()=>_ne(t))().catch(console.error)}async function _ne(t){let e=await kne(t),r=e.outcome==="error"?1:0;console.log(JSON.stringify(e)),await e.dispose(),process.exit(r)}async function kne({"user-data-folder":t,"docker-path":e,"container-data-folder":r,"container-system-data-folder":n,"container-id":i,config:s,"log-level":o,"log-format":a,"terminal-rows":u,"terminal-columns":f,"default-user-env-probe":c,"skip-post-create":d,"skip-non-blocking-commands":p,"remote-env":l,"dotfiles-repository":h,"dotfiles-install-command":y,"dotfiles-target-path":g,"container-session-data-folder":v}){let b=[],x=async()=>{await Promise.all(b.map(E=>E()))};try{let E=l?Array.isArray(l)?l:[l]:[],S=s?Kt.file(Nt.resolve(process.cwd(),s)):void 0,F=await yo({dockerPath:e,dockerComposePath:void 0,containerSessionDataFolder:v,containerDataFolder:r,containerSystemDataFolder:n,workspaceFolder:void 0,mountWorkspaceGitRoot:!1,configFile:S,overrideConfigFile:void 0,logLevel:Ot(o),logFormat:a,log:W=>process.stderr.write(W),terminalDimensions:f&&u?{columns:f,rows:u}:void 0,defaultUserEnvProbe:c,removeExistingContainer:!1,buildNoCache:!1,expectExistingContainer:!1,postCreateEnabled:!d,skipNonBlocking:p,prebuild:!1,persistedFolder:t,additionalMounts:[],updateRemoteUserUIDDefault:"never",remoteEnv:pr(E),additionalCacheFroms:[],useBuildKit:"auto",buildxPlatform:void 0,buildxPush:!1,buildxOutput:void 0,skipFeatureAutoMapping:!1,skipPostAttach:!1,skipPersistingCustomizationsFromFeatures:!1,dotfiles:{repository:h,installCommand:y,targetPath:g}},b),{common:P}=F,{cliHost:V,output:H}=P,j=S&&await go(V,void 0,S,F.mountWorkspaceGitRoot,H,void 0,void 0);if(S&&!j)throw new Me({description:`Dev container config (${At(S,V.platform)}) not found.`});let R=(j==null?void 0:j.config)||{raw:{},config:{},substitute:W=>Mo({platform:V.platform,env:V.env},W)},N=await ki(F,i);N||Fl(P.output,"Dev container not found.");let J=_s(R,W=>Ka(void 0,W)),K=_s(J,W=>Xi(V.platform,J.config.configFilePath,pr(N.Config.Env),W)),X=Ds(N,K,void 0,void 0,H).config,z=wi(K.config,X),T=await po(F,N.Id,j==null?void 0:j.workspaceConfig.workspaceFolder,z.remoteUser);return await Xa(P,T,z,Ia(X)),{outcome:"success",dispose:x}}catch(E){let S=E==null?void 0:E.stack,F=E instanceof Me?E:new Me({description:"An error occurred running user commands in the container.",originalError:E});return S&&console.error(S),{outcome:"error",message:F.message,description:F.description,dispose:x}}}function Ine(t){return t.options({"user-data-folder":{type:"string",description:"Host path to a directory that is intended to be persisted and share state between sessions."},"docker-path":{type:"string",description:"Docker CLI path."},"docker-compose-path":{type:"string",description:"Docker Compose CLI path."},"workspace-folder":{type:"string",required:!0,description:"Workspace folder path. The devcontainer.json will be looked up relative to this path."},config:{type:"string",description:"devcontainer.json path. The default is to use .devcontainer/devcontainer.json or, if that does not exist, .devcontainer.json in the workspace folder."},"log-level":{choices:["info","debug","trace"],default:"info",description:"Log level."},"log-format":{choices:["text","json"],default:"text",description:"Log format."},"no-cache":{type:"boolean",default:!1,description:"Builds the image with `--no-cache`."},"image-name":{type:"string",description:"Image name."},"cache-from":{type:"string",description:"Additional image to use as potential layer cache"},buildkit:{choices:["auto","never"],default:"auto",description:"Control whether BuildKit should be used"},platform:{type:"string",description:"Set target platforms."},push:{type:"boolean",default:!1,description:"Push to a container registry."},output:{type:"string",description:"Overrides the default behavior to load built images into the local docker registry. Valid options are the same ones provided to the --output option of docker buildx build."},"additional-features":{type:"string",description:'Additional features to apply to the dev container (JSON as per "features" section in devcontainer.json)'},"skip-feature-auto-mapping":{type:"boolean",default:!1,hidden:!0,description:"Temporary option for testing."},"skip-persisting-customizations-from-features":{type:"boolean",default:!1,hidden:!0,description:"Do not save customizations from referenced Features as image metadata"},"experimental-lockfile":{type:"boolean",default:!1,hidden:!0,description:"Write lockfile"},"experimental-frozen-lockfile":{type:"boolean",default:!1,hidden:!0,description:"Ensure lockfile remains unchanged"}})}function Pne(t){(async()=>Tne(t))().catch(console.error)}async function Tne(t){let e=await One(t),r=e.outcome==="error"?1:0;console.log(JSON.stringify(e)),await e.dispose(),process.exit(r)}async function One({"user-data-folder":t,"docker-path":e,"docker-compose-path":r,"workspace-folder":n,config:i,"log-level":s,"log-format":o,"no-cache":a,"image-name":u,"cache-from":f,buildkit:c,platform:d,push:p,output:l,"additional-features":h,"skip-feature-auto-mapping":y,"skip-persisting-customizations-from-features":g,"experimental-lockfile":v,"experimental-frozen-lockfile":b}){let x=[],E=async()=>{await Promise.all(x.map(S=>S()))};try{let S=Nt.resolve(process.cwd(),n),F=i?Kt.file(Nt.resolve(process.cwd(),i)):void 0,P=void 0,V=f?Array.isArray(f)?f:[f]:[],H=h?Je(h):{},j=await yo({dockerPath:e,dockerComposePath:r,containerDataFolder:void 0,containerSystemDataFolder:void 0,workspaceFolder:S,mountWorkspaceGitRoot:!1,configFile:F,overrideConfigFile:P,logLevel:Ot(s),logFormat:o,log:me=>process.stderr.write(me),terminalDimensions:void 0,defaultUserEnvProbe:"loginInteractiveShell",removeExistingContainer:!1,buildNoCache:a,expectExistingContainer:!1,postCreateEnabled:!1,skipNonBlocking:!1,prebuild:!1,persistedFolder:t,additionalMounts:[],updateRemoteUserUIDDefault:"never",remoteEnv:{},additionalCacheFroms:V,useBuildKit:c,buildxPlatform:d,buildxPush:p,buildxOutput:l,skipFeatureAutoMapping:y,skipPostAttach:!0,skipPersistingCustomizationsFromFeatures:g,dotfiles:{},experimentalLockfile:v,experimentalFrozenLockfile:b},x),{common:R,dockerCLI:N,dockerComposeCLI:J}=j,{cliHost:K,env:X,output:z}=R,T=mo(K.path,S),W=F||(T?await $s(K,T.configFolderPath)||(P?yn(K,T.configFolderPath):void 0):P),L=W&&await go(K,T,W,j.mountWorkspaceGitRoot,z,void 0,P)||void 0;if(!L)throw new Me({description:`Dev container config (${At(F||yn(K,T.configFolderPath),K.platform)}) not found.`});let $=L.config,{config:Z}=$,ie=[""];if(l&&p)throw new Me({description:"--push true cannot be used with --output."});let he={cliHost:K,dockerCLI:N,dockerComposeCLI:J,env:X,output:z};await Lg(he,Z,H,void 0);let ee=u&&(Array.isArray(u)?u:[u])||void 0;if(jn(Z)){let{updatedImageName:me}=await fC(j,$,H,!1,ee);ee?(!p&&!l&&await Promise.all(ee.map(ce=>gn(j,"tag",me[0],ce))),ie=ee):ie=me}else if("dockerComposeFile"in Z){if(d||p)throw new Me({description:"--platform or --push not supported."});if(l)throw new Me({description:"--output not supported."});let me=K.path.join(K.cwd,".env"),ce=Array.isArray(Z.dockerComposeFile)&&Z.dockerComposeFile.length===0&&await K.isFile(me)?me:void 0,ye=await ru(K,Z,K.env,S),Le=[].concat(...ye.map(ge=>["-f",ge]));ce&&Le.push("--env-file",ce);let fe=await cC(j,T,ye),se=await Dl(he,ye,ce);if(Object.keys(se.services||{}).indexOf(Z.service)===-1)throw new Error(`Service '${Z.service}' configured in devcontainer.json not found in Docker Compose configuration.`);let ue=await uC(K,ye),pe={...j,common:{...j.common,output:dt(he.output,3)}},{overrideImageName:ve}=await aC($,fe,pe,ye,ce,Le,[Z.service],j.buildNoCache||!1,j.common.persistedFolder,"docker-compose.devcontainer.build",ue,H,!1,V),U=se.services[Z.service],G=ve||U.image||lC(await he.dockerComposeCLI(),fe,Z.service);ee?(await Promise.all(ee.map(ge=>gn(j,"tag",G,ge))),ie=ee):ie=G}else{if(!Z.image)throw new Me({description:"No image information specified in devcontainer.json."});await As(j,Z.image,!0);let{updatedImageName:me}=await _g(j,$,Z.image,H,!1);ee?(await Promise.all(ee.map(ce=>gn(j,"tag",me[0],ce))),ie=ee):ie=me}return{outcome:"success",imageName:ie,dispose:E}}catch(S){let F=S==null?void 0:S.stack,P=S instanceof Me?S:new Me({description:"An error occurred building the container.",originalError:S});return F&&console.error(F),{outcome:"error",message:P.message,description:P.description,dispose:E}}}function Rne(t){return t.options({"user-data-folder":{type:"string",description:"Host path to a directory that is intended to be persisted and share state between sessions."},"docker-path":{type:"string",description:"Docker CLI path."},"docker-compose-path":{type:"string",description:"Docker Compose CLI path."},"container-data-folder":{type:"string",description:"Container data folder where user data inside the container will be stored."},"container-system-data-folder":{type:"string",description:"Container system data folder where system data inside the container will be stored."},"workspace-folder":{type:"string",description:"Workspace folder path. The devcontainer.json will be looked up relative to this path."},"mount-workspace-git-root":{type:"boolean",default:!0,description:"Mount the workspace using its Git root."},"container-id":{type:"string",description:"Id of the container to run the user commands for."},"id-label":{type:"string",description:"Id label(s) of the format name=value. If no --container-id is given the id labels will be used to look up the container. If no --id-label is given, one will be inferred from the --workspace-folder path."},config:{type:"string",description:"devcontainer.json path. The default is to use .devcontainer/devcontainer.json or, if that does not exist, .devcontainer.json in the workspace folder."},"override-config":{type:"string",description:"devcontainer.json path to override any devcontainer.json in the workspace folder (or built-in configuration). This is required when there is no devcontainer.json otherwise."},"log-level":{choices:["info","debug","trace"],default:"info",description:"Log level for the --terminal-log-file. When set to trace, the log level for --log-file will also be set to trace."},"log-format":{choices:["text","json"],default:"text",description:"Log format."},"terminal-columns":{type:"number",implies:["terminal-rows"],description:"Number of rows to render the output for. This is required for some of the subprocesses to correctly render their output."},"terminal-rows":{type:"number",implies:["terminal-columns"],description:"Number of columns to render the output for. This is required for some of the subprocesses to correctly render their output."},"default-user-env-probe":{choices:["none","loginInteractiveShell","interactiveShell","loginShell"],default:r0,description:`Default value for the devcontainer.json's "userEnvProbe".`},"skip-non-blocking-commands":{type:"boolean",default:!1,description:"Stop running user commands after running the command configured with waitFor or the updateContentCommand by default."},prebuild:{type:"boolean",default:!1,description:"Stop after onCreateCommand and updateContentCommand, rerunning updateContentCommand if it has run before."},"stop-for-personalization":{type:"boolean",default:!1,description:"Stop for personalization."},"remote-env":{type:"string",description:"Remote environment variables of the format name=value. These will be added when executing the user commands."},"skip-feature-auto-mapping":{type:"boolean",default:!1,hidden:!0,description:"Temporary option for testing."},"skip-post-attach":{type:"boolean",default:!1,description:"Do not run postAttachCommand."},"dotfiles-repository":{type:"string",description:"URL of a dotfiles Git repository (e.g., https://github.com/owner/repository.git)"},"dotfiles-install-command":{type:"string",description:"The command to run after cloning the dotfiles repository. Defaults to run the first file of `install.sh`, `install`, `bootstrap.sh`, `bootstrap`, `setup.sh` and `setup` found in the dotfiles repository`s root folder."},"dotfiles-target-path":{type:"string",default:"~/dotfiles",description:"The path to clone the dotfiles repository to. Defaults to `~/dotfiles`."},"container-session-data-folder":{type:"string",description:"Folder to cache CLI data, for example userEnvProbe results"},"secrets-file":{type:"string",description:"Path to a json file containing secret environment variables as key-value pairs."}}).check(e=>{let r=e["id-label"]&&(Array.isArray(e["id-label"])?e["id-label"]:[e["id-label"]]);if(r!=null&&r.some(i=>!/.+=.+/.test(i)))throw new Error("Unmatched argument format: id-label must match <name>=<value>");let n=e["remote-env"]&&(Array.isArray(e["remote-env"])?e["remote-env"]:[e["remote-env"]]);if(n!=null&&n.some(i=>!/.+=.+/.test(i)))throw new Error("Unmatched argument format: remote-env must match <name>=<value>");if(!e["container-id"]&&!(r!=null&&r.length)&&!e["workspace-folder"])throw new Error("Missing required argument: One of --container-id, --id-label or --workspace-folder is required.");return!0})}function Bne(t){(async()=>Lne(t))().catch(console.error)}async function Lne(t){let e=await Nne(t),r=e.outcome==="error"?1:0;console.log(JSON.stringify(e)),await e.dispose(),process.exit(r)}async function Nne({"user-data-folder":t,"docker-path":e,"docker-compose-path":r,"container-data-folder":n,"container-system-data-folder":i,"workspace-folder":s,"mount-workspace-git-root":o,"container-id":a,"id-label":u,config:f,"override-config":c,"log-level":d,"log-format":p,"terminal-rows":l,"terminal-columns":h,"default-user-env-probe":y,"skip-non-blocking-commands":g,prebuild:v,"stop-for-personalization":b,"remote-env":x,"skip-feature-auto-mapping":E,"skip-post-attach":S,"dotfiles-repository":F,"dotfiles-install-command":P,"dotfiles-target-path":V,"container-session-data-folder":H,"secrets-file":j}){let R=[],N=async()=>{await Promise.all(R.map(J=>J()))};try{let J=s?Nt.resolve(process.cwd(),s):void 0,K=u?Array.isArray(u)?u:[u]:void 0,X=x?Array.isArray(x)?x:[x]:[],z=f?Kt.file(Nt.resolve(process.cwd(),f)):void 0,T=c?Kt.file(Nt.resolve(process.cwd(),c)):void 0,W=J||process.cwd(),L=await yr(W,Er),$=WM({secretsFile:j,cliHost:L}),Z=await yo({dockerPath:e,dockerComposePath:r,containerDataFolder:n,containerSystemDataFolder:i,workspaceFolder:J,mountWorkspaceGitRoot:o,configFile:z,overrideConfigFile:T,logLevel:Ot(d),logFormat:p,log:ae=>process.stderr.write(ae),terminalDimensions:h&&l?{columns:h,rows:l}:void 0,defaultUserEnvProbe:y,removeExistingContainer:!1,buildNoCache:!1,expectExistingContainer:!1,postCreateEnabled:!0,skipNonBlocking:g,prebuild:v,persistedFolder:t,additionalMounts:[],updateRemoteUserUIDDefault:"never",remoteEnv:pr(X),additionalCacheFroms:[],useBuildKit:"auto",buildxPlatform:void 0,buildxPush:!1,buildxOutput:void 0,skipFeatureAutoMapping:E,skipPostAttach:S,skipPersistingCustomizationsFromFeatures:!1,dotfiles:{repository:F,installCommand:P,targetPath:V},containerSessionDataFolder:H,secretsP:$},R),{common:ie}=Z,{output:he}=ie,ee=J?mo(L.path,J):void 0,me=z||(ee?await $s(L,ee.configFolderPath)||(T?yn(L,ee.configFolderPath):void 0):T),ce=me&&await go(L,ee,me,Z.mountWorkspaceGitRoot,he,void 0,T)||void 0;if((z||J||T)&&!ce)throw new Me({description:`Dev container config (${At(z||yn(L,ee.configFolderPath),L.platform)}) not found.`});let ye=(ce==null?void 0:ce.config)||{raw:{},config:{},substitute:ae=>Mo({platform:L.platform,env:L.env},ae)},{container:Le,idLabels:fe}=await _l(Z,a,K,J,me==null?void 0:me.fsPath);Le||Fl(ie.output,"Dev container not found.");let se=_s(ye,ae=>Ka(pr(fe),ae)),te=_s(se,ae=>Xi(L.platform,se.config.configFilePath,pr(Le.Config.Env),ae)),ue=Ds(Le,te,void 0,fe,he).config,pe=wi(te.config,ue),ve=await po(Z,Le.Id,ce==null?void 0:ce.workspaceConfig.workspaceFolder,pe.remoteUser),U=Xi(L.platform,te.config.configFilePath,ve.env,pe),G=qh(ie,ve,U);return{outcome:"success",result:await W0(ie,Ia(ue),ve,U,G,$,b),dispose:N}}catch(J){let K=J==null?void 0:J.stack,X=J instanceof Me?J:new Me({description:"An error occurred running user commands in the container.",originalError:J});return K&&console.error(K),{outcome:"error",message:X.message,description:X.description,dispose:N}}}function Mne(t){return t.options({"user-data-folder":{type:"string",description:"Host path to a directory that is intended to be persisted and share state between sessions."},"docker-path":{type:"string",description:"Docker CLI path."},"docker-compose-path":{type:"string",description:"Docker Compose CLI path."},"workspace-folder":{type:"string",description:"Workspace folder path. The devcontainer.json will be looked up relative to this path."},"mount-workspace-git-root":{type:"boolean",default:!0,description:"Mount the workspace using its Git root."},"container-id":{type:"string",description:"Id of the container to run the user commands for."},"id-label":{type:"string",description:"Id label(s) of the format name=value. If no --container-id is given the id labels will be used to look up the container. If no --id-label is given, one will be inferred from the --workspace-folder path."},config:{type:"string",description:"devcontainer.json path. The default is to use .devcontainer/devcontainer.json or, if that does not exist, .devcontainer.json in the workspace folder."},"override-config":{type:"string",description:"devcontainer.json path to override any devcontainer.json in the workspace folder (or built-in configuration). This is required when there is no devcontainer.json otherwise."},"log-level":{choices:["info","debug","trace"],default:"info",description:"Log level for the --terminal-log-file. When set to trace, the log level for --log-file will also be set to trace."},"log-format":{choices:["text","json"],default:"text",description:"Log format."},"terminal-columns":{type:"number",implies:["terminal-rows"],description:"Number of rows to render the output for. This is required for some of the subprocesses to correctly render their output."},"terminal-rows":{type:"number",implies:["terminal-columns"],description:"Number of columns to render the output for. This is required for some of the subprocesses to correctly render their output."},"include-features-configuration":{type:"boolean",default:!1,description:"Include features configuration."},"include-merged-configuration":{type:"boolean",default:!1,description:"Include merged configuration."},"additional-features":{type:"string",description:'Additional features to apply to the dev container (JSON as per "features" section in devcontainer.json)'},"skip-feature-auto-mapping":{type:"boolean",default:!1,hidden:!0,description:"Temporary option for testing."}}).check(e=>{let r=e["id-label"]&&(Array.isArray(e["id-label"])?e["id-label"]:[e["id-label"]]);if(r!=null&&r.some(n=>!/.+=.+/.test(n)))throw new Error("Unmatched argument format: id-label must match <name>=<value>");if(!e["container-id"]&&!(r!=null&&r.length)&&!e["workspace-folder"])throw new Error("Missing required argument: One of --container-id, --id-label or --workspace-folder is required.");return!0})}function jne(t){(async()=>$ne(t))().catch(console.error)}async function $ne({"docker-path":t,"docker-compose-path":e,"workspace-folder":r,"mount-workspace-git-root":n,config:i,"override-config":s,"container-id":o,"id-label":a,"log-level":u,"log-format":f,"terminal-rows":c,"terminal-columns":d,"include-features-configuration":p,"include-merged-configuration":l,"additional-features":h,"skip-feature-auto-mapping":y}){let g=[],v=async()=>{await Promise.all(g.map(x=>x()))},b;try{let x=r?Nt.resolve(process.cwd(),r):void 0,E=a?Array.isArray(a)?a:[a]:void 0,S=i?Kt.file(Nt.resolve(process.cwd(),i)):void 0,F=s?Kt.file(Nt.resolve(process.cwd(),s)):void 0,P=x||process.cwd(),V=await yr(P,Er),H=Nt.join(__dirname,"..",".."),j=new Date,R=Jt();b=Tr({logLevel:Ot(u),logFormat:f,log:me=>process.stderr.write(me),terminalDimensions:d&&c?{columns:d,rows:c}:void 0},R,j,g);let N=x?mo(V.path,x):void 0,J=S||(N?await $s(V,N.configFolderPath)||(F?yn(V,N.configFolderPath):void 0):F),K=J&&await go(V,N,J,n,b,void 0,F)||void 0;if((S||x||F)&&!K)throw new Me({description:`Dev container config (${At(S||yn(V,N.configFolderPath),V.platform)}) not found.`});let X=(K==null?void 0:K.config)||{raw:{},config:{},substitute:me=>Mo({platform:V.platform,env:V.env},me)},z=t||"docker",T=Tg({exec:V.exec,env:V.env,output:b},z,e||"docker-compose"),W={cliHost:V,dockerCLI:z,dockerComposeCLI:T,env:V.env,output:b},{container:L,idLabels:$}=await _l(W,o,E,x,J==null?void 0:J.fsPath);L&&(X=_s(X,me=>Ka(pr($),me)),X=_s(X,me=>Xi(V.platform,X.config.configFilePath,pr(L.Config.Env),me)));let Z=h?Je(h):{},he=p||l&&!L?await Une(W,R,X.config,H,y,Z):void 0,ee;if(l){let me;if(L){me=Ds(L,X,he,$,b).config;let ce=ye=>Xi(V.platform,X.config.configFilePath,pr(L.Config.Env),ye);me=me.map(ce)}else{let ce=await WN(W,X);me=on(ce.metadata,X,he).config}ee=wi(X.config,me)}await new Promise((me,ce)=>{process.stdout.write(JSON.stringify({configuration:X.config,workspace:K==null?void 0:K.workspaceConfig,featuresConfiguration:he,mergedConfiguration:ee})+`
`,ye=>ye?ce(ye):me())})}catch(x){b?b.write(x&&(x.stack||x.message)||String(x)):console.error(x),await v(),process.exit(1)}await v(),process.exit(0)}async function Une(t,e,r,n,i,s){let{cliHost:o,output:a}=t,{cwd:u,env:f,platform:c}=o,d=await Ig({cliHost:o,package:e}),p=await xi(o);return xg({extensionPath:n,cacheFolder:p,cwd:u,output:a,env:f,skipFeatureAutoMapping:i,platform:c},d,r,Uf,s)}function qne(t){return t.options({"user-data-folder":{type:"string",description:"Host path to a directory that is intended to be persisted and share state between sessions."},"workspace-folder":{type:"string",required:!0,description:"Workspace folder path. The devcontainer.json will be looked up relative to this path."},config:{type:"string",description:"devcontainer.json path. The default is to use .devcontainer/devcontainer.json or, if that does not exist, .devcontainer.json in the workspace folder."},"log-level":{choices:["info","debug","trace"],default:"info",description:"Log level for the --terminal-log-file. When set to trace, the log level for --log-file will also be set to trace."},"log-format":{choices:["text","json"],default:"text",description:"Log format."},"terminal-columns":{type:"number",implies:["terminal-rows"],description:"Number of rows to render the output for. This is required for some of the subprocesses to correctly render their output."},"terminal-rows":{type:"number",implies:["terminal-columns"],description:"Number of columns to render the output for. This is required for some of the subprocesses to correctly render their output."}})}function Vne(t){(async()=>Hne(t))().catch(console.error)}async function Hne({"workspace-folder":t,config:e,"log-level":r,"log-format":n,"terminal-rows":i,"terminal-columns":s}){let o=[],a=async()=>{await Promise.all(o.map(f=>f()))},u;try{let f=Nt.resolve(process.cwd(),t),c=e?Kt.file(Nt.resolve(process.cwd(),e)):void 0,d=await yr(f,Er),p=Nt.join(__dirname,"..",".."),l=new Date,h=Jt();u=Tr({logLevel:Ot(r),logFormat:n,log:S=>process.stderr.write(S),terminalDimensions:s&&i?{columns:s,rows:i}:void 0},h,l,o);let y=mo(d.path,f),g=c||await $s(d,y.configFolderPath),v=g&&await go(d,y,g,!0,u)||void 0;if(!v)throw new Me({description:`Dev container config (${At(c||yn(d,y.configFolderPath),d.platform)}) not found.`});let b=await xi(d),x={extensionPath:p,cacheFolder:b,cwd:d.cwd,output:u,env:d.env,skipFeatureAutoMapping:!1,platform:d.platform},E=await FN(x,v.config.config);await new Promise((S,F)=>{process.stdout.write(JSON.stringify(E,void 0,process.stdout.isTTY?"  ":void 0)+`
`,P=>P?F(P):S())})}catch(f){u?u.write(f&&(f.stack||f.message)||String(f)):console.error(f),await a(),process.exit(1)}await a(),process.exit(0)}function zne(t){return t.options({"user-data-folder":{type:"string",description:"Host path to a directory that is intended to be persisted and share state between sessions."},"docker-path":{type:"string",description:"Docker CLI path."},"docker-compose-path":{type:"string",description:"Docker Compose CLI path."},"container-data-folder":{type:"string",description:"Container data folder where user data inside the container will be stored."},"container-system-data-folder":{type:"string",description:"Container system data folder where system data inside the container will be stored."},"workspace-folder":{type:"string",description:"Workspace folder path. The devcontainer.json will be looked up relative to this path."},"mount-workspace-git-root":{type:"boolean",default:!0,description:"Mount the workspace using its Git root."},"container-id":{type:"string",description:"Id of the container to run the user commands for."},"id-label":{type:"string",description:"Id label(s) of the format name=value. If no --container-id is given the id labels will be used to look up the container. If no --id-label is given, one will be inferred from the --workspace-folder path."},config:{type:"string",description:"devcontainer.json path. The default is to use .devcontainer/devcontainer.json or, if that does not exist, .devcontainer.json in the workspace folder."},"override-config":{type:"string",description:"devcontainer.json path to override any devcontainer.json in the workspace folder (or built-in configuration). This is required when there is no devcontainer.json otherwise."},"log-level":{choices:["info","debug","trace"],default:"info",description:"Log level for the --terminal-log-file. When set to trace, the log level for --log-file will also be set to trace."},"log-format":{choices:["text","json"],default:"text",description:"Log format."},"terminal-columns":{type:"number",implies:["terminal-rows"],description:"Number of rows to render the output for. This is required for some of the subprocesses to correctly render their output."},"terminal-rows":{type:"number",implies:["terminal-columns"],description:"Number of columns to render the output for. This is required for some of the subprocesses to correctly render their output."},"default-user-env-probe":{choices:["none","loginInteractiveShell","interactiveShell","loginShell"],default:r0,description:`Default value for the devcontainer.json's "userEnvProbe".`},"remote-env":{type:"string",description:"Remote environment variables of the format name=value. These will be added when executing the user commands."},"skip-feature-auto-mapping":{type:"boolean",default:!1,hidden:!0,description:"Temporary option for testing."}}).positional("cmd",{type:"string",description:"Command to execute.",demandOption:!0}).positional("args",{type:"string",array:!0,description:"Arguments to the command.",demandOption:!0}).check(e=>{let r=e["id-label"]&&(Array.isArray(e["id-label"])?e["id-label"]:[e["id-label"]]);if(r!=null&&r.some(i=>!/.+=.+/.test(i)))throw new Error("Unmatched argument format: id-label must match <name>=<value>");let n=e["remote-env"]&&(Array.isArray(e["remote-env"])?e["remote-env"]:[e["remote-env"]]);if(n!=null&&n.some(i=>!/.+=.+/.test(i)))throw new Error("Unmatched argument format: remote-env must match <name>=<value>");if(!e["container-id"]&&!(r!=null&&r.length)&&!e["workspace-folder"])throw new Error("Missing required argument: One of --container-id, --id-label or --workspace-folder is required.");return!0})}function Wne(t){(async()=>Gne(t))().catch(console.error)}async function Gne(t){let e=await qg(t),r=typeof e.code=="number"&&(e.code||!e.signal)?e.code:typeof e.signal=="number"&&e.signal>0?128+e.signal:typeof e.signal=="string"&&U0[e.signal]?128+U0[e.signal]:1;await e.dispose(),process.exit(r)}async function qg({"user-data-folder":t,"docker-path":e,"docker-compose-path":r,"container-data-folder":n,"container-system-data-folder":i,"workspace-folder":s,"mount-workspace-git-root":o,"container-id":a,"id-label":u,config:f,"override-config":c,"log-level":d,"log-format":p,"terminal-rows":l,"terminal-columns":h,"default-user-env-probe":y,"remote-env":g,"skip-feature-auto-mapping":v,_:b}){let x=[],E=async()=>{await Promise.all(x.map(P=>P()))},S,F=process.stdin.isTTY&&process.stdout.isTTY||p==="json";try{let P=s?Nt.resolve(process.cwd(),s):void 0,V=u?Array.isArray(u)?u:[u]:void 0,H=g?Array.isArray(g)?g:[g]:[],j=f?Kt.file(Nt.resolve(process.cwd(),f)):void 0,R=c?Kt.file(Nt.resolve(process.cwd(),c)):void 0,N=await yo({dockerPath:e,dockerComposePath:r,containerDataFolder:n,containerSystemDataFolder:i,workspaceFolder:P,mountWorkspaceGitRoot:o,configFile:j,overrideConfigFile:R,logLevel:Ot(d),logFormat:p,log:ye=>process.stderr.write(ye),terminalDimensions:h&&l?{columns:h,rows:l}:F?{columns:process.stdout.columns,rows:process.stdout.rows}:void 0,onDidChangeTerminalDimensions:h&&l?void 0:F?Jne(x):void 0,defaultUserEnvProbe:y,removeExistingContainer:!1,buildNoCache:!1,expectExistingContainer:!1,postCreateEnabled:!0,skipNonBlocking:!1,prebuild:!1,persistedFolder:t,additionalMounts:[],updateRemoteUserUIDDefault:"never",remoteEnv:pr(H),additionalCacheFroms:[],useBuildKit:"auto",omitLoggerHeader:!0,buildxPlatform:void 0,buildxPush:!1,skipFeatureAutoMapping:v,buildxOutput:void 0,skipPostAttach:!1,skipPersistingCustomizationsFromFeatures:!1,dotfiles:{}},x),{common:J}=N,{cliHost:K}=J;S=J.output;let X=P?mo(K.path,P):void 0,z=j||(X?await $s(K,X.configFolderPath)||(R?yn(K,X.configFolderPath):void 0):R),T=z&&await go(K,X,z,N.mountWorkspaceGitRoot,S,void 0,R)||void 0;if((j||P||R)&&!T)throw new Me({description:`Dev container config (${At(j||yn(K,X.configFolderPath),K.platform)}) not found.`});let W=(T==null?void 0:T.config)||{raw:{},config:{},substitute:ye=>Mo({platform:K.platform,env:K.env},ye)},{container:L,idLabels:$}=await _l(N,a,V,P,z==null?void 0:z.fsPath);L||Fl(J.output,"Dev container not found.");let Z=Ds(L,W,void 0,$,S).config,ie=wi(W.config,Z),he=await po(N,L.Id,T==null?void 0:T.workspaceConfig.workspaceFolder,ie.remoteUser),ee=Xi(K.platform,W.config.configFilePath,he.env,ie),me=qh(J,he,ee),ce=he.remoteWorkspaceFolder||he.homeFolder;return await J0({...J,output:S,stdin:process.stdin,...p!=="json"?{stdout:process.stdout,stderr:process.stderr}:{}},he,b||[],ce,{remoteEnv:await me,pty:F,print:"continuous"}),{code:0,dispose:E}}catch(P){return!(P!=null&&P.code)&&!(P!=null&&P.signal)&&(S?S.write((P==null?void 0:P.stack)||(P==null?void 0:P.message)||String(P),5):console.error((P==null?void 0:P.stack)||(P==null?void 0:P.message)||String(P))),{code:P==null?void 0:P.code,signal:P==null?void 0:P.signal,dispose:E}}}function Jne(t){let e=()=>{r.fire({rows:process.stdout.rows,columns:process.stdout.columns})},r=new Ga({on:()=>process.stdout.on("resize",e),off:()=>process.stdout.off("resize",e)});return t.push(()=>r.dispose()),r.event}async function WM(t){let{secretsFile:e,cliHost:r,output:n}=t;if(!e)return{};try{let i=await r.readFile(e),s=[],o=Je(i.toString(),s);if(s.length)throw new Error("Invalid json data");return o}catch(i){throw n&&n.write(`Failed to read/parse secrets from file '${e}'`,5),new Me({description:"Failed to read/parse secrets",originalError:i})}}0&&(module.exports={doExec});
/*! Bundled license information:

yargs-parser/build/lib/string-utils.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/tokenize-arg-string.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser-types.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/index.js:
  (**
   * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
   * CJS and ESM environments.
   *
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
//# sourceMappingURL=devContainersSpecCLI.js.map
